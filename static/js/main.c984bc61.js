/*! For license information please see main.c984bc61.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var _=Array.isArray,k=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===a?"."+A(l,0):a,_(o)?(i="",null!=e&&(i=e.replace(E,"$&/")+"/"),C(o,t,i,"",function(e){return e})):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",_(e))for(var c=0;c<e.length;c++){var u=a+A(s=e[c],c);l+=C(s,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=C(s=s.value,t,i,u=a+A(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",function(e){return t.call(n,e,i++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},D={transition:null},O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:D,ReactCurrentOwner:x};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:N,forEach:function(e,t,n){N(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,D(k);else{var t=r(u);null!==t&&O(_,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,v(I),I=-1),f=!0;var a=p;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var o=h.callback;if("function"===typeof o){h.callback=null,p=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&O(_,d.startTime-n),l=!1}return l}finally{h=null,p=a,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,T=null,I=-1,E=5,A=-1;function C(){return!(t.unstable_now()-A<E)}function N(){if(null!==T){var e=t.unstable_now();A=e;var n=!0;try{n=T(!0,e)}finally{n?x():(S=!1,T=null)}}else S=!1}if("function"===typeof b)x=function(){b(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=N,x=function(){R.postMessage(null)}}else x=function(){y(N,0)};function D(e){T=e,S||(S=!0,x())}function O(e,n){I=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,D(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(v(I),I=-1):g=!0,O(_,a-o))):(e.sortIndex=s,n(c,e),m||f||(m=!0,D(k))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),k=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),E=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,U=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var F=!1;function V(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function $(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case k:return"Portal";case T:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function B(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=B(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Y(e,t){J(e,t);var n=B(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,B(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+B(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:B(n)}}function ae(e,t){var n=B(t.value),r=B(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ye=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,xe=null,Se=null;function Te(e){if(e=wi(e)){if("function"!==typeof ke)throw Error(a(280));var t=e.stateNode;t&&(t=ki(t),ke(e.stateNode,e.type,t))}}function Ie(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Ee(){if(xe){var e=xe,t=Se;if(Se=xe=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ae(e,t){return e(t)}function Ce(){}var Ne=!1;function Pe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ae(e,t,n)}finally{Ne=!1,(null!==xe||null!==Se)&&(Ce(),Ee())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=ki(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){De=!1}function Le(e,t,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Ue=null,je=!1,Fe=null,Ve={onError:function(e){Me=!0,Ue=e}};function $e(e,t,n,r,i,a,o,s,l){Me=!1,Ue=null,Le.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Be(e){if(ze(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Be(i),e;if(o===r)return Be(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Qe(e):null}function Qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Qe(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Je=i.unstable_now,Ye=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=dt(s):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~i)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,kt,xt,St,Tt,It=!1,Et=[],At=null,Ct=null,Nt=null,Pt=new Map,Rt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ut(e){var t=bi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Tt(e.priority,function(){xt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ft(e,t,n){jt(e)&&n.delete(t)}function Vt(){It=!1,null!==At&&jt(At)&&(At=null),null!==Ct&&jt(Ct)&&(Ct=null),null!==Nt&&jt(Nt)&&(Nt=null),Pt.forEach(Ft),Rt.forEach(Ft)}function $t(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return $t(t,e)}if(0<Et.length){$t(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&$t(At,e),null!==Ct&&$t(Ct,e),null!==Nt&&$t(Nt,e),Pt.forEach(t),Rt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ut(n),null===n.blockedOn&&Dt.shift()}var qt=w.ReactCurrentBatchConfig,Bt=!0;function Ht(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Wt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Qt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Wt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Wt(e,t,n,r){if(Bt){var i=Kt(e,t,n,r);if(null===i)Br(e,t,r,Gt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return At=Mt(At,e,t,n,r,i),!0;case"dragenter":return Ct=Mt(Ct,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=wi(i);if(null!==a&&_t(a),null===(a=Kt(e,t,n,r))&&Br(e,t,r,Gt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Br(e,t,r,null,n)}}var Gt=null;function Kt(e,t,n,r){if(Gt=null,null!==(e=bi(e=_e(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Yt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Yt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=U({},cn,{view:0,detail:0}),hn=an(dn),pn=U({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=an(pn),mn=an(U({},pn,{dataTransfer:0})),gn=an(U({},dn,{relatedTarget:0})),yn=an(U({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=U({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(vn),wn=an(U({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Tn(){return Sn}var In=U({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=an(In),An=an(U({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(U({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Nn=an(U({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=U({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(Pn),Dn=[9,13,27,32],On=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,Un=u&&(!On||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Fn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $n(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ie(r),0<(t=Qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Wn=null;function Gn(e){jr(e,0)}function Kn(e){if(W(_i(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Yn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Yn=Zn}else Yn=!1;Jn=Yn&&(!document.documentMode||9<document.documentMode)}function tr(){Qn&&(Qn.detachEvent("onpropertychange",nr),Wn=Qn=null)}function nr(e){if("value"===e.propertyName&&Kn(Wn)){var t=[];Hn(t,Wn,e,_e(e)),Pe(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Wn)}function ar(e,t){if("click"===e)return Kn(t)}function or(e,t){if("input"===e||"change"===e)return Kn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=ur(n,a);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Qr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},xr={},Sr={};function Tr(e){if(xr[e])return xr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return xr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Ir=Tr("animationend"),Er=Tr("animationiteration"),Ar=Tr("animationstart"),Cr=Tr("transitionend"),Nr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Nr.set(e,t),l(t,[e])}for(var Dr=0;Dr<Pr.length;Dr++){var Or=Pr[Dr];Rr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Rr(Ir,"onAnimationEnd"),Rr(Er,"onAnimationIteration"),Rr(Ar,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,c){if($e.apply(this,arguments),Me){if(!Me)throw Error(a(198));var u=Ue;Me=!1,Ue=null,je||(je=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Ur(i,s,c),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Ur(i,s,c),a=l}}}if(je)throw e=Fe,je=!1,Fe=null,e}function Fr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var $r="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[$r]){e[$r]=!0,o.forEach(function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$r]||(t[$r]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Ht;break;case 4:i=Qt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Br(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=bi(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe(function(){var r=a,i=_e(n),o=[];e:{var s=Nr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case Ir:case Er:case Ar:l=yn;break;case Cr:l=Nn;break;case"scroll":l=hn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Re(f,h))&&u.push(Hr(f,m,p)))),d)break;f=f.return}0<u.length&&(s=new l(s,c,null,n,i),o.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!bi(c)&&!c[mi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?bi(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=An,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?s:_i(l),p=null==c?s:_i(c),(s=new u(m,f+"leave",l,n,i)).target=d,s.relatedTarget=p,m=null,bi(i)===r&&((u=new u(h,f+"enter",c,n,i)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Wr(p))f++;for(p=0,m=h;m;m=Wr(m))p++;for(;0<f-p;)u=Wr(u),f--;for(;0<p-f;)h=Wr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Wr(u),h=Wr(h)}u=null}else u=null;null!==l&&Gr(o,s,l,u,!1),null!==c&&null!==d&&Gr(o,d,c,u,!0)}if("select"===(l=(s=r?_i(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Xn;else if(Bn(s))if(Jn)g=or;else{g=ir;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ar);switch(g&&(g=g(e,r))?Hn(o,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?_i(r):window,e){case"focusin":(Bn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(o,n,i)}var v;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(v=en()):(Yt="value"in(Jt=i)?Jt.value:Jt.textContent,zn=!0)),0<(y=Qr(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:y}),v?b.data=v:null!==(v=$n(n))&&(b.data=v))),(v=Mn?function(e,t){switch(e){case"compositionend":return $n(t);case"keypress":return 32!==t.which?null:(Fn=!0,jn);case"textInput":return(e=t.data)===jn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Zt=Yt=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Qr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}jr(o,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Re(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Re(n,a))&&o.unshift(Hr(n,l,s)):i||null!=(l=Re(n,a))&&o.push(Hr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Kr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Xr,"")}function Yr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ii="function"===typeof setTimeout?setTimeout:void 0,ai="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(li)}:ii;function li(e){setTimeout(function(){throw e})}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function di(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),pi="__reactFiber$"+hi,fi="__reactProps$"+hi,mi="__reactContainer$"+hi,gi="__reactEvents$"+hi,yi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function bi(e){var t=e[pi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mi]||n[pi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=di(e);null!==e;){if(n=e[pi])return n;e=di(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[pi]||e[mi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _i(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ki(e){return e[fi]||null}var xi=[],Si=-1;function Ti(e){return{current:e}}function Ii(e){0>Si||(e.current=xi[Si],xi[Si]=null,Si--)}function Ei(e,t){Si++,xi[Si]=e.current,e.current=t}var Ai={},Ci=Ti(Ai),Ni=Ti(!1),Pi=Ai;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ai;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ii(Ni),Ii(Ci)}function Li(e,t,n){if(Ci.current!==Ai)throw Error(a(168));Ei(Ci,t),Ei(Ni,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return U({},n,r)}function Ui(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ai,Pi=Ci.current,Ei(Ci,e),Ei(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ni),Ii(Ci),Ei(Ci,e)):Ii(Ni),Ei(Ni,n)}var Fi=null,Vi=!1,$i=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function qi(){if(!$i&&null!==Fi){$i=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Vi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),We(Ze,qi),i}finally{bt=t,$i=!1}}return null}var Bi=[],Hi=0,Qi=null,Wi=0,Gi=[],Ki=0,Ji=null,Yi=1,Zi="";function ea(e,t){Bi[Hi++]=Wi,Bi[Hi++]=Qi,Qi=e,Wi=t}function ta(e,t,n){Gi[Ki++]=Yi,Gi[Ki++]=Zi,Gi[Ki++]=Ji,Ji=e;var r=Yi;e=Zi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Zi=a+e}else Yi=1<<a|n<<i|r,Zi=e}function na(e){null!==e.return&&(ea(e,1),ta(e,1,0))}function ra(e){for(;e===Qi;)Qi=Bi[--Hi],Bi[Hi]=null,Wi=Bi[--Hi],Bi[Hi]=null;for(;e===Ji;)Ji=Gi[--Ki],Gi[Ki]=null,Zi=Gi[--Ki],Gi[Ki]=null,Yi=Gi[--Ki],Gi[Ki]=null}var ia=null,aa=null,oa=!1,sa=null;function la(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ca(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ia=e,aa=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ia=e,aa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ji?{id:Yi,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ia=e,aa=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function da(e){if(oa){var t=aa;if(t){var n=t;if(!ca(e,t)){if(ua(e))throw Error(a(418));t=ui(n.nextSibling);var r=ia;t&&ca(e,t)?la(r,n):(e.flags=-4097&e.flags|2,oa=!1,ia=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,oa=!1,ia=e}}}function ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ia=e}function pa(e){if(e!==ia)return!1;if(!oa)return ha(e),oa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=aa)){if(ua(e))throw fa(),Error(a(418));for(;t;)la(e,t),t=ui(t.nextSibling)}if(ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){aa=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}aa=null}}else aa=ia?ui(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=aa;e;)e=ui(e.nextSibling)}function ma(){aa=ia=null,oa=!1}function ga(e){null===sa?sa=[e]:sa.push(e)}var ya=w.ReactCurrentBatchConfig;function va(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ba(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wa(e){return(0,e._init)(e._payload)}function _a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&wa(a)===t.type)?((r=i(t,n.props)).ref=va(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=va(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Uc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=va(e,null,t),n.return=e,n;case k:return(t=Vc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Uc(t,e.mode,n,null)).return=e,t;ba(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case k:return n.key===i?u(e,t,n,r):null;case R:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);ba(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return f(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);ba(t,r)}return null}function m(i,a,s,l){for(var c=null,u=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=p(i,d,s[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),a=o(y,a,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===s.length)return n(i,d),oa&&ea(i,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(a=o(d,a,m),null===u?c=d:u.sibling=d,u=d);return oa&&ea(i,m),c}for(d=r(i,d);m<s.length;m++)null!==(g=f(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=o(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),oa&&ea(i,m),c}function g(i,s,l,c){var u=L(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=p(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(i,m),oa&&ea(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(s=o(v,s,g),null===d?u=v:d.sibling=v,d=v);return oa&&ea(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=f(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=o(v,s,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(i,e)}),oa&&ea(i,g),u}return function e(r,a,o,l){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var c=o.key,u=a;null!==u;){if(u.key===c){if((c=o.type)===x){if(7===u.tag){n(r,u.sibling),(a=i(u,o.props.children)).return=r,r=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&wa(c)===u.type){n(r,u.sibling),(a=i(u,o.props)).ref=va(r,u,o),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===x?((a=Uc(o.props.children,r.mode,l,o.key)).return=r,r=a):((l=Mc(o.type,o.key,o.props,null,r.mode,l)).ref=va(r,a,o),l.return=r,r=l)}return s(r);case k:e:{for(u=o.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Vc(o,r.mode,l)).return=r,r=a}return s(r);case R:return e(r,a,(u=o._init)(o._payload),l)}if(te(o))return m(r,a,o,l);if(L(o))return g(r,a,o,l);ba(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,l)).return=r,r=a),s(r)):n(r,a)}}var ka=_a(!0),xa=_a(!1),Sa=Ti(null),Ta=null,Ia=null,Ea=null;function Aa(){Ea=Ia=Ta=null}function Ca(e){var t=Sa.current;Ii(Sa),e._currentValue=t}function Na(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pa(e,t){Ta=e,Ea=Ia=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_s=!0),e.firstContext=null)}function Ra(e){var t=e._currentValue;if(Ea!==e)if(e={context:e,memoizedValue:t,next:null},null===Ia){if(null===Ta)throw Error(a(308));Ia=e,Ta.dependencies={lanes:0,firstContext:e}}else Ia=Ia.next=e;return t}var Da=null;function Oa(e){null===Da?Da=[e]:Da.push(e)}function La(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Oa(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ma(e,r)}function Ma(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ua=!1;function ja(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Va(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $a(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ma(e,n)}return null===(i=r.interleaved)?(t.next=t,Oa(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ma(e,n)}function za(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function qa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ba(e,t,n,r){var i=e.updateQueue;Ua=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,u=c=l=null,s=a;;){var h=s.lane,p=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,m=s;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,d,h):f)||void 0===h)break e;d=U({},d,h);break e;case 2:Ua=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);jl|=o,e.lanes=o,e.memoizedState=d}}function Ha(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Qa={},Wa=Ti(Qa),Ga=Ti(Qa),Ka=Ti(Qa);function Xa(e){if(e===Qa)throw Error(a(174));return e}function Ja(e,t){switch(Ei(Ka,t),Ei(Ga,e),Ei(Wa,Qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Wa),Ei(Wa,t)}function Ya(){Ii(Wa),Ii(Ga),Ii(Ka)}function Za(e){Xa(Ka.current);var t=Xa(Wa.current),n=le(t,e.type);t!==n&&(Ei(Ga,e),Ei(Wa,n))}function eo(e){Ga.current===e&&(Ii(Wa),Ii(Ga))}var to=Ti(0);function no(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ro=[];function io(){for(var e=0;e<ro.length;e++)ro[e]._workInProgressVersionPrimary=null;ro.length=0}var ao=w.ReactCurrentDispatcher,oo=w.ReactCurrentBatchConfig,so=0,lo=null,co=null,uo=null,ho=!1,po=!1,fo=0,mo=0;function go(){throw Error(a(321))}function yo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function vo(e,t,n,r,i,o){if(so=o,lo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ao.current=null===e||null===e.memoizedState?ts:ns,e=n(r,i),po){o=0;do{if(po=!1,fo=0,25<=o)throw Error(a(301));o+=1,uo=co=null,t.updateQueue=null,ao.current=rs,e=n(r,i)}while(po)}if(ao.current=es,t=null!==co&&null!==co.next,so=0,uo=co=lo=null,ho=!1,t)throw Error(a(300));return e}function bo(){var e=0!==fo;return fo=0,e}function wo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===uo?lo.memoizedState=uo=e:uo=uo.next=e,uo}function _o(){if(null===co){var e=lo.alternate;e=null!==e?e.memoizedState:null}else e=co.next;var t=null===uo?lo.memoizedState:uo.next;if(null!==t)uo=t,co=e;else{if(null===e)throw Error(a(310));e={memoizedState:(co=e).memoizedState,baseState:co.baseState,baseQueue:co.baseQueue,queue:co.queue,next:null},null===uo?lo.memoizedState=uo=e:uo=uo.next=e}return uo}function ko(e,t){return"function"===typeof t?t(e):t}function xo(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=co,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=s=null,c=null,u=o;do{var d=u.lane;if((so&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,lo.lanes|=d,jl|=d}u=u.next}while(null!==u&&u!==o);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(_s=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,lo.lanes|=o,jl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function So(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(_s=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function To(){}function Io(e,t){var n=lo,r=_o(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,_s=!0),r=r.queue,jo(Co.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==uo&&1&uo.memoizedState.tag){if(n.flags|=2048,Do(9,Ao.bind(null,n,r,i,t),void 0,null),null===Pl)throw Error(a(349));0!==(30&so)||Eo(n,t,i)}return i}function Eo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ao(e,t,n,r){t.value=n,t.getSnapshot=r,No(t)&&Po(e)}function Co(e,t,n){return n(function(){No(t)&&Po(e)})}function No(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Po(e){var t=Ma(e,1);null!==t&&ic(t,e,1,-1)}function Ro(e){var t=wo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:e},t.queue=e,e=e.dispatch=Xo.bind(null,lo,e),[t.memoizedState,e]}function Do(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Oo(){return _o().memoizedState}function Lo(e,t,n,r){var i=wo();lo.flags|=e,i.memoizedState=Do(1|t,n,void 0,void 0===r?null:r)}function Mo(e,t,n,r){var i=_o();r=void 0===r?null:r;var a=void 0;if(null!==co){var o=co.memoizedState;if(a=o.destroy,null!==r&&yo(r,o.deps))return void(i.memoizedState=Do(t,n,a,r))}lo.flags|=e,i.memoizedState=Do(1|t,n,a,r)}function Uo(e,t){return Lo(8390656,8,e,t)}function jo(e,t){return Mo(2048,8,e,t)}function Fo(e,t){return Mo(4,2,e,t)}function Vo(e,t){return Mo(4,4,e,t)}function $o(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4,4,$o.bind(null,t,e),n)}function qo(){}function Bo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&yo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ho(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&yo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qo(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,_s=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),lo.lanes|=n,jl|=n,e.baseState=!0),t)}function Wo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=oo.transition;oo.transition={};try{e(!1),t()}finally{bt=n,oo.transition=r}}function Go(){return _o().memoizedState}function Ko(e,t,n){var r=rc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jo(e))Yo(t,n);else if(null!==(n=La(e,t,n,r))){ic(n,e,r,nc()),Zo(n,t,r)}}function Xo(e,t,n){var r=rc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jo(e))Yo(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(i.next=i,Oa(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=La(e,t,i,r))&&(ic(n,e,r,i=nc()),Zo(n,t,r))}}function Jo(e){var t=e.alternate;return e===lo||null!==t&&t===lo}function Yo(e,t){po=ho=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var es={readContext:Ra,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useInsertionEffect:go,useLayoutEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useMutableSource:go,useSyncExternalStore:go,useId:go,unstable_isNewReconciler:!1},ts={readContext:Ra,useCallback:function(e,t){return wo().memoizedState=[e,void 0===t?null:t],e},useContext:Ra,useEffect:Uo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Lo(4194308,4,$o.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Lo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Lo(4,2,e,t)},useMemo:function(e,t){var n=wo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ko.bind(null,lo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},wo().memoizedState=e},useState:Ro,useDebugValue:qo,useDeferredValue:function(e){return wo().memoizedState=e},useTransition:function(){var e=Ro(!1),t=e[0];return e=Wo.bind(null,e[1]),wo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lo,i=wo();if(oa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Pl)throw Error(a(349));0!==(30&so)||Eo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Uo(Co.bind(null,r,o,e),[e]),r.flags|=2048,Do(9,Ao.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=wo(),t=Pl.identifierPrefix;if(oa){var n=Zi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=fo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=mo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ns={readContext:Ra,useCallback:Bo,useContext:Ra,useEffect:jo,useImperativeHandle:zo,useInsertionEffect:Fo,useLayoutEffect:Vo,useMemo:Ho,useReducer:xo,useRef:Oo,useState:function(){return xo(ko)},useDebugValue:qo,useDeferredValue:function(e){return Qo(_o(),co.memoizedState,e)},useTransition:function(){return[xo(ko)[0],_o().memoizedState]},useMutableSource:To,useSyncExternalStore:Io,useId:Go,unstable_isNewReconciler:!1},rs={readContext:Ra,useCallback:Bo,useContext:Ra,useEffect:jo,useImperativeHandle:zo,useInsertionEffect:Fo,useLayoutEffect:Vo,useMemo:Ho,useReducer:So,useRef:Oo,useState:function(){return So(ko)},useDebugValue:qo,useDeferredValue:function(e){var t=_o();return null===co?t.memoizedState=e:Qo(t,co.memoizedState,e)},useTransition:function(){return[So(ko)[0],_o().memoizedState]},useMutableSource:To,useSyncExternalStore:Io,useId:Go,unstable_isNewReconciler:!1};function is(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function as(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var os={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nc(),i=rc(e),a=Va(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=$a(e,a,i))&&(ic(t,e,i,r),za(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nc(),i=rc(e),a=Va(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=$a(e,a,i))&&(ic(t,e,i,r),za(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nc(),r=rc(e),i=Va(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=$a(e,i,r))&&(ic(t,e,r,n),za(t,e,r))}};function ss(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function ls(e,t,n){var r=!1,i=Ai,a=t.contextType;return"object"===typeof a&&null!==a?a=Ra(a):(i=Di(t)?Pi:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ai),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=os,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function cs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&os.enqueueReplaceState(t,t.state,null)}function us(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},ja(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ra(a):(a=Di(t)?Pi:Ci.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(as(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&os.enqueueReplaceState(i,i.state,null),Ba(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ds(e,t){try{var n="",r=t;do{n+=$(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function hs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ps(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fs="function"===typeof WeakMap?WeakMap:Map;function ms(e,t,n){(n=Va(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ql||(Ql=!0,Wl=r),ps(0,t)},n}function gs(e,t,n){(n=Va(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ps(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ps(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ys(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Va(-1,1)).tag=2,$a(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ws=w.ReactCurrentOwner,_s=!1;function ks(e,t,n,r){t.child=null===e?xa(t,null,n,r):ka(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return Pa(t,i),r=vo(e,t,n,r,a,i),n=bo(),null===e||_s?(oa&&n&&na(t),t.flags|=1,ks(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qs(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ts(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Qs(e,t,i)}return t.flags|=1,(e=Lc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ts(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(_s=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Qs(e,t,i);0!==(131072&e.flags)&&(_s=!0)}}return As(e,t,n,r,i)}function Is(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ll,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ll,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Ll,Ol),Ol|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Ll,Ol),Ol|=r;return ks(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function As(e,t,n,r,i){var a=Di(n)?Pi:Ci.current;return a=Ri(t,a),Pa(t,i),n=vo(e,t,n,r,a,i),r=bo(),null===e||_s?(oa&&r&&na(t),t.flags|=1,ks(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qs(e,t,i))}function Cs(e,t,n,r,i){if(Di(n)){var a=!0;Ui(t)}else a=!1;if(Pa(t,i),null===t.stateNode)Hs(e,t),ls(t,n,r),us(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ra(c):c=Ri(t,c=Di(n)?Pi:Ci.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==c)&&cs(t,o,r,c),Ua=!1;var h=t.memoizedState;o.state=h,Ba(t,r,o,i),l=t.memoizedState,s!==r||h!==l||Ni.current||Ua?("function"===typeof u&&(as(t,n,u,r),l=t.memoizedState),(s=Ua||ss(t,n,s,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Fa(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:is(t.type,s),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ra(l):l=Ri(t,l=Di(n)?Pi:Ci.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&cs(t,o,r,l),Ua=!1,h=t.memoizedState,o.state=h,Ba(t,r,o,i);var f=t.memoizedState;s!==d||h!==f||Ni.current||Ua?("function"===typeof p&&(as(t,n,p,r),f=t.memoizedState),(c=Ua||ss(t,n,c,r,h,f,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,a,i)}function Ns(e,t,n,r,i,a){Es(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Qs(e,t,a);r=t.stateNode,ws.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ka(t,e.child,null,a),t.child=ka(t,null,s,a)):ks(e,t,s,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),Ja(e,t.containerInfo)}function Rs(e,t,n,r,i){return ma(),ga(i),t.flags|=256,ks(e,t,n,r),t.child}var Ds,Os,Ls,Ms,Us={dehydrated:null,treeContext:null,retryLane:0};function js(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=to.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(to,1&o),null===e)return da(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=jc(l,i,0,null),e=Uc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=js(n),t.memoizedState=Us,e):Vs(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,$s(e,t,s,r=hs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(o=Uc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&ka(t,e.child,null,s),t.child.memoizedState=js(s),t.memoizedState=Us,o);if(0===(1&t.mode))return $s(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,$s(e,t,s,r=hs(o=Error(a(419)),r,void 0))}if(l=0!==(s&e.childLanes),_s||l){if(null!==(r=Pl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ma(e,i),ic(r,e,i,-1))}return yc(),$s(e,t,s,r=hs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,aa=ui(i.nextSibling),ia=t,oa=!0,sa=null,null!==e&&(Gi[Ki++]=Yi,Gi[Ki++]=Zi,Gi[Ki++]=Ji,Yi=e.id,Zi=e.overflow,Ji=t),t=Vs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(s){s=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Lc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Lc(r,s):(s=Uc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?js(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Us,i}return e=(s=e.child).sibling,i=Lc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vs(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $s(e,t,n,r){return null!==r&&ga(r),ka(t,e.child,null,n),(e=Vs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Na(e.return,t,n)}function qs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ks(e,t,r.children,n),0!==(2&(r=to.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(to,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===no(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===no(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qs(t,!0,n,null,a);break;case"together":qs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),jl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Lc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!oa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(ra(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Di(t.type)&&Oi(),Gs(t),null;case 3:return r=t.stateNode,Ya(),Ii(Ni),Ii(Ci),io(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(pa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==sa&&(lc(sa),sa=null))),Os(e,t),Gs(t),null;case 5:eo(t);var i=Xa(Ka.current);if(n=t.type,null!==e&&null!=t.stateNode)Ls(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=Xa(Wa.current),pa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[pi]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":X(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var l in ve(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Yr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Yr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":Q(r),Z(r,o,!0);break;case"textarea":Q(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[pi]=t,e[fi]=r,Ds(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":X(e,r),i=K(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=U({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ve(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Fr("scroll",e):null!=u&&b(e,o,u,l))}switch(n){case"input":Q(e),Z(e,r,!1);break;case"textarea":Q(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+B(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ms(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Xa(Ka.current),Xa(Wa.current),pa(t)){if(r=t.stateNode,n=t.memoizedProps,r[pi]=t,(o=r.nodeValue!==n)&&null!==(e=ia))switch(e.tag){case 3:Yr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[pi]=t,t.stateNode=r}return Gs(t),null;case 13:if(Ii(to),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(oa&&null!==aa&&0!==(1&t.mode)&&0===(128&t.flags))fa(),ma(),t.flags|=98560,o=!1;else if(o=pa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[pi]=t}else ma(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==sa&&(lc(sa),sa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&to.current)?0===Ml&&(Ml=3):yc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return Ya(),Os(e,t),null===e&&zr(t.stateNode.containerInfo),Gs(t),null;case 10:return Ca(t.type._context),Gs(t),null;case 19:if(Ii(to),null===(o=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ws(o,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=no(e))){for(t.flags|=128,Ws(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(to,1&to.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Bl&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=no(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!oa)return Gs(t),null}else 2*Je()-o.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=to.current,Ei(to,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return pc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Xs(e,t){switch(ra(t),t.tag){case 1:return Di(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ya(),Ii(Ni),Ii(Ci),io(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return eo(t),null;case 13:if(Ii(to),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ma()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(to),null;case 4:return Ya(),null;case 10:return Ca(t.type._context),null;case 22:case 23:return pc(),null;default:return null}}Ds=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(){},Ls=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xa(Wa.current);var a,o=null;switch(n){case"input":i=K(e,i),r=K(e,r),o=[];break;case"select":i=U({},i,{value:void 0}),r=U({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ms=function(e,t,n,r){n!==r&&(t.flags|=4)};var Js=!1,Ys=!1,Zs="function"===typeof WeakSet?WeakSet:Set,el=null;function tl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function nl(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var rl=!1;function il(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&nl(t,n,a)}i=i.next}while(i!==r)}}function al(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pi],delete t[fi],delete t[gi],delete t[yi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ll(e){return 5===e.tag||3===e.tag||4===e.tag}function cl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ll(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function dl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(dl(e,t,n),e=e.sibling;null!==e;)dl(e,t,n),e=e.sibling}var hl=null,pl=!1;function fl(e,t,n){for(n=n.child;null!==n;)ml(e,t,n),n=n.sibling}function ml(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||tl(n,t);case 6:var r=hl,i=pl;hl=null,fl(e,t,n),pl=i,null!==(hl=r)&&(pl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(pl?(e=hl,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),zt(e)):ci(hl,n.stateNode));break;case 4:r=hl,i=pl,hl=n.stateNode.containerInfo,pl=!0,fl(e,t,n),hl=r,pl=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&nl(n,t,o),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Ys&&(tl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ic(n,t,s)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,fl(e,t,n),Ys=r):fl(e,t,n);break;default:fl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zs),t.forEach(function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function yl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,pl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,pl=!0;break e}l=l.return}if(null===hl)throw Error(a(160));ml(o,s,i),hl=null,pl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ic(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yl(t,e),bl(e),4&r){try{il(3,e,e.return),al(3,e)}catch(g){Ic(e,e.return,g)}try{il(5,e,e.return)}catch(g){Ic(e,e.return,g)}}break;case 1:yl(t,e),bl(e),512&r&&null!==n&&tl(n,n.return);break;case 5:if(yl(t,e),bl(e),512&r&&null!==n&&tl(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Ic(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(i,o),be(l,s);var u=be(l,o);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":Y(i,o);break;case"textarea":ae(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?ne(i,!!o.multiple,f,!1):p!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){Ic(e,e.return,g)}}break;case 6:if(yl(t,e),bl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Ic(e,e.return,g)}}break;case 3:if(yl(t,e),bl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Ic(e,e.return,g)}break;case 4:default:yl(t,e),bl(e);break;case 13:yl(t,e),bl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(ql=Je())),4&r&&gl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(u=Ys)||d,yl(t,e),Ys=u):yl(t,e),bl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(el=e,d=e.child;null!==d;){for(h=el=d;null!==el;){switch(f=(p=el).child,p.tag){case 0:case 11:case 14:case 15:il(4,p,p.return);break;case 1:tl(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ic(r,n,g)}}break;case 5:tl(p,p.return);break;case 22:if(null!==p.memoizedState){xl(h);continue}}null!==f?(f.return=p,el=f):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){Ic(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Ic(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yl(t,e),bl(e),4&r&&gl(e);case 21:}}function bl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ll(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),dl(e,cl(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ul(e,cl(e),o);break;default:throw Error(a(161))}}catch(Xi){Ic(e,e.return,Xi)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,n){el=e,_l(e,t,n)}function _l(e,t,n){for(var r=0!==(1&e.mode);null!==el;){var i=el,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Js;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Ys;s=Js;var c=Ys;if(Js=o,(Ys=l)&&!c)for(el=i;null!==el;)l=(o=el).child,22===o.tag&&null!==o.memoizedState?Sl(i):null!==l?(l.return=o,el=l):Sl(i);for(;null!==a;)el=a,_l(a,t,n),a=a.sibling;el=i,Js=s,Ys=c}kl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,el=a):kl(e)}}function kl(e){for(;null!==el;){var t=el;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||al(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:is(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ha(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ha(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Ys||512&t.flags&&ol(t)}catch(p){Ic(t,t.return,p)}}if(t===e){el=null;break}if(null!==(n=t.sibling)){n.return=t.return,el=n;break}el=t.return}}function xl(e){for(;null!==el;){var t=el;if(t===e){el=null;break}var n=t.sibling;if(null!==n){n.return=t.return,el=n;break}el=t.return}}function Sl(e){for(;null!==el;){var t=el;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{al(4,t)}catch(Xi){Ic(t,n,Xi)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(Xi){Ic(t,i,Xi)}}var a=t.return;try{ol(t)}catch(Xi){Ic(t,a,Xi)}break;case 5:var o=t.return;try{ol(t)}catch(Xi){Ic(t,o,Xi)}}}catch(Xi){Ic(t,t.return,Xi)}if(t===e){el=null;break}var s=t.sibling;if(null!==s){s.return=t.return,el=s;break}el=t.return}}var Tl,Il=Math.ceil,El=w.ReactCurrentDispatcher,Al=w.ReactCurrentOwner,Cl=w.ReactCurrentBatchConfig,Nl=0,Pl=null,Rl=null,Dl=0,Ol=0,Ll=Ti(0),Ml=0,Ul=null,jl=0,Fl=0,Vl=0,$l=null,zl=null,ql=0,Bl=1/0,Hl=null,Ql=!1,Wl=null,Gl=null,Kl=!1,Xl=null,Jl=0,Yl=0,Zl=null,ec=-1,tc=0;function nc(){return 0!==(6&Nl)?Je():-1!==ec?ec:ec=Je()}function rc(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Dl?Dl&-Dl:null!==ya.transition?(0===tc&&(tc=mt()),tc):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function ic(e,t,n,r){if(50<Yl)throw Yl=0,Zl=null,Error(a(185));yt(e,n,r),0!==(2&Nl)&&e===Pl||(e===Pl&&(0===(2&Nl)&&(Fl|=n),4===Ml&&cc(e,Dl)),ac(e,r),1===n&&0===Nl&&0===(1&t.mode)&&(Bl=Je()+500,Vi&&qi()))}function ac(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=pt(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Pl?Dl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Vi=!0,zi(e)}(uc.bind(null,e)):zi(uc.bind(null,e)),si(function(){0===(6&Nl)&&qi()}),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(ec=-1,tc=0,0!==(6&Nl))throw Error(a(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===Pl?Dl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Nl;Nl|=2;var o=gc();for(Pl===e&&Dl===t||(Hl=null,Bl=Je()+500,fc(e,t));;)try{wc();break}catch(l){mc(e,l)}Aa(),El.current=o,Nl=i,null!==Rl?t=0:(Pl=null,Dl=0,t=Ml)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=sc(e,i))),1===t)throw n=Ul,fc(e,0),cc(e,r),ac(e,Je()),n;if(6===t)cc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(o=ft(e))&&(r=o,t=sc(e,o))),1===t))throw n=Ul,fc(e,0),cc(e,r),ac(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,zl,Hl);break;case 3:if(cc(e,r),(130023424&r)===r&&10<(t=ql+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){nc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ii(xc.bind(null,e,zl,Hl),t);break}xc(e,zl,Hl);break;case 4:if(cc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Il(r/1960))-r)){e.timeoutHandle=ii(xc.bind(null,e,zl,Hl),r);break}xc(e,zl,Hl);break;default:throw Error(a(329))}}}return ac(e,Je()),e.callbackNode===n?oc.bind(null,e):null}function sc(e,t){var n=$l;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=zl,zl=n,null!==t&&lc(t)),e}function lc(e){null===zl?zl=e:zl.push.apply(zl,e)}function cc(e,t){for(t&=~Vl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Nl))throw Error(a(327));Sc();var t=ht(e,0);if(0===(1&t))return ac(e,Je()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ul,fc(e,0),cc(e,t),ac(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,zl,Hl),ac(e,Je()),null}function dc(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(Bl=Je()+500,Vi&&qi())}}function hc(e){null!==Xl&&0===Xl.tag&&0===(6&Nl)&&Sc();var t=Nl;Nl|=1;var n=Cl.transition,r=bt;try{if(Cl.transition=null,bt=1,e)return e()}finally{bt=r,Cl.transition=n,0===(6&(Nl=t))&&qi()}}function pc(){Ol=Ll.current,Ii(Ll)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ai(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(ra(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:Ya(),Ii(Ni),Ii(Ci),io();break;case 5:eo(r);break;case 4:Ya();break;case 13:case 19:Ii(to);break;case 10:Ca(r.type._context);break;case 22:case 23:pc()}n=n.return}if(Pl=e,Rl=e=Lc(e.current,null),Dl=Ol=t,Ml=0,Ul=null,Vl=Fl=jl=0,zl=$l=null,null!==Da){for(t=0;t<Da.length;t++)if(null!==(r=(n=Da[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Da=null}return e}function mc(e,t){for(;;){var n=Rl;try{if(Aa(),ao.current=es,ho){for(var r=lo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ho=!1}if(so=0,uo=co=lo=null,po=!1,fo=0,Al.current=null,null===n||null===n.return){Ml=1,Ul=t,Rl=null;break}e:{var o=e,s=n.return,l=n,c=t;if(t=Dl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=vs(s);if(null!==f){f.flags&=-257,bs(f,s,l,0,t),1&f.mode&&ys(o,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ys(o,u,t),yc();break e}c=Error(a(426))}else if(oa&&1&l.mode){var y=vs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),bs(y,s,l,0,t),ga(ds(c,l));break e}}o=c=ds(c,l),4!==Ml&&(Ml=2),null===$l?$l=[o]:$l.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,qa(o,ms(0,c,t));break e;case 1:l=c;var v=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,qa(o,gs(o,l,t));break e}}o=o.return}while(null!==o)}kc(n)}catch(w){t=w,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function gc(){var e=El.current;return El.current=es,null===e?es:e}function yc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Pl||0===(268435455&jl)&&0===(268435455&Fl)||cc(Pl,Dl)}function vc(e,t){var n=Nl;Nl|=2;var r=gc();for(Pl===e&&Dl===t||(Hl=null,fc(e,t));;)try{bc();break}catch(i){mc(e,i)}if(Aa(),Nl=n,El.current=r,null!==Rl)throw Error(a(261));return Pl=null,Dl=0,Ml}function bc(){for(;null!==Rl;)_c(Rl)}function wc(){for(;null!==Rl&&!Ke();)_c(Rl)}function _c(e){var t=Tl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?kc(e):Rl=t,Al.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Ol)))return void(Rl=n)}else{if(null!==(n=Xs(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Ml=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Ml&&(Ml=5)}function xc(e,t,n){var r=bt,i=Cl.transition;try{Cl.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Xl);if(0!==(6&Nl))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Pl&&(Rl=Pl=null,Dl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Pc(tt,function(){return Sc(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cl.transition,Cl.transition=null;var s=bt;bt=1;var l=Nl;Nl|=4,Al.current=null,function(e,t){if(ei=Bt,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(ri){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===i&&(l=s),p===o&&++d===r&&(c=s),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Bt=!1,el=t;null!==el;)if(e=(t=el).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,el=e;else for(;null!==el;){t=el;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:is(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(a(163))}}catch(ri){Ic(t,t.return,ri)}if(null!==(e=t.sibling)){e.return=t.return,el=e;break}el=t.return}m=rl,rl=!1}(e,n),vl(n,e),fr(ti),Bt=!!ei,ti=ei=null,e.current=n,wl(n,e,i),Xe(),Nl=l,bt=s,Cl.transition=o}else e.current=n;if(Kl&&(Kl=!1,Xl=e,Jl=i),o=e.pendingLanes,0===o&&(Gl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ac(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ql)throw Ql=!1,e=Wl,Wl=null,e;0!==(1&Jl)&&0!==e.tag&&Sc(),o=e.pendingLanes,0!==(1&o)?e===Zl?Yl++:(Yl=0,Zl=e):Yl=0,qi()}(e,t,n,r)}finally{Cl.transition=i,bt=r}return null}function Sc(){if(null!==Xl){var e=wt(Jl),t=Cl.transition,n=bt;try{if(Cl.transition=null,bt=16>e?16:e,null===Xl)var r=!1;else{if(e=Xl,Xl=null,Jl=0,0!==(6&Nl))throw Error(a(331));var i=Nl;for(Nl|=4,el=e.current;null!==el;){var o=el,s=o.child;if(0!==(16&el.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(el=u;null!==el;){var d=el;switch(d.tag){case 0:case 11:case 15:il(8,d,o)}var h=d.child;if(null!==h)h.return=d,el=h;else for(;null!==el;){var p=(d=el).sibling,f=d.return;if(sl(d),d===u){el=null;break}if(null!==p){p.return=f,el=p;break}el=f}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}el=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,el=s;else e:for(;null!==el;){if(0!==(2048&(o=el).flags))switch(o.tag){case 0:case 11:case 15:il(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,el=v;break e}el=o.return}}var b=e.current;for(el=b;null!==el;){var w=(s=el).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,el=w;else e:for(s=b;null!==el;){if(0!==(2048&(l=el).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(k){Ic(l,l.return,k)}if(l===s){el=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,el=_;break e}el=l.return}}if(Nl=i,qi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(k){}r=!0}return r}finally{bt=n,Cl.transition=t}}return!1}function Tc(e,t,n){e=$a(e,t=ms(0,t=ds(n,t),1),1),t=nc(),null!==e&&(yt(e,1,t),ac(e,t))}function Ic(e,t,n){if(3===e.tag)Tc(e,e,n);else for(;null!==t;){if(3===t.tag){Tc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=$a(t,e=gs(t,e=ds(n,e),1),1),e=nc(),null!==t&&(yt(t,1,e),ac(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=nc(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Dl&n)===n&&(4===Ml||3===Ml&&(130023424&Dl)===Dl&&500>Je()-ql?fc(e,0):Vl|=n),ac(e,t)}function Ac(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=nc();null!==(e=Ma(e,t))&&(yt(e,t,n),ac(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ac(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ac(e,n)}function Pc(e,t){return We(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Rc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Oc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Uc(n.children,i,o,t);case S:s=8,i|=8;break;case T:return(e=Dc(12,n,t,2|i)).elementType=T,e.lanes=o,e;case C:return(e=Dc(13,n,t,i)).elementType=C,e.lanes=o,e;case N:return(e=Dc(19,n,t,i)).elementType=N,e.lanes=o,e;case D:return jc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case E:s=9;break e;case A:s=11;break e;case P:s=14;break e;case R:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Dc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Uc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $c(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,o,s,l){return e=new $c(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Dc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ja(a),e}function qc(e){if(!e)return Ai;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Mi(e,n,t)}return t}function Bc(e,t,n,r,i,a,o,s,l){return(e=zc(n,r,!0,e,0,a,0,s,l)).context=qc(null),n=e.current,(a=Va(r=nc(),i=rc(n))).callback=void 0!==t&&null!==t?t:null,$a(n,a,i),e.current.lanes=i,yt(e,i,r),ac(e,r),e}function Hc(e,t,n,r){var i=t.current,a=nc(),o=rc(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Va(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=$a(i,t,o))&&(ic(e,i,o,a),za(e,i,o)),o}function Qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Tl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)_s=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _s=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),ma();break;case 5:Za(t);break;case 1:Di(t.type)&&Ui(t);break;case 4:Ja(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(Sa,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(to,1&to.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ei(to,1&to.current),null!==(e=Qs(e,t,n))?e.sibling:null);Ei(to,1&to.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(to,to.current),r)break;return null;case 22:case 23:return t.lanes=0,Is(e,t,n)}return Qs(e,t,n)}(e,t,n);_s=0!==(131072&e.flags)}else _s=!1,oa&&0!==(1048576&t.flags)&&ta(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Ri(t,Ci.current);Pa(t,n),i=vo(null,t,r,e,i,n);var o=bo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Ui(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ja(t),i.updater=os,t.stateNode=i,i._reactInternals=t,us(t,r,e,n),t=Ns(null,t,r,!0,o,n)):(t.tag=0,oa&&o&&na(t),ks(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===P)return 14}return 2}(r),e=is(r,e),i){case 0:t=As(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,is(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,As(e,t,r,i=t.elementType===r?i:is(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:is(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Fa(e,t),Ba(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Rs(e,t,r,n,i=ds(Error(a(423)),t));break e}if(r!==i){t=Rs(e,t,r,n,i=ds(Error(a(424)),t));break e}for(aa=ui(t.stateNode.containerInfo.firstChild),ia=t,oa=!0,sa=null,n=xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ma(),r===i){t=Qs(e,t,n);break e}ks(e,t,r,n)}t=t.child}return t;case 5:return Za(t),null===e&&da(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Es(e,t),ks(e,t,s,n),t.child;case 6:return null===e&&da(t),null;case 13:return Fs(e,t,n);case 4:return Ja(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ka(t,null,r,n):ks(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:is(r,i),n);case 7:return ks(e,t,t.pendingProps,n),t.child;case 8:case 12:return ks(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ei(Sa,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ni.current){t=Qs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Va(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Na(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Na(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ks(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Pa(t,n),r=r(i=Ra(i)),t.flags|=1,ks(e,t,r,n),t.child;case 14:return i=is(r=t.type,t.pendingProps),Ss(e,t,r,i=is(r.type,i),n);case 15:return Ts(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:is(r,i),Hs(e,t),t.tag=1,Di(r)?(e=!0,Ui(t)):e=!1,Pa(t,n),ls(t,r,i),us(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return Bs(e,t,n);case 22:return Is(e,t,n)}throw Error(a(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function eu(){}function tu(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Qc(o);s.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Qc(o);a.call(e)}}var o=Bc(t,r,e,0,null,!1,0,"",eu);return e._reactRootContainer=o,e[mi]=o.current,zr(8===e.nodeType?e.parentNode:e),hc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Qc(l);s.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",eu);return e._reactRootContainer=l,e[mi]=l.current,zr(8===e.nodeType?e.parentNode:e),hc(function(){Hc(t,l,n,r)}),l}(n,t,e,i,r);return Qc(o)}Jc.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Jc.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc(function(){Hc(null,e,null,null)}),t[mi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ut(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),ac(t,Je()),0===(6&Nl)&&(Bl=Je()+500,qi()))}break;case 13:hc(function(){var t=Ma(e,1);if(null!==t){var n=nc();ic(t,e,1,n)}}),Gc(e,1)}},kt=function(e){if(13===e.tag){var t=Ma(e,134217728);if(null!==t)ic(t,e,134217728,nc());Gc(e,134217728)}},xt=function(e){if(13===e.tag){var t=rc(e),n=Ma(e,t);if(null!==n)ic(n,e,t,nc());Gc(e,t)}},St=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(Y(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ki(r);if(!i)throw Error(a(90));W(r),Y(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=dc,Ce=hc;var nu={usingClientEntryPoint:!1,Events:[wi,_i,ki,Ie,Ee,dc]},ru={findFiberByHostInstance:bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iu={bundleType:ru.bundleType,version:ru.version,rendererPackageName:ru.rendererPackageName,rendererConfig:ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:ru.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{it=au.inject(iu),at=au}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[mi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return tu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,o,s),e[mi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return tu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(hc(function(){tu(null,null,e,!1,function(){e._reactRootContainer=null,e[mi]=null})}),!0)},t.unstable_batchedUpdates=dc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return tu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{audioClassification:()=>em,audioToAudio:()=>tm,automaticSpeechRecognition:()=>nm,chatCompletion:()=>fm,chatCompletionStream:()=>mm,documentQuestionAnswering:()=>Am,featureExtraction:()=>gm,fillMask:()=>ym,imageClassification:()=>am,imageSegmentation:()=>om,imageToImage:()=>sm,imageToText:()=>lm,imageToVideo:()=>cm,objectDetection:()=>um,questionAnswering:()=>vm,request:()=>Jf,sentenceSimilarity:()=>bm,streamingRequest:()=>Yf,summarization:()=>wm,tableQuestionAnswering:()=>_m,tabularClassification:()=>Nm,tabularRegression:()=>Pm,textClassification:()=>km,textGeneration:()=>xm,textGenerationStream:()=>Sm,textToImage:()=>dm,textToSpeech:()=>rm,textToVideo:()=>hm,tokenClassification:()=>Tm,translation:()=>Im,visualQuestionAnswering:()=>Cm,zeroShotClassification:()=>Em,zeroShotImageClassification:()=>pm});var i=n(43),a=n(391);const o=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,o=a?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;s||(h=64,a||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(o(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==o||null==s)throw new l;const c=t<<2|a>>4;if(r.push(c),64!==o){const e=a<<4&240|o>>2;if(r.push(e),64!==s){const e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class l extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c=function(e){return function(e){const t=o(e);return s.encodeByteArray(t,!0)}(e).replace(/\./g,"")},u=function(e){try{return s.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function d(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const h=()=>{try{return d().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/jemini",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&u(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},p=e=>{const t=(e=>{var t,n;return null===(n=null===(t=h())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},f=()=>{var e;return null===(e=h())||void 0===e?void 0:e.config};class m{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function g(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}const y={};let v=!1;function b(e,t){if("undefined"===typeof window||"undefined"===typeof document||!g(window.location.host)||y[e]===t||y[e]||v)return;function n(e){return`__firebase__banner__${e}`}y[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(y))y[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function a(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{v=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function o(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),o=document.getElementById(t)||document.createElement("span"),s=n("learnmore"),l=document.getElementById(s)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,s);const n=a();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,o,l,n),document.body.appendChild(t)}i?(o.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',o.innerText="Preview backend running in this workspace."),o.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function w(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function _(){var e;const t=null===(e=h())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function k(){return!_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x(){try{return"object"===typeof indexedDB}catch(e){return!1}}class S extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,S.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,T.prototype.create)}}class T{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(I,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(r,t):"Error",a=`${this.serviceName}: ${i} (${n}).`;return new S(n,a,t)}}const I=/\{\$([^}]+)}/g;function E(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(A(n)&&A(a)){if(!E(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function A(e){return null!==e&&"object"===typeof e}function C(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function N(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function P(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class R{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=D),void 0===r.error&&(r.error=D),void 0===r.complete&&(r.complete=D);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function D(){}function O(e){return e&&e._delegate?e._delegate:e}class L{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const M="[DEFAULT]";class U{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new m;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:M})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===M?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;return this.component?this.component.multipleInstances?e:M:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class j{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new U(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const F=[];var V;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(V||(V={}));const $={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},z=V.INFO,q={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},B=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=q[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];console[r](`[${n}]  ${e.name}:`,...a)};class H{constructor(e){this.name=e,this._logLevel=z,this._logHandler=B,this._userLogHandler=null,F.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in V))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...t),this._logHandler(this,V.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...t),this._logHandler(this,V.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,V.INFO,...t),this._logHandler(this,V.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,V.WARN,...t),this._logHandler(this,V.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,V.ERROR,...t),this._logHandler(this,V.ERROR,...t)}}let Q,W;const G=new WeakMap,K=new WeakMap,X=new WeakMap,J=new WeakMap,Y=new WeakMap;let Z={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return K.get(e);if("objectStoreNames"===t)return e.objectStoreNames||X.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ne(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ee(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(W||(W=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(re(this),n),ne(G.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ne(e.apply(re(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call(re(this),t,...r);return X.set(a,t.sort?t.sort():[t]),ne(a)}}function te(e){return"function"===typeof e?ee(e):(e instanceof IDBTransaction&&function(e){if(K.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});K.set(e,t)}(e),t=e,(Q||(Q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Z):e);var t}function ne(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(ne(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&G.set(t,e)}).catch(()=>{}),Y.set(t,e),t}(e);if(J.has(e))return J.get(e);const t=te(e);return t!==e&&(J.set(e,t),Y.set(t,e)),t}const re=e=>Y.get(e);const ie=["get","getKey","getAll","getAllKeys","count"],ae=["put","add","delete","clear"],oe=new Map;function se(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(oe.get(t))return oe.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ae.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ie.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return r&&(a=a.index(s.shift())),(await Promise.all([a[n](...s),i&&t.done]))[0]};return oe.set(t,a),a}Z=(e=>({...e,get:(t,n,r)=>se(t,n)||e.get(t,n,r),has:(t,n)=>!!se(t,n)||e.has(t,n)}))(Z);class le{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const ce="@firebase/app",ue="0.13.2",de=new H("@firebase/app"),he="@firebase/app-compat",pe="@firebase/analytics-compat",fe="@firebase/analytics",me="@firebase/app-check-compat",ge="@firebase/app-check",ye="@firebase/auth",ve="@firebase/auth-compat",be="@firebase/database",we="@firebase/data-connect",_e="@firebase/database-compat",ke="@firebase/functions",xe="@firebase/functions-compat",Se="@firebase/installations",Te="@firebase/installations-compat",Ie="@firebase/messaging",Ee="@firebase/messaging-compat",Ae="@firebase/performance",Ce="@firebase/performance-compat",Ne="@firebase/remote-config",Pe="@firebase/remote-config-compat",Re="@firebase/storage",De="@firebase/storage-compat",Oe="@firebase/firestore",Le="@firebase/ai",Me="@firebase/firestore-compat",Ue="firebase",je="[DEFAULT]",Fe={[ce]:"fire-core",[he]:"fire-core-compat",[fe]:"fire-analytics",[pe]:"fire-analytics-compat",[ge]:"fire-app-check",[me]:"fire-app-check-compat",[ye]:"fire-auth",[ve]:"fire-auth-compat",[be]:"fire-rtdb",[we]:"fire-data-connect",[_e]:"fire-rtdb-compat",[ke]:"fire-fn",[xe]:"fire-fn-compat",[Se]:"fire-iid",[Te]:"fire-iid-compat",[Ie]:"fire-fcm",[Ee]:"fire-fcm-compat",[Ae]:"fire-perf",[Ce]:"fire-perf-compat",[Ne]:"fire-rc",[Pe]:"fire-rc-compat",[Re]:"fire-gcs",[De]:"fire-gcs-compat",[Oe]:"fire-fst",[Me]:"fire-fst-compat",[Le]:"fire-vertex","fire-js":"fire-js",[Ue]:"fire-js-all"},Ve=new Map,$e=new Map,ze=new Map;function qe(e,t){try{e.container.addComponent(t)}catch(n){de.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Be(e){const t=e.name;if(ze.has(t))return de.debug(`There were multiple attempts to register component ${t}.`),!1;ze.set(t,e);for(const n of Ve.values())qe(n,e);for(const n of $e.values())qe(n,e);return!0}function He(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Qe(e){return null!==e&&void 0!==e&&void 0!==e.settings}const We=new T("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Ge{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new L("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw We.create("app-deleted",{appName:this._name})}}const Ke="11.10.0";function Xe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:je,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw We.create("bad-app-name",{appName:String(i)});if(n||(n=f()),!n)throw We.create("no-options");const a=Ve.get(i);if(a){if(E(n,a.options)&&E(r,a.config))return a;throw We.create("duplicate-app",{appName:i})}const o=new j(i);for(const l of ze.values())o.addComponent(l);const s=new Ge(n,r,o);return Ve.set(i,s),s}function Je(e,t,n){var r;let i=null!==(r=Fe[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const e=[`Unable to register library "${i}" with version "${t}":`];return a&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void de.warn(e.join(" "))}Be(new L(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const Ye="firebase-heartbeat-store";let Ze=null;function et(){return Ze||(Ze=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),s=ne(o);return r&&o.addEventListener("upgradeneeded",e=>{r(ne(o.result),e.oldVersion,e.newVersion,ne(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener("close",()=>a()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Ye)}catch(n){console.warn(n)}}}).catch(e=>{throw We.create("idb-open",{originalErrorMessage:e.message})})),Ze}async function tt(e,t){try{const n=(await et()).transaction(Ye,"readwrite"),r=n.objectStore(Ye);await r.put(t,nt(e)),await n.done}catch(n){if(n instanceof S)de.warn(n.message);else{const e=We.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});de.warn(e.message)}}}function nt(e){return`${e.name}!${e.options.appId}`}class rt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new at(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=it();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){de.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=it(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),ot(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ot(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=c(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return de.warn(t),""}}}function it(){return(new Date).toISOString().substring(0,10)}class at{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!x()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await et()).transaction(Ye),n=await t.objectStore(Ye).get(nt(e));return await t.done,n}catch(t){if(t instanceof S)de.warn(t.message);else{const e=We.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});de.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return tt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return tt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ot(e){return c(JSON.stringify({version:2,heartbeats:e})).length}var st;st="",Be(new L("platform-logger",e=>new le(e),"PRIVATE")),Be(new L("heartbeat",e=>new rt(e),"PRIVATE")),Je(ce,ue,st),Je(ce,ue,"esm2017"),Je("fire-js","");Je("firebase","11.10.0","app");function lt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function ct(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ut=ct,dt=new T("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ht=new H("@firebase/auth");function pt(e){if(ht.logLevel<=V.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ht.error(`Auth (${Ke}): ${e}`,...n)}}function ft(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw vt(e,...n)}function mt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return vt(e,...n)}function gt(e,t,n){const r=Object.assign(Object.assign({},ut()),{[t]:n});return new T("auth","Firebase",r).create(t,{appName:e.name})}function yt(e){return gt(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return dt.create(e,...n)}function bt(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw vt(t,...r)}}function wt(e){const t="INTERNAL ASSERTION FAILED: "+e;throw pt(t),new Error(t)}function _t(e,t){e||wt(t)}function kt(){return"http:"===xt()||"https:"===xt()}function xt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function St(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(kt()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Tt{constructor(e,t){this.shortDelay=e,this.longDelay=t,_t(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(w())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return St()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function It(e,t){_t(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Et{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void wt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void wt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void wt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const At={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ct=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Nt=new Tt(3e4,6e4);function Pt(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Rt(e,t,n,r){return Dt(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const o=C(Object.assign({key:e.config.apiKey},a)).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:s},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&g(e.emulatorConfig.host)&&(l.credentials="include"),Et.fetch()(await Lt(e,e.config.apiHost,n,o),l)})}async function Dt(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},At),t);try{const t=new Ut(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw jt(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw jt(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw jt(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw jt(e,"user-disabled",a);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw gt(e,s,o);ft(e,s)}}catch(i){if(i instanceof S)throw i;ft(e,"network-request-failed",{message:String(i)})}}async function Ot(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await Rt(e,t,n,r,i);return"mfaPendingCredential"in a&&ft(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function Lt(e,t,n,r){const i=`${t}${n}?${r}`,a=e,o=a.config.emulator?It(e.config,i):`${e.config.apiScheme}://${i}`;if(Ct.includes(n)&&(await a._persistenceManagerAvailable,"COOKIE"===a._getPersistenceType())){return a._getPersistence()._getFinalTarget(o).toString()}return o}function Mt(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ut{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(mt(this.auth,"network-request-failed")),Nt.get())})}}function jt(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=mt(e,t,r);return i.customData._tokenResponse=n,i}function Ft(e){return void 0!==e&&void 0!==e.enterprise}class Vt{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Mt(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $t(e,t){return Rt(e,"GET","/v2/recaptchaConfig",Pt(e,t))}async function zt(e,t){return Rt(e,"POST","/v1/accounts:lookup",t)}function qt(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Bt(e){return 1e3*Number(e)}function Ht(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return pt("JWT malformed, contained fewer than 3 sections"),null;try{const e=u(n);return e?JSON.parse(e):(pt("Failed to decode base64 JWT payload"),null)}catch(i){return pt("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function Qt(e){const t=Ht(e);return bt(t,"internal-error"),bt("undefined"!==typeof t.exp,"internal-error"),bt("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Wt(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof S&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Gt{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null===e||void 0===e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class Kt{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qt(this.lastLoginAt),this.creationTime=qt(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xt(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Wt(e,zt(n,{idToken:r}));bt(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const o=(null===(t=a.providerUserInfo)||void 0===t?void 0:t.length)?Jt(a.providerUserInfo):[],s=(l=e.providerData,c=o,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&a.passwordHash)&&!(null===s||void 0===s?void 0:s.length),h=!!u&&d,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new Kt(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(e,p)}function Jt(e){return e.map(e=>{var{providerId:t}=e,n=lt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Yt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){bt(e.idToken,"internal-error"),bt("undefined"!==typeof e.idToken,"internal-error"),bt("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Qt(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){bt(0!==e.length,"internal-error");const t=Qt(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(bt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Dt(e,{},async()=>{const n=C({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await Lt(e,r,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const s={method:"POST",headers:o,body:n};return e.emulatorConfig&&g(e.emulatorConfig.host)&&(s.credentials="include"),Et.fetch()(a,s)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new Yt;return n&&(bt("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(bt("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(bt("number"===typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yt,this.toJSON())}_performRefresh(){return wt("not implemented")}}function Zt(e,t){bt("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class en{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=lt(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Kt(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Wt(this,this.stsTokenManager.getToken(this.auth,e));return bt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=O(e),r=await n.getIdToken(t),i=Ht(r);bt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"===typeof i.firebase?i.firebase:void 0,o=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:qt(Bt(i.auth_time)),issuedAtTime:qt(Bt(i.iat)),expirationTime:qt(Bt(i.exp)),signInProvider:o||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=O(e);await Xt(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(bt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new en(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Xt(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qe(this.auth.app))return Promise.reject(yt(this.auth));const e=await this.getIdToken();return await Wt(this,async function(e,t){return Rt(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,o,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(a=t.photoURL)&&void 0!==a?a:void 0,f=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:k}=t;bt(v&&k,e,"internal-error");const x=Yt.fromJSON(this.name,k);bt("string"===typeof v,e,"internal-error"),Zt(u,e.name),Zt(d,e.name),bt("boolean"===typeof b,e,"internal-error"),bt("boolean"===typeof w,e,"internal-error"),Zt(h,e.name),Zt(p,e.name),Zt(f,e.name),Zt(m,e.name),Zt(g,e.name),Zt(y,e.name);const S=new en({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:f,stsTokenManager:x,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(S.providerData=_.map(e=>Object.assign({},e))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Yt;r.updateFromServerResponse(t);const i=new en({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Xt(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];bt(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Jt(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),o=new Yt;o.updateFromIdToken(n);const s=new en({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:a}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Kt(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(s,l),s}}const tn=new Map;function nn(e){_t(e instanceof Function,"Expected a class definition");let t=tn.get(e);return t?(_t(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,tn.set(e,t),t)}class rn{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}rn.type="NONE";const an=rn;function on(e,t,n){return`firebase:${e}:${t}:${n}`}class sn{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=on(this.userKey,r.apiKey,i),this.fullPersistenceKey=on("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await zt(this.auth,{idToken:e}).catch(()=>{});return t?en._fromGetAccountInfoResponse(this.auth,t,e):null}return en._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new sn(nn(an),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||nn(an);const a=on(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(a);if(t){let n;if("string"===typeof t){const r=await zt(e,{idToken:t}).catch(()=>{});if(!r)break;n=await en._fromGetAccountInfoResponse(e,r,t)}else n=en._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const s=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&s.length?(i=s[0],o&&await i._set(a,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(a)}catch(l){}})),new sn(i,e,n)):new sn(i,e,n)}}function ln(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(hn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(cn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(fn(t))return"Blackberry";if(mn(t))return"Webos";if(un(t))return"Safari";if((t.includes("chrome/")||dn(t))&&!t.includes("edge/"))return"Chrome";if(pn(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function cn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w();return/firefox\//i.test(e)}function un(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:w()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w();return/crios\//i.test(e)}function hn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w();return/iemobile/i.test(e)}function pn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w();return/android/i.test(e)}function fn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w();return/blackberry/i.test(e)}function mn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w();return/webos/i.test(e)}function gn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function yn(){return function(){const e=w();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function vn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w();return gn(e)||pn(e)||mn(e)||fn(e)||/windows phone/i.test(e)||hn(e)}function bn(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ln(w());break;case"Worker":t=`${ln(w())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ke}/${r}`}class wn{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class _n{constructor(e){var t,n,r,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,a,o;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(a=s.containsNumericCharacter)||void 0===a||a),s.isValid&&(s.isValid=null===(o=s.containsNonAlphanumericCharacter)||void 0===o||o),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class kn{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sn(this),this.idTokenSubscription=new Sn(this),this.beforeStateQueue=new wn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=nn(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await sn.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(a){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await zt(this,{idToken:e}),n=await en._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Qe(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Xt(e)}catch(t){if("auth/network-request-failed"!==(null===t||void 0===t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qe(this.app))return Promise.reject(yt(this));const t=e?O(e):null;return t&&bt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&bt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qe(this.app)?Promise.reject(yt(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qe(this.app)?Promise.reject(yt(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(nn(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Rt(e,"GET","/v2/passwordPolicy",Pt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new _n(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new T("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Rt(e,"POST","/v2/accounts:revokeToken",Pt(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&nn(e)||this._popupRedirectResolver;bt(t,this,"argument-error"),this.redirectPersistenceManager=await sn.create(this,[nn(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(o,this,"internal-error"),o.then(()=>{a||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{const n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Qe(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(ht.logLevel<=V.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ht.warn(`Auth (${Ke}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function xn(e){return O(e)}class Sn{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new R(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Tn={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function In(e){return Tn.loadJS(e)}function En(e){return`__${e}${Math.floor(1e6*Math.random())}`}class An{constructor(){this.enterprise=new Cn}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Cn{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Nn="NO_RECAPTCHA";class Pn{constructor(e){this.type="recaptcha-enterprise",this.auth=xn(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Ft(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Nn)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new An).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{$t(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Vt(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Ft(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Tn.recaptchaEnterpriseScript;0!==t.length&&(t+=i),In(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Rn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=new Pn(e);let o;if(i)o=Nn;else try{o=await a.verify(n)}catch(l){o=await a.verify(n,!0)}const s=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Dn(e,t,n,r,i){var a,o;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Rn(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Rn(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("PHONE_PROVIDER")){const i=await Rn(e,t,n);return r(e,i).catch(async i=>{var a;if("AUDIT"===(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await Rn(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Rn(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function On(e){const t=xn(e),n=await $t(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Vt(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Pn(t).verify()}}class Ln{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wt("not implemented")}_getIdTokenResponse(e){return wt("not implemented")}_linkToIdToken(e,t){return wt("not implemented")}_getReauthenticationResolver(e){return wt("not implemented")}}async function Mn(e,t){return Rt(e,"POST","/v1/accounts:signUp",t)}async function Un(e,t){return Ot(e,"POST","/v1/accounts:signInWithPassword",Pt(e,t))}class jn extends Ln{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new jn(e,t,"password")}static _fromEmailAndCode(e,t){return new jn(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Dn(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Un,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Ot(e,"POST","/v1/accounts:signInWithEmailLink",Pt(e,t))}(e,{email:this._email,oobCode:this._password});default:ft(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Dn(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Mn,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Ot(e,"POST","/v1/accounts:signInWithEmailLink",Pt(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:ft(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Fn(e,t){return Ot(e,"POST","/v1/accounts:signInWithIdp",Pt(e,t))}class Vn extends Ln{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Vn(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ft("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=lt(t,["providerId","signInMethod"]);if(!n||!r)return null;const a=new Vn(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return Fn(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Fn(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Fn(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=C(t)}return e}}async function $n(e,t){return Rt(e,"POST","/v1/accounts:sendVerificationCode",Pt(e,t))}const zn={USER_NOT_FOUND:"user-not-found"};class qn extends Ln{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new qn({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new qn({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Ot(e,"POST","/v1/accounts:signInWithPhoneNumber",Pt(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Ot(e,"POST","/v1/accounts:signInWithPhoneNumber",Pt(e,t));if(n.temporaryProof)throw jt(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Ot(e,"POST","/v1/accounts:signInWithPhoneNumber",Pt(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),zn)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new qn({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Bn{constructor(e){var t,n,r,i,a,o;const s=N(P(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);bt(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=s.lang)&&void 0!==a?a:null,this.tenantId=null!==(o=s.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=N(P(e)).link,n=t?N(P(t)).deep_link_id:null,r=N(P(e)).deep_link_id;return(r?N(P(r)).link:null)||r||n||t||e}(e);try{return new Bn(t)}catch(n){return null}}}class Hn{constructor(){this.providerId=Hn.PROVIDER_ID}static credential(e,t){return jn._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Bn.parseLink(t);return bt(n,"argument-error"),jn._fromEmailAndCode(e,n.code,n.tenantId)}}Hn.PROVIDER_ID="password",Hn.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Hn.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Qn{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Wn extends Qn{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Gn extends Wn{constructor(){super("facebook.com")}static credential(e){return Vn._fromParams({providerId:Gn.PROVIDER_ID,signInMethod:Gn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gn.credentialFromTaggedObject(e)}static credentialFromError(e){return Gn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Gn.credential(t.oauthAccessToken)}catch(n){return null}}}Gn.FACEBOOK_SIGN_IN_METHOD="facebook.com",Gn.PROVIDER_ID="facebook.com";class Kn extends Wn{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Vn._fromParams({providerId:Kn.PROVIDER_ID,signInMethod:Kn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Kn.credentialFromTaggedObject(e)}static credentialFromError(e){return Kn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Kn.credential(n,r)}catch(i){return null}}}Kn.GOOGLE_SIGN_IN_METHOD="google.com",Kn.PROVIDER_ID="google.com";class Xn extends Wn{constructor(){super("github.com")}static credential(e){return Vn._fromParams({providerId:Xn.PROVIDER_ID,signInMethod:Xn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xn.credentialFromTaggedObject(e)}static credentialFromError(e){return Xn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Xn.credential(t.oauthAccessToken)}catch(n){return null}}}Xn.GITHUB_SIGN_IN_METHOD="github.com",Xn.PROVIDER_ID="github.com";class Jn extends Wn{constructor(){super("twitter.com")}static credential(e,t){return Vn._fromParams({providerId:Jn.PROVIDER_ID,signInMethod:Jn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Jn.credentialFromTaggedObject(e)}static credentialFromError(e){return Jn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Jn.credential(n,r)}catch(i){return null}}}Jn.TWITTER_SIGN_IN_METHOD="twitter.com",Jn.PROVIDER_ID="twitter.com";class Yn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await en._fromIdTokenResponse(e,n,r),a=Zn(n);return new Yn({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Zn(n);return new Yn({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Zn(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class er extends S{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,er.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new er(e,t,n,r)}}function tr(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw er._fromErrorAndOperation(e,n,t,r);throw n})}async function nr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Wt(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Yn._forOperation(e,"link",r)}async function rr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Qe(r.app))return Promise.reject(yt(r));const i="reauthenticate";try{const a=await Wt(e,tr(r,i,t,e),n);bt(a.idToken,r,"internal-error");const o=Ht(a.idToken);bt(o,r,"internal-error");const{sub:s}=o;return bt(e.uid===s,r,"user-mismatch"),Yn._forOperation(e,i,a)}catch(a){throw"auth/user-not-found"===(null===a||void 0===a?void 0:a.code)&&ft(r,"user-mismatch"),a}}async function ir(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Qe(e.app))return Promise.reject(yt(e));const r="signIn",i=await tr(e,r,t),a=await Yn._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}function ar(e,t){return Rt(e,"POST","/v2/accounts/mfaEnrollment:start",Pt(e,t))}new WeakMap;const or="__sak";class sr{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(or,"1"),this.storage.removeItem(or),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class lr extends sr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vn(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);yn()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}lr.type="LOCAL";function cr(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp(`${r}=([^;]+)`);return null!==(n=null===(t=document.cookie.match(i))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function ur(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class dr{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=ur(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return cr(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=ur(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=ur(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=cr(n);const i=setInterval(()=>{const e=cr(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}dr.type="COOKIE";class hr extends sr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}hr.type="SESSION";class pr{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new pr(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!(null===a||void 0===a?void 0:a.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(a).map(async e=>e(t.origin,i)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function fr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}pr.receivers=[];class mr{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise((o,s)=>{const l=fr("",20);r.port1.start();const c=setTimeout(()=>{s(new Error("unsupported_event"))},n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function gr(){return window}function yr(){return"undefined"!==typeof gr().WorkerGlobalScope&&"function"===typeof gr().importScripts}const vr="firebaseLocalStorageDb",br="firebaseLocalStorage",wr="fbase_key";class _r{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function kr(e,t){return e.transaction([br],t?"readwrite":"readonly").objectStore(br)}function xr(){const e=indexedDB.open(vr,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(br,{keyPath:wr})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(br)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(vr);return new _r(e).toPromise()}(),t(await xr()))})})}async function Sr(e,t,n){const r=kr(e,!0).put({[wr]:t,value:n});return new _r(r).toPromise()}function Tr(e,t){const n=kr(e,!0).delete(t);return new _r(n).toPromise()}class Ir{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await xr()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yr()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pr._getInstance(yr()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new mr(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xr();return await Sr(e,or,"1"),await Tr(e,or),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Sr(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=kr(e,!1).get(t),r=await new _r(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Tr(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=kr(e,!1).getAll();return new _r(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ir.type="LOCAL";function Er(e,t){return Rt(e,"POST","/v2/accounts/mfaSignIn:start",Pt(e,t))}En("rcb"),new Tt(3e4,6e4);const Ar="recaptcha";async function Cr(e,t,n){var r;if(!e._getRecaptchaConfig())try{await On(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){bt("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},a=async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Nn){bt((null===n||void 0===n?void 0:n.type)===Ar,e,"argument-error");return ar(e,await Nr(e,t,n))}return ar(e,t)},o=Dn(e,r,"mfaSmsEnrollment",a,"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{bt("signin"===t.type,e,"internal-error");const a=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;bt(a,e,"missing-multi-factor-info");const o={mfaPendingCredential:t.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Nn){bt((null===n||void 0===n?void 0:n.type)===Ar,e,"argument-error");return Er(e,await Nr(e,t,n))}return Er(e,t)},l=Dn(e,o,"mfaSmsSignIn",s,"PHONE_PROVIDER");return(await l.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=async(e,t)=>{if(t.captchaResponse===Nn){bt((null===n||void 0===n?void 0:n.type)===Ar,e,"argument-error");return $n(e,await Nr(e,t,n))}return $n(e,t)},a=Dn(e,t,"sendVerificationCode",r,"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Nr(e,t,n){bt(n.type===Ar,e,"argument-error");const r=await n.verify();bt("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Pr{constructor(e){this.providerId=Pr.PROVIDER_ID,this.auth=xn(e)}verifyPhoneNumber(e,t){return Cr(this.auth,e,O(t))}static credential(e,t){return qn._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Pr.credentialFromTaggedObject(t)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?qn._fromTokenResponse(n,r):null}}Pr.PROVIDER_ID="phone",Pr.PHONE_SIGN_IN_METHOD="phone";class Rr extends Ln{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fn(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Fn(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Fn(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Dr(e){return ir(e.auth,new Rr(e),e.bypassAuthState)}function Or(e){const{auth:t,user:n}=e;return bt(n,t,"internal-error"),rr(n,new Rr(e),e.bypassAuthState)}async function Lr(e){const{auth:t,user:n}=e;return bt(n,t,"internal-error"),nr(n,new Rr(e),e.bypassAuthState)}class Mr{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:o}=e;if(a)return void this.reject(a);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Dr;case"linkViaPopup":case"linkViaRedirect":return Lr;case"reauthViaPopup":case"reauthViaRedirect":return Or;default:ft(this.auth,"internal-error")}}resolve(e){_t(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_t(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ur=new Tt(2e3,1e4);class jr extends Mr{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,jr.currentPopupAction&&jr.currentPopupAction.cancel(),jr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return bt(e,this.auth,"internal-error"),e}async onExecution(){_t(1===this.filter.length,"Popup operations only handle one event");const e=fr();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(mt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(mt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mt(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Ur.get())};e()}}jr.currentPopupAction=null;new Map;new Tt(3e4,6e4);new Tt(5e3,15e3),new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);encodeURIComponent("fac");var Fr="@firebase/auth",Vr="1.10.8";class $r{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=h())||void 0===t||t[`_${e}`]})("authIdTokenMaxAge");var zr;Tn={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=mt("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},zr="Browser",Be(new L("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;bt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:zr,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bn(zr)},c=new kn(r,i,a,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(nn);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Be(new L("auth-internal",e=>(e=>new $r(e))(xn(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Je(Fr,Vr,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(zr)),Je(Fr,Vr,"esm2017");var qr,Br,Hr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Qr={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,a=this.h,o=0;o<t;){if(0==a)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[a++]=e.charCodeAt(o++),a==this.blockSize){n(this,i),a=0;break}}else for(;o<t;)if(i[a++]=e[o++],a==this.blockSize){n(this,i),a=0;break}}this.h=a,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function a(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return h(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var s=a(0),l=a(1),c=a(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function p(e,t){return e.add(h(t))}function f(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(s,s);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),a=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=a.add(r);0>=c.l(e)&&(i=i.add(n),a=c),r=v(r,1),n=v(n,1)}return t=p(e,i.j(t)),new m(i,t)}for(i=s;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(a=o(n)).j(t);d(c)||0<c.l(e);)c=(a=o(n-=r)).j(t);u(a)&&(a=l),i=i.add(a),e=p(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,a=[],o=0;o<i;o++)a[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(a,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,a=((0<(n=p(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=p(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,a=0;a<=t;a++){var o=i+(65535&this.i(a))+(65535&e.i(a)),s=(o>>>16)+(this.i(a)>>>16)+(e.i(a)>>>16);i=s>>>16,o&=65535,s&=65535,n[a]=s<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var a=0;a<e.g.length;a++){var l=this.i(i)>>>16,p=65535&this.i(i),m=e.i(a)>>>16,g=65535&e.i(a);n[2*i+2*a]+=p*g,f(n,2*i+2*a),n[2*i+2*a+1]+=l*g,f(n,2*i+2*a+1),n[2*i+2*a+1]+=p*m,f(n,2*i+2*a+1),n[2*i+2*a+2]+=l*m,f(n,2*i+2*a+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Br=Qr.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=s,a=0;a<t.length;a+=8){var l=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(c))):i=(i=i.j(r)).add(o(c))}return i},qr=Qr.Integer=r}).apply("undefined"!==typeof Hr?Hr:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Wr,Gr,Kr,Xr,Jr,Yr,Zr,ei,ti="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ni={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ti&&ti];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var a=0;a<e.length-1;a++){var o=e[a];if(!(o in i))break e;i=i[o]}(r=r(a=i[e=e[e.length-1]]))!=a&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function a(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function p(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(a(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function f(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function k(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function x(e){i.setTimeout(()=>{throw e},0)}function S(){var e=C;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var T=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new I,e=>e.reset());class I{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let E,A=!1,C=new class{constructor(){this.h=this.g=null}add(e,t){const n=T.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},N=()=>{const e=i.Promise.resolve(void 0);E=()=>{e.then(P)}};var P=()=>{for(var e;e=S();){try{e.h.call(e.g)}catch(n){x(n)}var t=T;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}A=!1};function R(){this.s=this.s,this.C=this.C}function D(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},D.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function L(e,t){if(D.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:M[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&L.aa.h.call(this)}}d(L,D);var M={2:"touch",3:"pen",4:"mouse"};L.prototype.h=function(){L.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var U="closure_listenable_"+(1e6*Math.random()|0),j=0;function F(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++j,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function $(e){this.src=e,this.g={},this.h=0}function z(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Array.prototype.indexOf.call(i,t,void 0);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}$.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=q(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new F(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var B="closure_lm_"+(1e6*Math.random()|0),H={};function Q(e,t,n,r,i){if(r&&r.once)return G(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Q(e,t[a],n,r,i);return null}return n=te(n),e&&e[U]?e.K(t,n,o(r)?!!r.capture:!!r,i):W(e,t,n,!1,r,i)}function W(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var s=o(i)?!!i.capture:!!i,l=Z(e);if(l||(e[B]=l=new $(e)),(n=l.add(t,n,r,s,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Y;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)O||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(J(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)G(e,t[a],n,r,i);return null}return n=te(n),e&&e[U]?e.L(t,n,o(r)?!!r.capture:!!r,i):W(e,t,n,!0,r,i)}function K(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)K(e,t[a],n,r,i);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[U]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(a=e.g[t],n,r,i))&&(V(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,i)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[U])z(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(J(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(z(n,e),0==n.h&&(n.src=null,t[B]=null)):V(e)}}}function J(e){return e in H?H[e]:H[e]="on"+e}function Y(e,t){if(e.da)e=!0;else{t=new L(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function Z(e){return(e=e[B])instanceof $?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){R.call(this),this.i=new $(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new D(t,e);else if(t instanceof D)t.target=t.target||e;else{var i=t;_(t=new D(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ie(o,r,!0,t)&&i}if(i=ie(o=t.g=e,r,!0,t)&&i,i=ie(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ie(o=t.g=n[a],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.da&&o.capture==n){var s=o.listener,l=o.ha||o.src;o.fa&&z(e.i,o),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}function ae(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function oe(e){e.g=ae(()=>{e.g=null,e.i&&(e.i=!1,oe(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,R),ne.prototype[U]=!0,ne.prototype.removeEventListener=function(e,t,n,r){K(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class se extends R{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){R.call(this),this.h=e,this.g={}}d(le,R);var ce=[];function ue(e){v(e.g,function(e,t){this.g.hasOwnProperty(t)&&X(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,pe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function fe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}fe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){D.call(this,"d")}function be(){D.call(this,"c")}d(ve,D),d(be,D);var we={},_e=null;function ke(){return _e=_e||new ne}function xe(e){D.call(this,we.La,e)}function Se(e){const t=ke();re(t,new xe(t))}function Te(e,t){D.call(this,we.STAT_EVENT,e),this.stat=t}function Ie(e){const t=ke();re(t,new Te(t,e))}function Ee(e,t){D.call(this,we.Ma,e),this.size=t}function Ae(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Ce(){this.g=!0}function Ne(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return de(n)}catch(s){return t}}(e,n)+(r?" "+r:"")})}we.La="serverreachability",d(xe,D),we.STAT_EVENT="statevent",d(Te,D),we.Ma="timingevent",d(Ee,D),Ce.prototype.xa=function(){this.g=!1},Ce.prototype.info=function(){};var Pe,Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},De={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Oe(){}function Le(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}d(Oe,fe),Oe.prototype.g=function(){return new XMLHttpRequest},Oe.prototype.i=function(){return{}},Pe=new Oe;var Ue={},je={};function Fe(e,t,n){e.L=1,e.v=dt(ot(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),qe(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Tt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Me,e.g=pn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new se(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var a=0;a<i.length;a++){var o=Q(n,i[a],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Se(),function(e,t,n,r,i,a){e.info(function(){if(e.g)if(a)for(var o="",s=a.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.i,e.u,e.A,e.l,e.R,e.m)}function $e(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function ze(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?je:(n=Number(t.substring(n,r)),isNaN(n)?Ue:(r+=1)+n>t.length?je:(t=t.slice(r,r+n),e.C=r+n,t))}function qe(e){e.S=Date.now()+e.I,Be(e,e.I)}function Be(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ae(c(e.ba,e),t)}function He(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Qe(e){0==e.j.G||e.J||ln(e.j,e)}function We(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;sn(n),Xt(n)}rn(n),Ie(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ae(c(n.Za,n),6e3));if(1>=Ye(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&sn(n),!f(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(et(a,a.h),a.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var s=o,l=r.L;l&&(s.I=l),s.B&&(He(s),qe(s)),r.g=o}else nn(r);0<n.i.length&&Yt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Kt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Se()}catch(u){}}Le.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},Le.prototype.Y=function(e){try{if(e==this.g)e:{const h=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Qt(this.g)))){this.J||4!=h||7==t||Se(),He(this);var n=this.g.Z();this.X=n;t:if($e(this)){var r=Qt(this.g);e="";var a=r.length,o=4==Ht(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){We(this),Qe(this);var s="";break t}this.h.i=new i.TextDecoder}for(t=0;t<a;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==a-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,a,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!f(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ie(12),We(this),Qe(this);break e}Ne(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=ze(this,s),e==je){4==h&&(this.s=4,Ie(14),n=!1),Ne(this.i,this.l,null,"[Incomplete Response]");break}if(e==Ue){this.s=4,Ie(15),Ne(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Ne(this.i,this.l,e,null),Ge(this,e)}if($e(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=s.length||this.h.h||(this.s=1,Ie(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),an(d),d.M=!0,Ie(11))}}else Ne(this.i,this.l,s,"[Invalid Chunked Response]"),We(this),Qe(this)}else Ne(this.i,this.l,s,null),Ge(this,s);4==h&&We(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(f(e[r]))continue;var n=k(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Ie(12)):(this.s=0,Ie(13)),We(this),Qe(this)}}}catch(h){}},Le.prototype.cancel=function(){this.J=!0,We(this)},Le.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Se(),Ie(17)),We(this),this.s=2,Qe(this)):Be(this,this.S-e)};var Ke=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Je(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ye(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(a(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(a(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(a(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}Xe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function at(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof at){this.h=e.h,st(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new _t;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,st(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new _t(null,this.h))}function ot(e){return new at(e)}function st(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof _t?(e.i=t,function(e,t){t&&!e.j&&(kt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(xt(this,t),Tt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=pt(t,bt)),e.i=new _t(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function pt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ft),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ft(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}at.prototype.toString=function(){var e=[],t=this.j;t&&e.push(pt(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(pt(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(pt(n,"/"==n.charAt(0)?vt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",pt(n,wt)),e.join("")};var mt,gt=/[#\/\?@]/g,yt=/[#\?:]/g,vt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function _t(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function kt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function xt(e,t){kt(e),t=It(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function St(e,t){return kt(e),t=It(e,t),e.g.has(t)}function Tt(e,t,n){xt(e,t),0<n.length&&(e.i=null,e.g.set(It(e,t),h(n)),e.h+=n.length)}function It(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Et(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(a){}}function At(){this.g=new pe}function Ct(e,t,n){const r=n||"";try{rt(e,function(e,n){let i=e;o(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Nt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Pt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Rt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Dt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ot(e)}function Ot(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Lt(e){let t="";return v(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Mt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Lt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Ut(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=_t.prototype).add=function(e,t){kt(this),this.i=null,e=It(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){kt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){kt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){kt(this);let t=[];if("string"===typeof e)St(this,e)&&(t=t.concat(this.g.get(It(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return kt(this),this.i=null,St(this,e=It(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const a=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=a;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},d(Nt,fe),Nt.prototype.g=function(){return new Pt(this.l,this.j)},Nt.prototype.i=(mt={},function(){return mt}),d(Pt,ne),(e=Pt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ot(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ot(this)),this.g&&(this.readyState=3,Ot(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Dt(this):Ot(this),3==this.readyState&&Rt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Dt(this))},e.Qa=function(e){this.g&&(this.response=e,Dt(this))},e.ga=function(){this.g&&Dt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Ut,ne);var jt=/^https?$/i,Ft=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,$t(e),qt(e)}function $t(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function zt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))ae(e.Ea,0,e);else if(re(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var a;if(a=0===r){var o=String(e.D).match(it)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),a=!jt.test(o?o.toLowerCase():"")}n=a}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var s=2<Ht(e)?e.g.statusText:""}catch(l){s=""}e.l=s+" ["+e.Z()+"]",$t(e)}}finally{qt(e)}}}function qt(e,t){if(e.g){Bt(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Bt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function Qt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Wt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new Ce,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wt("baseRetryDelayMs",5e3,e),this.cb=Wt("retryDelaySeedMs",1e4,e),this.Wa=Wt("forwardChannelMaxRetries",2,e),this.wa=Wt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new At,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Kt(e){if(Jt(e),3==e.G){var t=e.U++,n=ot(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Le(e,e.j,t)).L=2,t.v=dt(ot(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=pn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),qe(t)}dn(e)}function Xt(e){e.g&&(an(e),e.g.cancel(),e.g=null)}function Jt(e){Xt(e),e.u&&(i.clearTimeout(e.u),e.u=null),sn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Yt(e){if(!Je(e.h)&&!e.s){e.s=!0;var t=e.Ga;E||N(),A||(E(),A=!0),C.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Mt(r,e.m,e.o),n=new Le(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Fe(n,r,t)}function en(e,t){e.H&&v(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const l=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{Ct(l,e,"req"+n+"_")}catch(a){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;E||N(),A||(E(),A=!0),C.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ae(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function an(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function on(e){e.g=new Le(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Mt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(ot(t)),n.m=null,n.P=!0,Ve(n,e)}function sn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){sn(e),an(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=ke(),new Ee(r,n)),Yt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Ye(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ae(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new at(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||st(r,"https"),dt(r),t?function(e,t){const n=new Ce;if(i.Image){const r=new Image;r.onload=u(Et,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Et,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Et,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Et,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ce;const n=new AbortController,r=setTimeout(()=>{n.abort(),Et(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Et(0,0,!0,t):Et(0,0,!1,t)}).catch(()=>{clearTimeout(r),Et(0,0,!1,t)})}(r.toString(),n)}else Ie(2);e.G=0,e.l&&e.l.sa(t),dn(e),Jt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(p(e.ka,t),p(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof at?ot(n):new at(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var a=i.location;r=a.protocol,t=t?t+"."+a.hostname:a.hostname,a=+a.port;var o=new at(null);r&&st(o,r),t&&(o.g=t),a&&lt(o,a),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function pn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ut(new Nt({eb:n})):new Ut(e.pa)).Ha(e.J),t}function fn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!f(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!f(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function yn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Ut.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pe.g(),this.v=this.o?me(this.o):me(Pe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Vt(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),a=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bt(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){Vt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),qt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qt(this,!0)),Ut.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?zt(this):this.bb())},e.bb=function(){zt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ie(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Yt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Le(this,this.j,e);let a=this.o;if(this.S&&(a?(a=b(a),_(a,this.S)):a=this.S),null!==this.m||this.O||(i.H=a,a=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=ot(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),a&&(this.O?t="headers="+encodeURIComponent(String(Lt(a)))+"&"+t:this.m&&Mt(n,this.m,a)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Fe(i,n,null)):Fe(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Je(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ae(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ie(10),Xt(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,Xt(this),rn(this),Ie(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ie(2)):(this.j.info("Failed to ping google.com"),Ie(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Kt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ke(t.Ya++,e)),3==t.G&&Yt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Kt(this.g),delete this.g,gn.aa.N.call(this)},d(yn,ve),d(vn,be),d(bn,fn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new yn(e))},bn.prototype.sa=function(e){re(this.g,new vn)},bn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,ei=ni.createWebChannelTransport=function(){return new mn},Zr=ni.getStatEventTarget=function(){return ke()},Yr=ni.Event=we,Jr=ni.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,Xr=ni.ErrorCode=Re,De.COMPLETE="complete",Kr=ni.EventType=De,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Gr=ni.WebChannel=ge,ni.FetchXmlHttpFactory=Nt,Ut.prototype.listenOnce=Ut.prototype.L,Ut.prototype.getLastError=Ut.prototype.Ka,Ut.prototype.getLastErrorCode=Ut.prototype.Ba,Ut.prototype.getStatus=Ut.prototype.Z,Ut.prototype.getResponseJson=Ut.prototype.Oa,Ut.prototype.getResponseText=Ut.prototype.oa,Ut.prototype.send=Ut.prototype.ea,Ut.prototype.setWithCredentials=Ut.prototype.Ha,Wr=ni.XhrIo=Ut}).apply("undefined"!==typeof ti?ti:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const ri="@firebase/firestore",ii="4.8.0";class ai{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ai.UNAUTHENTICATED=new ai(null),ai.GOOGLE_CREDENTIALS=new ai("google-credentials-uid"),ai.FIRST_PARTY=new ai("first-party-uid"),ai.MOCK_USER=new ai("mock-user");let oi="11.10.0";const si=new H("@firebase/firestore");function li(){return si.logLevel}function ci(e){if(si.logLevel<=V.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(hi);si.debug(`Firestore (${oi}): ${e}`,...i)}}function ui(e){if(si.logLevel<=V.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(hi);si.error(`Firestore (${oi}): ${e}`,...i)}}function di(e){if(si.logLevel<=V.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(hi);si.warn(`Firestore (${oi}): ${e}`,...i)}}function hi(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function pi(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,fi(e,r,n)}function fi(e,t,n){let r=`FIRESTORE (${oi}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw ui(r),new Error(r)}function mi(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||fi(t,i,r)}function gi(e,t){return e}const yi={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vi extends S{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class bi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class wi{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _i{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ai.UNAUTHENTICATED))}shutdown(){}}class ki{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class xi{constructor(e){this.t=e,this.currentUser=ai.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){mi(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new bi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new bi,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{ci("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(ci("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new bi)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(ci("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(mi("string"==typeof t.accessToken,31837,{l:t}),new wi(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mi(null===e||"string"==typeof e,2055,{h:e}),new ai(e)}}class Si{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=ai.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ti{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Si(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(ai.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ii{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ei{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qe(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){mi(void 0===this.o,3512);const n=e=>{null!=e.error&&ci("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,ci("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{ci("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):ci("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ii(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(mi("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Ii(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ai(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function Ci(){return new TextEncoder}class Ni{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Ai(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Pi(e,t){return e<t?-1:e>t?1:0}function Ri(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return Pi(r,i);{const a=Ci(),o=Oi(a.encode(Di(e,n)),a.encode(Di(t,n)));return 0!==o?o:Pi(r,i)}}n+=r>65535?2:1}return Pi(e.length,t.length)}function Di(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function Oi(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Pi(e[n],t[n]);return Pi(e.length,t.length)}function Li(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Mi="__name__";class Ui{constructor(e,t,n){void 0===t?t=0:t>e.length&&pi(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&pi(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ui.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ui?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Ui.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Pi(e.length,t.length)}static compareSegments(e,t){const n=Ui.isNumericId(e),r=Ui.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Ui.extractNumericId(e).compare(Ui.extractNumericId(t)):Ri(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qr.fromString(e.substring(4,e.length-2))}}class ji extends Ui{construct(e,t,n){return new ji(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new vi(yi.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(e=>e.length>0))}return new ji(e)}static emptyPath(){return new ji([])}}const Fi=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vi extends Ui{construct(e,t,n){return new Vi(e,t,n)}static isValidIdentifier(e){return Fi.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Mi}static keyField(){return new Vi([Mi])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new vi(yi.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new vi(yi.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new vi(yi.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new vi(yi.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vi(t)}static emptyPath(){return new Vi([])}}class $i{constructor(e){this.path=e}static fromPath(e){return new $i(ji.fromString(e))}static fromName(e){return new $i(ji.fromString(e).popFirst(5))}static empty(){return new $i(ji.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ji.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ji.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $i(new ji(e.slice()))}}function zi(e,t,n){if(!n)throw new vi(yi.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function qi(e){if(!$i.isDocumentKey(e))throw new vi(yi.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Bi(e){if($i.isDocumentKey(e))throw new vi(yi.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Hi(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function Qi(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":pi(12329,{type:typeof e})}function Wi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new vi(yi.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qi(e);throw new vi(yi.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Gi(e,t){const n={typeString:e};return t&&(n.value=t),n}function Ki(e,t){if(!Hi(e))throw new vi(yi.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,a="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const o=e[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(void 0!==a&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new vi(yi.INVALID_ARGUMENT,n);return!0}const Xi=-62135596800,Ji=1e6;class Yi{static now(){return Yi.fromMillis(Date.now())}static fromDate(e){return Yi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Ji);return new Yi(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new vi(yi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new vi(yi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Xi)throw new vi(yi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new vi(yi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ji}_compareTo(e){return this.seconds===e.seconds?Pi(this.nanoseconds,e.nanoseconds):Pi(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Yi._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ki(e,Yi._jsonSchema))return new Yi(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Xi;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Yi._jsonSchemaVersion="firestore/timestamp/1.0",Yi._jsonSchema={type:Gi("string",Yi._jsonSchemaVersion),seconds:Gi("number"),nanoseconds:Gi("number")};class Zi{static fromTimestamp(e){return new Zi(e)}static min(){return new Zi(new Yi(0,0))}static max(){return new Zi(new Yi(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ea=-1;class ta{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}ta.UNKNOWN_ID=-1;function na(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Zi.fromTimestamp(1e9===r?new Yi(n+1,0):new Yi(n,r));return new ia(i,$i.empty(),t)}function ra(e){return new ia(e.readTime,e.key,ea)}class ia{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ia(Zi.min(),$i.empty(),ea)}static max(){return new ia(Zi.max(),$i.empty(),ea)}}function aa(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=$i.comparator(e.documentKey,t.documentKey),0!==n?n:Pi(e.largestBatchId,t.largestBatchId))}const oa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function la(e){if(e.code!==yi.FAILED_PRECONDITION||e.message!==oa)throw e;ci("LocalStore","Unexpectedly lost primary lease")}class ca{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&pi(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ca((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ca?t:ca.resolve(t)}catch(e){return ca.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ca.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ca.reject(t)}static resolve(e){return new ca((t,n)=>{t(e)})}static reject(e){return new ca((t,n)=>{n(e)})}static waitFor(e){return new ca((t,n)=>{let r=0,i=0,a=!1;e.forEach(e=>{++r,e.next(()=>{++i,a&&i===r&&t()},e=>n(e))}),a=!0,i===r&&t()})}static or(e){let t=ca.resolve(!1);for(const n of e)t=t.next(e=>e?ca.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new ca((n,r)=>{const i=e.length,a=new Array(i);let o=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next(e=>{a[l]=e,++o,o===i&&n(a)},e=>r(e))}})}static doWhile(e,t){return new ca((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function ua(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function da(e){return"IndexedDbTransactionError"===e.name}class ha{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this._e(e),this.ae=e=>t.writeSequenceNumber(e))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}ha.ue=-1;const pa=-1;function fa(e){return null==e}function ma(e){return 0===e&&1/e==-1/0}function ga(e){return"number"==typeof e&&Number.isInteger(e)&&!ma(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const ya="\x01";function va(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=wa(t)),t=ba(e.get(n),t);return wa(t)}function ba(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case ya:n+="\x01\x11";break;default:n+=t}}return n}function wa(e){return e+ya+"\x01"}const _a="remoteDocuments",ka="owner",xa="mutationQueues",Sa="mutations";const Ta="documentMutations",Ia="remoteDocumentsV14",Ea="remoteDocumentGlobal",Aa="targets",Ca="targetDocuments",Na="targetGlobal",Pa="collectionParents",Ra="clientMetadata",Da="bundles",Oa="namedQueries",La="indexConfiguration",Ma="indexState",Ua="indexEntries",ja="documentOverlays",Fa="globals",Va=[xa,Sa,Ta,_a,Aa,ka,Na,Ca,Ra,Ea,Pa,Da,Oa],$a=[xa,Sa,Ta,Ia,Aa,ka,Na,Ca,Ra,Ea,Pa,Da,Oa,ja],za=$a,qa=[...za,La,Ma,Ua];function Ba(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ha(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Qa(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Wa{constructor(e,t){this.comparator=e,this.root=t||Ka.EMPTY}insert(e,t){return new Wa(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ka.BLACK,null,null))}remove(e){return new Wa(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ka.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ga(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ga(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ga(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ga(this.root,e,this.comparator,!0)}}class Ga{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ka{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ka.RED,this.left=null!=r?r:Ka.EMPTY,this.right=null!=i?i:Ka.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ka(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ka.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ka.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ka.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ka.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pi(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pi(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pi(27949);return e+(this.isRed()?0:1)}}Ka.EMPTY=null,Ka.RED=!0,Ka.BLACK=!1,Ka.EMPTY=new class{constructor(){this.size=0}get key(){throw pi(57766)}get value(){throw pi(16141)}get color(){throw pi(16727)}get left(){throw pi(29726)}get right(){throw pi(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ka(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xa{constructor(e){this.comparator=e,this.data=new Wa(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ja(this.data.getIterator())}getIteratorFrom(e){return new Ja(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Xa))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Xa(this.comparator);return t.data=e,t}}class Ja{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ya{constructor(e){this.fields=e,e.sort(Vi.comparator)}static empty(){return new Ya([])}unionWith(e){let t=new Xa(Vi.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ya(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Li(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Za extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class eo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Za("Invalid base64 string: "+e):e}}(e);return new eo(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new eo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pi(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}eo.EMPTY_BYTE_STRING=new eo("");const to=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function no(e){if(mi(!!e,39018),"string"==typeof e){let t=0;const n=to.exec(e);if(mi(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ro(e.seconds),nanos:ro(e.nanos)}}function ro(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function io(e){return"string"==typeof e?eo.fromBase64String(e):eo.fromUint8Array(e)}const ao="server_timestamp",oo="__type__",so="__previous_value__",lo="__local_write_time__";function co(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[oo])||void 0===n?void 0:n.stringValue)===ao}function uo(e){const t=e.mapValue.fields[so];return co(t)?uo(t):t}function ho(e){const t=no(e.mapValue.fields[lo].timestampValue);return new Yi(t.seconds,t.nanos)}class po{constructor(e,t,n,r,i,a,o,s,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=l,this.isUsingEmulator=c}}const fo="(default)";class mo{constructor(e,t){this.projectId=e,this.database=t||fo}static empty(){return new mo("","")}get isDefaultDatabase(){return this.database===fo}isEqual(e){return e instanceof mo&&e.projectId===this.projectId&&e.database===this.database}}const go="__type__",yo="__max__",vo={mapValue:{fields:{__type__:{stringValue:yo}}}},bo="__vector__",wo="value";function _o(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?co(e)?4:jo(e)?9007199254740991:Mo(e)?10:11:pi(28295,{value:e})}function ko(e,t){if(e===t)return!0;const n=_o(e);if(n!==_o(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ho(e).isEqual(ho(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=no(e.timestampValue),r=no(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return io(e.bytesValue).isEqual(io(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ro(e.geoPointValue.latitude)===ro(t.geoPointValue.latitude)&&ro(e.geoPointValue.longitude)===ro(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ro(e.integerValue)===ro(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ro(e.doubleValue),r=ro(t.doubleValue);return n===r?ma(n)===ma(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Li(e.arrayValue.values||[],t.arrayValue.values||[],ko);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ba(n)!==Ba(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ko(n[i],r[i])))return!1;return!0}(e,t);default:return pi(52216,{left:e})}}function xo(e,t){return void 0!==(e.values||[]).find(e=>ko(e,t))}function So(e,t){if(e===t)return 0;const n=_o(e),r=_o(t);if(n!==r)return Pi(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pi(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ro(e.integerValue||e.doubleValue),r=ro(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return To(e.timestampValue,t.timestampValue);case 4:return To(ho(e),ho(t));case 5:return Ri(e.stringValue,t.stringValue);case 6:return function(e,t){const n=io(e),r=io(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Pi(n[i],r[i]);if(0!==e)return e}return Pi(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Pi(ro(e.latitude),ro(t.latitude));return 0!==n?n:Pi(ro(e.longitude),ro(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Io(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,a;const o=e.fields||{},s=t.fields||{},l=null===(n=o[wo])||void 0===n?void 0:n.arrayValue,c=null===(r=s[wo])||void 0===r?void 0:r.arrayValue,u=Pi((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(a=null==c?void 0:c.values)||void 0===a?void 0:a.length)||0);return 0!==u?u:Io(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===vo.mapValue&&t===vo.mapValue)return 0;if(e===vo.mapValue)return 1;if(t===vo.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let o=0;o<r.length&&o<a.length;++o){const e=Ri(r[o],a[o]);if(0!==e)return e;const t=So(n[r[o]],i[a[o]]);if(0!==t)return t}return Pi(r.length,a.length)}(e.mapValue,t.mapValue);default:throw pi(23264,{le:n})}}function To(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Pi(e,t);const n=no(e),r=no(t),i=Pi(n.seconds,r.seconds);return 0!==i?i:Pi(n.nanos,r.nanos)}function Io(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=So(n[i],r[i]);if(e)return e}return Pi(n.length,r.length)}function Eo(e){return Ao(e)}function Ao(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=no(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return io(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return $i.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ao(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Ao(e.fields[i])}`;return n+"}"}(e.mapValue):pi(61005,{value:e})}function Co(e){switch(_o(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=uo(e);return t?16+Co(t):16;case 5:return 2*e.stringValue.length;case 6:return io(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Co(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Ha(e.fields,(e,n)=>{t+=e.length+Co(n)}),t}(e.mapValue);default:throw pi(13486,{value:e})}}function No(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Po(e){return!!e&&"integerValue"in e}function Ro(e){return!!e&&"arrayValue"in e}function Do(e){return!!e&&"nullValue"in e}function Oo(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Lo(e){return!!e&&"mapValue"in e}function Mo(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[go])||void 0===n?void 0:n.stringValue)===bo}function Uo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ha(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Uo(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Uo(e.arrayValue.values[n]);return t}return Object.assign({},e)}function jo(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===yo}class Fo{constructor(e){this.value=e}static empty(){return new Fo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Lo(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uo(t)}setAll(e){let t=Vi.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Uo(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Lo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ko(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Lo(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ha(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Fo(Uo(this.value))}}function Vo(e){const t=[];return Ha(e.fields,(e,n)=>{const r=new Vi([e]);if(Lo(n)){const e=Vo(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Ya(t)}class $o{constructor(e,t,n,r,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(e){return new $o(e,0,Zi.min(),Zi.min(),Zi.min(),Fo.empty(),0)}static newFoundDocument(e,t,n,r){return new $o(e,1,t,Zi.min(),n,r,0)}static newNoDocument(e,t){return new $o(e,2,t,Zi.min(),Zi.min(),Fo.empty(),0)}static newUnknownDocument(e,t){return new $o(e,3,t,Zi.min(),Zi.min(),Fo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Zi.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Zi.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $o&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $o(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zo{constructor(e,t){this.position=e,this.inclusive=t}}function qo(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],o=e.position[i];if(r=a.field.isKeyField()?$i.comparator($i.fromName(o.referenceValue),n.key):So(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Bo(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ko(e.position[n],t.position[n]))return!1;return!0}class Ho{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Qo(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Wo{}class Go extends Wo{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ns(e,t,n):"array-contains"===t?new os(e,n):"in"===t?new ss(e,n):"not-in"===t?new ls(e,n):"array-contains-any"===t?new cs(e,n):new Go(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new rs(e,n):new is(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(So(t,this.value)):null!==t&&_o(this.value)===_o(t)&&this.matchesComparison(So(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pi(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ko extends Wo{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Ko(e,t)}matches(e){return Xo(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.he||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Xo(e){return"and"===e.op}function Jo(e){return Yo(e)&&Xo(e)}function Yo(e){for(const t of e.filters)if(t instanceof Ko)return!1;return!0}function Zo(e){if(e instanceof Go)return e.field.canonicalString()+e.op.toString()+Eo(e.value);if(Jo(e))return e.filters.map(e=>Zo(e)).join(",");{const t=e.filters.map(e=>Zo(e)).join(",");return`${e.op}(${t})`}}function es(e,t){return e instanceof Go?function(e,t){return t instanceof Go&&e.op===t.op&&e.field.isEqual(t.field)&&ko(e.value,t.value)}(e,t):e instanceof Ko?function(e,t){return t instanceof Ko&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&es(n,t.filters[r]),!0)}(e,t):void pi(19439)}function ts(e){return e instanceof Go?function(e){return`${e.field.canonicalString()} ${e.op} ${Eo(e.value)}`}(e):e instanceof Ko?function(e){return e.op.toString()+" {"+e.getFilters().map(ts).join(" ,")+"}"}(e):"Filter"}class ns extends Go{constructor(e,t,n){super(e,t,n),this.key=$i.fromName(n.referenceValue)}matches(e){const t=$i.comparator(e.key,this.key);return this.matchesComparison(t)}}class rs extends Go{constructor(e,t){super(e,"in",t),this.keys=as("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class is extends Go{constructor(e,t){super(e,"not-in",t),this.keys=as("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function as(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>$i.fromName(e.referenceValue))}class os extends Go{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ro(t)&&xo(t.arrayValue,this.value)}}class ss extends Go{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&xo(this.value.arrayValue,t)}}class ls extends Go{constructor(e,t){super(e,"not-in",t)}matches(e){if(xo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!xo(this.value.arrayValue,t)}}class cs extends Go{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ro(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>xo(this.value.arrayValue,e))}}class us{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.Pe=null}}function ds(e){return new us(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function hs(e){const t=gi(e);if(null===t.Pe){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Zo(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),fa(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Eo(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Eo(e)).join(",")),t.Pe=e}return t.Pe}function ps(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Qo(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!es(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Bo(e.startAt,t.startAt)&&Bo(e.endAt,t.endAt)}function fs(e){return $i.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class ms{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function gs(e,t,n,r,i,a,o,s){return new ms(e,t,n,r,i,a,o,s)}function ys(e){return new ms(e)}function vs(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function bs(e){return null!==e.collectionGroup}function ws(e){const t=gi(e);if(null===t.Te){t.Te=[];const e=new Set;for(const i of t.explicitOrderBy)t.Te.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Xa(Vi.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Te.push(new Ho(r,n))}),e.has(Vi.keyField().canonicalString())||t.Te.push(new Ho(Vi.keyField(),n))}return t.Te}function _s(e){const t=gi(e);return t.Ie||(t.Ie=ks(t,ws(e))),t.Ie}function ks(e,t){if("F"===e.limitType)return ds(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Ho(e.field,t)});const n=e.endAt?new zo(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new zo(e.startAt.position,e.startAt.inclusive):null;return ds(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function xs(e,t){const n=e.filters.concat([t]);return new ms(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ss(e,t,n){return new ms(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ts(e,t){return ps(_s(e),_s(t))&&e.limitType===t.limitType}function Is(e){return`${hs(_s(e))}|lt:${e.limitType}`}function Es(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>ts(e)).join(", ")}]`),fa(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Eo(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Eo(e)).join(",")),`Target(${t})`}(_s(e))}; limitType=${e.limitType})`}function As(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):$i.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of ws(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=qo(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,ws(e),t))&&!(e.endAt&&!function(e,t,n){const r=qo(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,ws(e),t))}(e,t)}function Cs(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ns(e){return(t,n)=>{let r=!1;for(const i of ws(e)){const e=Ps(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Ps(e,t,n){const r=e.field.isKeyField()?$i.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?So(r,i):pi(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return pi(19790,{direction:e.dir})}}class Rs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ha(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Qa(this.inner)}size(){return this.innerSize}}const Ds=new Wa($i.comparator);function Os(){return Ds}const Ls=new Wa($i.comparator);function Ms(){let e=Ls;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Us(e){let t=Ls;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function js(){return Vs()}function Fs(){return Vs()}function Vs(){return new Rs(e=>e.toString(),(e,t)=>e.isEqual(t))}const $s=new Wa($i.comparator),zs=new Xa($i.comparator);function qs(){let e=zs;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Bs=new Xa(Pi);function Hs(){return Bs}function Qs(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ma(t)?"-0":t}}function Ws(e){return{integerValue:""+e}}function Gs(e,t){return ga(t)?Ws(t):Qs(e,t)}class Ks{constructor(){this._=void 0}}function Xs(e,t,n){return e instanceof Zs?function(e,t){const n={fields:{[oo]:{stringValue:ao},[lo]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&co(t)&&(t=uo(t)),t&&(n.fields[so]=t),{mapValue:n}}(n,t):e instanceof el?tl(e,t):e instanceof nl?rl(e,t):function(e,t){const n=Ys(e,t),r=al(n)+al(e.Ee);return Po(n)&&Po(e.Ee)?Ws(r):Qs(e.serializer,r)}(e,t)}function Js(e,t,n){return e instanceof el?tl(e,t):e instanceof nl?rl(e,t):n}function Ys(e,t){return e instanceof il?function(e){return Po(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Zs extends Ks{}class el extends Ks{constructor(e){super(),this.elements=e}}function tl(e,t){const n=ol(t);for(const r of e.elements)n.some(e=>ko(e,r))||n.push(r);return{arrayValue:{values:n}}}class nl extends Ks{constructor(e){super(),this.elements=e}}function rl(e,t){let n=ol(t);for(const r of e.elements)n=n.filter(e=>!ko(e,r));return{arrayValue:{values:n}}}class il extends Ks{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function al(e){return ro(e.integerValue||e.doubleValue)}function ol(e){return Ro(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class sl{constructor(e,t){this.field=e,this.transform=t}}class ll{constructor(e,t){this.version=e,this.transformResults=t}}class cl{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new cl}static exists(e){return new cl(void 0,e)}static updateTime(e){return new cl(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ul(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class dl{}function hl(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new kl(e.key,cl.none()):new yl(e.key,e.data,cl.none());{const n=e.data,r=Fo.empty();let i=new Xa(Vi.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new vl(e.key,r,new Ya(i.toArray()),cl.none())}}function pl(e,t,n){e instanceof yl?function(e,t,n){const r=e.value.clone(),i=wl(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof vl?function(e,t,n){if(!ul(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=wl(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(bl(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function fl(e,t,n,r){return e instanceof yl?function(e,t,n,r){if(!ul(e.precondition,t))return n;const i=e.value.clone(),a=_l(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof vl?function(e,t,n,r){if(!ul(e.precondition,t))return n;const i=_l(e.fieldTransforms,r,t),a=t.data;return a.setAll(bl(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return ul(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ml(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Ys(r.transform,e||null);null!=i&&(null===n&&(n=Fo.empty()),n.set(r.field,i))}return n||null}function gl(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Li(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof el&&t instanceof el||e instanceof nl&&t instanceof nl?Li(e.elements,t.elements,ko):e instanceof il&&t instanceof il?ko(e.Ee,t.Ee):e instanceof Zs&&t instanceof Zs}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class yl extends dl{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class vl extends dl{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function bl(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function wl(e,t,n){const r=new Map;mi(e.length===n.length,32656,{Ae:n.length,Re:e.length});for(let i=0;i<n.length;i++){const a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Js(o,s,n[i]))}return r}function _l(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,Xs(e,a,t))}return r}class kl extends dl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xl extends dl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Sl{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&pl(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=fl(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=fl(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Fs();return this.mutations.forEach(r=>{const i=e.get(r.key),a=i.overlayedDocument;let o=this.applyToLocalView(a,i.mutatedFields);o=t.has(r.key)?null:o;const s=hl(a,o);null!==s&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument(Zi.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),qs())}isEqual(e){return this.batchId===e.batchId&&Li(this.mutations,e.mutations,(e,t)=>gl(e,t))&&Li(this.baseMutations,e.baseMutations,(e,t)=>gl(e,t))}}class Tl{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){mi(e.mutations.length===n.length,58842,{Ve:e.mutations.length,me:n.length});let r=$s;const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,n[a].version);return new Tl(e,t,n,r)}}class Il{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class El{constructor(e,t){this.count=e,this.unchangedNames=t}}var Al,Cl;function Nl(e){switch(e){case yi.OK:return pi(64938);case yi.CANCELLED:case yi.UNKNOWN:case yi.DEADLINE_EXCEEDED:case yi.RESOURCE_EXHAUSTED:case yi.INTERNAL:case yi.UNAVAILABLE:case yi.UNAUTHENTICATED:return!1;case yi.INVALID_ARGUMENT:case yi.NOT_FOUND:case yi.ALREADY_EXISTS:case yi.PERMISSION_DENIED:case yi.FAILED_PRECONDITION:case yi.ABORTED:case yi.OUT_OF_RANGE:case yi.UNIMPLEMENTED:case yi.DATA_LOSS:return!0;default:return pi(15467,{code:e})}}function Pl(e){if(void 0===e)return ui("GRPC error has no .code"),yi.UNKNOWN;switch(e){case Al.OK:return yi.OK;case Al.CANCELLED:return yi.CANCELLED;case Al.UNKNOWN:return yi.UNKNOWN;case Al.DEADLINE_EXCEEDED:return yi.DEADLINE_EXCEEDED;case Al.RESOURCE_EXHAUSTED:return yi.RESOURCE_EXHAUSTED;case Al.INTERNAL:return yi.INTERNAL;case Al.UNAVAILABLE:return yi.UNAVAILABLE;case Al.UNAUTHENTICATED:return yi.UNAUTHENTICATED;case Al.INVALID_ARGUMENT:return yi.INVALID_ARGUMENT;case Al.NOT_FOUND:return yi.NOT_FOUND;case Al.ALREADY_EXISTS:return yi.ALREADY_EXISTS;case Al.PERMISSION_DENIED:return yi.PERMISSION_DENIED;case Al.FAILED_PRECONDITION:return yi.FAILED_PRECONDITION;case Al.ABORTED:return yi.ABORTED;case Al.OUT_OF_RANGE:return yi.OUT_OF_RANGE;case Al.UNIMPLEMENTED:return yi.UNIMPLEMENTED;case Al.DATA_LOSS:return yi.DATA_LOSS;default:return pi(39323,{code:e})}}(Cl=Al||(Al={}))[Cl.OK=0]="OK",Cl[Cl.CANCELLED=1]="CANCELLED",Cl[Cl.UNKNOWN=2]="UNKNOWN",Cl[Cl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cl[Cl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cl[Cl.NOT_FOUND=5]="NOT_FOUND",Cl[Cl.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cl[Cl.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cl[Cl.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cl[Cl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cl[Cl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cl[Cl.ABORTED=10]="ABORTED",Cl[Cl.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cl[Cl.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cl[Cl.INTERNAL=13]="INTERNAL",Cl[Cl.UNAVAILABLE=14]="UNAVAILABLE",Cl[Cl.DATA_LOSS=15]="DATA_LOSS";let Rl=null;const Dl=new qr([4294967295,4294967295],0);function Ol(e){const t=Ci().encode(e),n=new Br;return n.update(t),new Uint8Array(n.digest())}function Ll(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new qr([n,r],0),new qr([i,a],0)]}class Ml{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Ul(`Invalid padding: ${t}`);if(n<0)throw new Ul(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Ul(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Ul(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=qr.fromNumber(this.fe)}pe(e,t,n){let r=e.add(t.multiply(qr.fromNumber(n)));return 1===r.compare(Dl)&&(r=new qr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.fe)return!1;const t=Ol(e),[n,r]=Ll(t);for(let i=0;i<this.hashCount;i++){const e=this.pe(n,r,i);if(!this.ye(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new Ml(i,r,t);return n.forEach(e=>a.insert(e)),a}insert(e){if(0===this.fe)return;const t=Ol(e),[n,r]=Ll(t);for(let i=0;i<this.hashCount;i++){const e=this.pe(n,r,i);this.we(e)}}we(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class jl{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Fl.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new jl(Zi.min(),r,new Wa(Pi),Os(),qs())}}class Fl{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Fl(n,t,qs(),qs(),qs())}}class Vl{constructor(e,t,n,r){this.Se=e,this.removedTargetIds=t,this.key=n,this.be=r}}class $l{constructor(e,t){this.targetId=e,this.De=t}}class zl{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:eo.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ql{constructor(){this.ve=0,this.Ce=Ql(),this.Fe=eo.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return 0!==this.ve}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=qs(),t=qs(),n=qs();return this.Ce.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:pi(38017,{changeType:i})}}),new Fl(this.Fe,this.Me,e,t,n)}ke(){this.xe=!1,this.Ce=Ql()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,mi(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Bl{constructor(e){this.We=e,this.Ge=new Map,this.ze=Os(),this.je=Hl(),this.Je=Hl(),this.He=new Wa(Pi)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const n=this.tt(t);switch(e.state){case 0:this.nt(t)&&n.Be(e.resumeToken);break;case 1:n.Ue(),n.Oe||n.ke(),n.Be(e.resumeToken);break;case 2:n.Ue(),n.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(n.Ke(),n.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),n.Be(e.resumeToken));break;default:pi(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((e,n)=>{this.nt(n)&&t(n)})}it(e){const t=e.targetId,n=e.De.count,r=this.st(t);if(r){const i=r.target;if(fs(i))if(0===n){const e=new $i(i.path);this.Xe(t,e,$o.newNoDocument(e,Zi.min()))}else mi(1===n,20013,{expectedCount:n});else{const r=this.ot(t);if(r!==n){const n=this._t(e),i=n?this.ut(n,e,r):1;if(0!==i){this.rt(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,e)}null==Rl||Rl.ct(function(e,t,n,r,i){var a,o,s,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(l=null===(s=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.De,this.We.lt(),n,i))}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let a,o;try{a=io(n).toUint8Array()}catch(e){if(e instanceof Za)return di("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new Ml(a,r,i)}catch(e){return di(e instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.fe?null:o}ut(e,t,n){return t.De.count===n-this.ht(e,t.targetId)?0:2}ht(e,t){const n=this.We.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.We.lt(),a=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,n,null),r++)}),r}Pt(e){const t=new Map;this.Ge.forEach((n,r)=>{const i=this.st(r);if(i){if(n.current&&fs(i.target)){const t=new $i(i.target.path);this.Tt(t).has(r)||this.It(r,t)||this.Xe(r,t,$o.newNoDocument(t,e))}n.Ne&&(t.set(r,n.Le()),n.ke())}});let n=qs();this.Je.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.st(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ze.forEach((t,n)=>n.setReadTime(e));const r=new jl(e,t,this.He,this.ze,n);return this.ze=Os(),this.je=Hl(),this.Je=Hl(),this.He=new Wa(Pi),r}Ze(e,t){if(!this.nt(e))return;const n=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,n),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,n){if(!this.nt(e))return;const r=this.tt(e);this.It(e,t)?r.qe(t,1):r.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),n&&(this.ze=this.ze.insert(t,n))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new ql,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Xa(Pi),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Xa(Pi),this.je=this.je.insert(e,t)),t}nt(e){const t=null!==this.st(e);return t||ci("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new ql),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Hl(){return new Wa($i.comparator)}function Ql(){return new Wa($i.comparator)}const Wl={asc:"ASCENDING",desc:"DESCENDING"},Gl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kl={and:"AND",or:"OR"};class Xl{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Jl(e,t){return e.useProto3Json||fa(t)?t:{value:t}}function Yl(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Zl(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ec(e,t){return Yl(e,t.toTimestamp())}function tc(e){return mi(!!e,49232),Zi.fromTimestamp(function(e){const t=no(e);return new Yi(t.seconds,t.nanos)}(e))}function nc(e,t){return rc(e,t).canonicalString()}function rc(e,t){const n=function(e){return new ji(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function ic(e){const t=ji.fromString(e);return mi(Sc(t),10190,{key:t.toString()}),t}function ac(e,t){return nc(e.databaseId,t.path)}function oc(e,t){const n=ic(t);if(n.get(1)!==e.databaseId.projectId)throw new vi(yi.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new vi(yi.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new $i(uc(n))}function sc(e,t){return nc(e.databaseId,t)}function lc(e){const t=ic(e);return 4===t.length?ji.emptyPath():uc(t)}function cc(e){return new ji(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function uc(e){return mi(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function dc(e,t,n){return{name:ac(e,t),fields:n.value.mapValue.fields}}function hc(e,t){let n;if(t instanceof yl)n={update:dc(e,t.key,t.value)};else if(t instanceof kl)n={delete:ac(e,t.key)};else if(t instanceof vl)n={update:dc(e,t.key,t.data),updateMask:xc(t.fieldMask)};else{if(!(t instanceof xl))return pi(16599,{Rt:t.type});n={verify:ac(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Zs)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof el)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof nl)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof il)return{fieldPath:t.field.canonicalString(),increment:n.Ee};throw pi(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ec(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:pi(27497)}(e,t.precondition)),n}function pc(e,t){return{documents:[sc(e,t.path)]}}function fc(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sc(e,i);const a=function(e){if(0!==e.length)return kc(Ko.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const o=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:wc(e.field),direction:yc(e.dir)}}(e))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=Jl(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{Vt:n,parent:i}}function mc(e){let t=lc(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){mi(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=gc(e);return t instanceof Ko&&Jo(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map(e=>function(e){return new Ho(_c(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,fa(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new zo(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new zo(n,t)}(n.endAt)),gs(t,i,o,a,s,"F",l,c)}function gc(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=_c(e.unaryFilter.field);return Go.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=_c(e.unaryFilter.field);return Go.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=_c(e.unaryFilter.field);return Go.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=_c(e.unaryFilter.field);return Go.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pi(61313);default:return pi(60726)}}(e):void 0!==e.fieldFilter?function(e){return Go.create(_c(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pi(58110);default:return pi(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ko.create(e.compositeFilter.filters.map(e=>gc(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return pi(1026)}}(e.compositeFilter.op))}(e):pi(30097,{filter:e})}function yc(e){return Wl[e]}function vc(e){return Gl[e]}function bc(e){return Kl[e]}function wc(e){return{fieldPath:e.canonicalString()}}function _c(e){return Vi.fromServerFormat(e.fieldPath)}function kc(e){return e instanceof Go?function(e){if("=="===e.op){if(Oo(e.value))return{unaryFilter:{field:wc(e.field),op:"IS_NAN"}};if(Do(e.value))return{unaryFilter:{field:wc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Oo(e.value))return{unaryFilter:{field:wc(e.field),op:"IS_NOT_NAN"}};if(Do(e.value))return{unaryFilter:{field:wc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wc(e.field),op:vc(e.op),value:e.value}}}(e):e instanceof Ko?function(e){const t=e.getFilters().map(e=>kc(e));return 1===t.length?t[0]:{compositeFilter:{op:bc(e.op),filters:t}}}(e):pi(54877,{filter:e})}function xc(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Sc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Tc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Zi.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Zi.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:eo.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(e){return new Tc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Tc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Tc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Tc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ic{constructor(e){this.gt=e}}function Ec(e){const t=mc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ss(t,t.limit,"L"):t}class Ac{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(ro(e.integerValue));else if("doubleValue"in e){const n=ro(e.doubleValue);isNaN(n)?this.Ct(t,13):(this.Ct(t,15),ma(n)?t.Ft(0):t.Ft(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ct(t,20),"string"==typeof n&&(n=no(n)),t.Mt(`${n.seconds||""}`),t.Ft(n.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(io(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ct(t,45),t.Ft(n.latitude||0),t.Ft(n.longitude||0)}else"mapValue"in e?jo(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):Mo(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):pi(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){const n=e.fields||{};this.Ct(t,55);for(const r of Object.keys(n))this.xt(r,t),this.Dt(n[r],t)}Lt(e,t){var n,r;const i=e.fields||{};this.Ct(t,53);const a=wo,o=(null===(r=null===(n=i[a].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Ct(t,15),t.Ft(ro(o)),this.xt(a,t),this.Dt(i[a],t)}qt(e,t){const n=e.values||[];this.Ct(t,50);for(const r of n)this.Dt(r,t)}Bt(e,t){this.Ct(t,37),$i.fromName(e).path.forEach(e=>{this.Ct(t,60),this.$t(e,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}}Ac.Ut=new Ac;class Cc{constructor(){this.Dn=new Nc}addToCollectionParentIndex(e,t){return this.Dn.add(t),ca.resolve()}getCollectionParents(e,t){return ca.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return ca.resolve()}deleteFieldIndex(e,t){return ca.resolve()}deleteAllFieldIndexes(e){return ca.resolve()}createTargetIndexes(e,t){return ca.resolve()}getDocumentsMatchingTarget(e,t){return ca.resolve(null)}getIndexType(e,t){return ca.resolve(0)}getFieldIndexes(e,t){return ca.resolve([])}getNextCollectionGroupToUpdate(e){return ca.resolve(null)}getMinOffset(e,t){return ca.resolve(ia.min())}getMinOffsetFromCollectionGroup(e,t){return ca.resolve(ia.min())}updateCollectionGroup(e,t,n){return ca.resolve()}updateIndexEntries(e,t){return ca.resolve()}}class Nc{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Xa(ji.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Xa(ji.comparator)).toArray()}}new Uint8Array(0);const Pc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Rc=41943040;class Dc{static withCacheSize(e){return new Dc(e,Dc.DEFAULT_COLLECTION_PERCENTILE,Dc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Dc.DEFAULT_COLLECTION_PERCENTILE=10,Dc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dc.DEFAULT=new Dc(Rc,Dc.DEFAULT_COLLECTION_PERCENTILE,Dc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dc.DISABLED=new Dc(-1,0,0);class Oc{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Oc(0)}static ur(){return new Oc(-1)}}const Lc="LruGarbageCollector",Mc=1048576;function Uc(e,t){let[n,r]=e,[i,a]=t;const o=Pi(n,i);return 0===o?Pi(r,a):o}class jc{constructor(e){this.Tr=e,this.buffer=new Xa(Uc),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Uc(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Fc{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Ar=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return null!==this.Ar}Rr(e){ci(Lc,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){da(e)?ci(Lc,"Ignoring IndexedDB error during garbage collection: ",e):await la(e)}await this.Rr(3e5)})}}class Vc{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return ca.resolve(ha.ue);const n=new jc(t);return this.Vr.forEachTarget(e,e=>n.Er(e.sequenceNumber)).next(()=>this.Vr.gr(e,e=>n.Er(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ci("LruGarbageCollector","Garbage collection skipped; disabled"),ca.resolve(Pc)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ci("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Pc):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let n,r,i,a,o,s,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(ci("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),li()<=V.DEBUG&&ci("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-c}ms\n\tDetermined least recently used ${r} in `+(o-a)+"ms\n"+`\tRemoved ${i} targets in `+(s-o)+"ms\n"+`\tRemoved ${e} documents in `+(l-s)+"ms\n"+`Total Duration: ${l-c}ms`),ca.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function $c(e,t){return new Vc(e,t)}class zc{constructor(){this.changes=new Rs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$o.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ca.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class qc{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Bc{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&fl(n.mutation,e,Ya.empty(),Yi.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,qs()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qs();const r=js();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Ms();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=js();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,qs()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Os();const a=Vs(),o=Vs();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof vl)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),fl(o.mutation,t,o.mutation.getFieldMask(),Yi.now())):a.set(t.key,Ya.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>a.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new qc(t,null!==(n=a.get(e))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(e,t){const n=Vs();let r=new Wa((e,t)=>e-t),i=qs();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const a=t.get(e);if(null===a)return;let o=n.get(e)||Ya.empty();o=i.applyToLocalView(a,o),n.set(e,o);const s=(r.get(i.batchId)||qs()).add(e);r=r.insert(i.batchId,s)})}).next(()=>{const a=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),s=r.key,l=r.value,c=Fs();l.forEach(e=>{if(!i.has(e)){const r=hl(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),a.push(this.documentOverlayCache.saveOverlays(e,s,c))}return ca.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return $i.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):bs(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):ca.resolve(js());let o=ea,s=i;return a.next(t=>ca.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?ca.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,s,t,qs())).next(e=>({batchId:o,changes:Us(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $i(t)).next(e=>{let t=Ms();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let a=Ms();return this.indexManager.getCollectionParents(e,i).next(o=>ca.forEach(o,o=>{const s=function(e,t){return new ms(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next(e=>{e.forEach((e,t)=>{a=a.insert(e,t)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,$o.newInvalidDocument(r)))});let n=Ms();return e.forEach((e,r)=>{const a=i.get(e);void 0!==a&&fl(a.mutation,r,Ya.empty(),Yi.now()),As(t,r)&&(n=n.insert(e,r))}),n})}}class Hc{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return ca.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(e){return{id:e.id,version:e.version,createTime:tc(e.createTime)}}(t)),ca.resolve()}getNamedQuery(e,t){return ca.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(e){return{name:e.name,query:Ec(e.bundledQuery),readTime:tc(e.readTime)}}(t)),ca.resolve()}}class Qc{constructor(){this.overlays=new Wa($i.comparator),this.kr=new Map}getOverlay(e,t){return ca.resolve(this.overlays.get(t))}getOverlays(e,t){const n=js();return ca.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.wt(e,t,r)}),ca.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.kr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.kr.delete(n)),ca.resolve()}getOverlaysForCollection(e,t,n){const r=js(),i=t.length+1,a=new $i(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return ca.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Wa((e,t)=>e-t);const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=js(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=js(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return ca.resolve(o)}wt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.kr.get(r.largestBatchId).delete(n.key);this.kr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Il(t,n));let i=this.kr.get(t);void 0===i&&(i=qs(),this.kr.set(t,i)),this.kr.set(t,i.add(n.key))}}class Wc{constructor(){this.sessionToken=eo.EMPTY_BYTE_STRING}getSessionToken(e){return ca.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ca.resolve()}}class Gc{constructor(){this.qr=new Xa(Kc.Qr),this.$r=new Xa(Kc.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const n=new Kc(e,t);this.qr=this.qr.add(n),this.$r=this.$r.add(n)}Kr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Wr(new Kc(e,t))}Gr(e,t){e.forEach(e=>this.removeReference(e,t))}zr(e){const t=new $i(new ji([])),n=new Kc(t,e),r=new Kc(t,e+1),i=[];return this.$r.forEachInRange([n,r],e=>{this.Wr(e),i.push(e.key)}),i}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new $i(new ji([])),n=new Kc(t,e),r=new Kc(t,e+1);let i=qs();return this.$r.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Kc(e,0),n=this.qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Kc{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return $i.comparator(e.key,t.key)||Pi(e.Hr,t.Hr)}static Ur(e,t){return Pi(e.Hr,t.Hr)||$i.comparator(e.key,t.key)}}class Xc{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Xa(Kc.Qr)}checkEmpty(e){return ca.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Sl(i,t,n,r);this.mutationQueue.push(a);for(const o of r)this.Yr=this.Yr.add(new Kc(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ca.resolve(a)}lookupMutationBatch(e,t){return ca.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Xr(n),i=r<0?0:r;return ca.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ca.resolve(0===this.mutationQueue.length?pa:this.er-1)}getAllMutationBatches(e){return ca.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Kc(t,0),r=new Kc(t,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([n,r],e=>{const t=this.Zr(e.Hr);i.push(t)}),ca.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Xa(Pi);return t.forEach(e=>{const t=new Kc(e,0),r=new Kc(e,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([t,r],e=>{n=n.add(e.Hr)})}),ca.resolve(this.ei(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;$i.isDocumentKey(i)||(i=i.child(""));const a=new Kc(new $i(i),0);let o=new Xa(Pi);return this.Yr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Hr)),!0)},a),ca.resolve(this.ei(o))}ei(e){const t=[];return e.forEach(e=>{const n=this.Zr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){mi(0===this.ti(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Yr;return ca.forEach(t.mutations,r=>{const i=new Kc(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Yr=n})}rr(e){}containsKey(e,t){const n=new Kc(t,0),r=this.Yr.firstAfterOrEqual(n);return ca.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ca.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Jc{constructor(e){this.ni=e,this.docs=new Wa($i.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ni(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ca.resolve(n?n.document.mutableCopy():$o.newInvalidDocument(t))}getEntries(e,t){let n=Os();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():$o.newInvalidDocument(e))}),ca.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Os();const a=t.path,o=new $i(a.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){const{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||aa(ra(o),n)<=0||(r.has(o.key)||As(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return ca.resolve(i)}getAllFromCollectionGroup(e,t,n,r){pi(9500)}ri(e,t){return ca.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Yc(this)}getSize(e){return ca.resolve(this.size)}}class Yc extends zc{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Or.addEntry(e,r)):this.Or.removeEntry(n)}),ca.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}class Zc{constructor(e){this.persistence=e,this.ii=new Rs(e=>hs(e),ps),this.lastRemoteSnapshotVersion=Zi.min(),this.highestTargetId=0,this.si=0,this.oi=new Gc,this.targetCount=0,this._i=Oc.ar()}forEachTarget(e,t){return this.ii.forEach((e,n)=>t(n)),ca.resolve()}getLastRemoteSnapshotVersion(e){return ca.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ca.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ca.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.si&&(this.si=t),ca.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Oc(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,ca.resolve()}updateTargetData(e,t){return this.hr(t),ca.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,ca.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.ii.forEach((a,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.ii.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),ca.waitFor(i).next(()=>r)}getTargetCount(e){return ca.resolve(this.targetCount)}getTargetData(e,t){const n=this.ii.get(t)||null;return ca.resolve(n)}addMatchingKeys(e,t,n){return this.oi.Kr(t,n),ca.resolve()}removeMatchingKeys(e,t,n){this.oi.Gr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),ca.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),ca.resolve()}getMatchingKeysForTargetId(e,t){const n=this.oi.Jr(t);return ca.resolve(n)}containsKey(e,t){return ca.resolve(this.oi.containsKey(t))}}class eu{constructor(e,t){this.ai={},this.overlays={},this.ui=new ha(0),this.ci=!1,this.ci=!0,this.li=new Wc,this.referenceDelegate=e(this),this.hi=new Zc(this),this.indexManager=new Cc,this.remoteDocumentCache=function(e){return new Jc(e)}(e=>this.referenceDelegate.Pi(e)),this.serializer=new Ic(t),this.Ti=new Hc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Qc,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ai[e.toKey()];return n||(n=new Xc(t,this.referenceDelegate),this.ai[e.toKey()]=n),n}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,n){ci("MemoryPersistence","Starting transaction:",e);const r=new tu(this.ui.next());return this.referenceDelegate.Ii(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ei(e,t){return ca.or(Object.values(this.ai).map(n=>()=>n.containsKey(e,t)))}}class tu extends sa{constructor(e){super(),this.currentSequenceNumber=e}}class nu{constructor(e){this.persistence=e,this.Ai=new Gc,this.Ri=null}static Vi(e){return new nu(e)}get mi(){if(this.Ri)return this.Ri;throw pi(60996)}addReference(e,t,n){return this.Ai.addReference(n,t),this.mi.delete(n.toString()),ca.resolve()}removeReference(e,t,n){return this.Ai.removeReference(n,t),this.mi.add(n.toString()),ca.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),ca.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(e=>this.mi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.mi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ca.forEach(this.mi,n=>{const r=$i.fromPath(n);return this.fi(e,r).next(e=>{e||t.removeEntry(r,Zi.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(e=>{e?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return ca.or([()=>ca.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class ru{constructor(e,t){this.persistence=e,this.gi=new Rs(e=>va(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=$c(this,t)}static Vi(e,t){return new ru(e,t)}Ii(){}di(e){return ca.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}yr(e){let t=0;return this.gr(e,e=>{t++}).next(()=>t)}gr(e,t){return ca.forEach(this.gi,(n,r)=>this.Sr(e,n,r).next(e=>e?ca.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ri(e,r=>this.Sr(e,r,t).next(e=>{e||(n++,i.removeEntry(r,Zi.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),ca.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),ca.resolve()}removeReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),ca.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),ca.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Co(e.data.value)),t}Sr(e,t,n){return ca.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.gi.get(t);return ca.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class iu{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Is=n,this.ds=r}static Es(e,t){let n=qs(),r=qs();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new iu(e,t.fromCache,n,r)}}class au{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ou{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=k()?8:ua(w())>0?6:4}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ps(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ys(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new au;return this.ws(e,t,n).next(r=>{if(i.result=r,this.Rs)return this.Ss(e,t,n,r.size)})}).next(()=>i.result)}Ss(e,t,n,r){return n.documentReadCount<this.Vs?(li()<=V.DEBUG&&ci("QueryEngine","SDK will not create cache indexes for query:",Es(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ca.resolve()):(li()<=V.DEBUG&&ci("QueryEngine","Query:",Es(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.fs*r?(li()<=V.DEBUG&&ci("QueryEngine","The SDK decides to create cache indexes for query:",Es(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_s(t))):ca.resolve())}ps(e,t){if(vs(t))return ca.resolve(null);let n=_s(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Ss(t,null,"F"),n=_s(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=qs(...r);return this.gs.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const a=this.bs(t,r);return this.Ds(t,a,i,n.readTime)?this.ps(e,Ss(t,null,"F")):this.vs(e,a,t,n)}))})))}ys(e,t,n,r){return vs(t)||r.isEqual(Zi.min())?ca.resolve(null):this.gs.getDocuments(e,n).next(i=>{const a=this.bs(t,i);return this.Ds(t,a,n,r)?ca.resolve(null):(li()<=V.DEBUG&&ci("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Es(t)),this.vs(e,a,t,na(r,ea)).next(e=>e))})}bs(e,t){let n=new Xa(Ns(e));return t.forEach((t,r)=>{As(e,r)&&(n=n.add(r))}),n}Ds(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ws(e,t,n){return li()<=V.DEBUG&&ci("QueryEngine","Using full collection scan to execute query:",Es(t)),this.gs.getDocumentsMatchingQuery(e,t,ia.min(),n)}vs(e,t,n,r){return this.gs.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const su="LocalStore";class lu{constructor(e,t,n,r){this.persistence=e,this.Cs=t,this.serializer=r,this.Fs=new Wa(Pi),this.Ms=new Rs(e=>hs(e),ps),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(n)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Bc(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function cu(e,t,n,r){return new lu(e,t,n,r)}async function uu(e,t){const n=gi(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Ns(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],a=[];let o=qs();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({Bs:e,removedBatchIds:i,addedBatchIds:a}))})})}function du(e){const t=gi(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.hi.getLastRemoteSnapshotVersion(e))}function hu(e,t,n){let r=qs(),i=qs();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Os();return n.forEach((n,a)=>{const o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Zi.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):ci(su,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)}),{Ls:r,ks:i}})}function pu(e,t){const n=gi(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=pa),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function fu(e,t){const n=gi(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.hi.getTargetData(e,t).next(i=>i?(r=i,ca.resolve(r)):n.hi.allocateTargetId(e).next(i=>(r=new Tc(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.hi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Fs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(e.targetId,e),n.Ms.set(t,e.targetId)),e})}async function mu(e,t,n){const r=gi(e),i=r.Fs.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!da(e))throw e;ci(su,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Fs=r.Fs.remove(t),r.Ms.delete(i.target)}function gu(e,t,n){const r=gi(e);let i=Zi.min(),a=qs();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=gi(e),i=r.Ms.get(n);return void 0!==i?ca.resolve(r.Fs.get(i)):r.hi.getTargetData(t,n)}(r,e,_s(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{a=e})}).next(()=>r.Cs.getDocumentsMatchingQuery(e,t,n?i:Zi.min(),n?a:qs())).next(e=>(yu(r,Cs(t),e),{documents:e,qs:a})))}function yu(e,t,n){let r=e.xs.get(t)||Zi.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.xs.set(t,r)}class vu{constructor(){this.activeTargetIds=Hs()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bu{constructor(){this.Fo=new vu,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,n){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new vu,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wu{xo(e){}shutdown(){}}const _u="ConnectivityMonitor";class ku{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ci(_u,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ci(_u,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let xu=null;function Su(){return null===xu?xu=268435456+Math.round(2147483648*Math.random()):xu++,"0x"+xu.toString(16)}const Tu="RestConnection",Iu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Eu{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${n}/databases/${r}`,this.Ko=this.databaseId.database===fo?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Wo(e,t,n,r,i){const a=Su(),o=this.Go(e,t.toUriEncodedString());ci(Tu,`Sending RPC '${e}' ${a}:`,o,n);const s={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(s,r,i);const{host:l}=new URL(o),c=g(l);return this.jo(e,o,s,n,c).then(t=>(ci(Tu,`Received RPC '${e}' ${a}: `,t),t),t=>{throw di(Tu,`RPC '${e}' ${a} failed with error: `,t,"url: ",o,"request:",n),t})}Jo(e,t,n,r,i,a){return this.Wo(e,t,n,r,i)}zo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+oi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}Go(e,t){const n=Iu[e];return`${this.$o}/v1/${t}:${n}`}terminate(){}}class Au{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}const Cu="WebChannelConnection";class Nu extends Eu{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,n,r,i){const a=Su();return new Promise((i,o)=>{const s=new Wr;s.setWithCredentials(!0),s.listenOnce(Kr.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case Xr.NO_ERROR:const t=s.getResponseJson();ci(Cu,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(t)),i(t);break;case Xr.TIMEOUT:ci(Cu,`RPC '${e}' ${a} timed out`),o(new vi(yi.DEADLINE_EXCEEDED,"Request time out"));break;case Xr.HTTP_ERROR:const n=s.getStatus();if(ci(Cu,`RPC '${e}' ${a} failed with status:`,n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(yi).indexOf(t)>=0?t:yi.UNKNOWN}(t.status);o(new vi(e,t.message))}else o(new vi(yi.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new vi(yi.UNAVAILABLE,"Connection failed."));break;default:pi(9055,{c_:e,streamId:a,l_:s.getLastErrorCode(),h_:s.getLastError()})}}finally{ci(Cu,`RPC '${e}' ${a} completed.`)}});const l=JSON.stringify(r);ci(Cu,`RPC '${e}' ${a} sending request:`,r),s.send(t,"POST",l,n,15)})}P_(e,t,n){const r=Su(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=ei(),o=Zr(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.zo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");ci(Cu,`Creating RPC '${e}' stream ${r}: ${c}`,s);const u=a.createWebChannel(c,s);this.T_(u);let d=!1,h=!1;const p=new Au({Ho:t=>{h?ci(Cu,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(ci(Cu,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),ci(Cu,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Yo:()=>u.close()}),f=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return f(u,Gr.EventType.OPEN,()=>{h||(ci(Cu,`RPC '${e}' stream ${r} transport opened.`),p.s_())}),f(u,Gr.EventType.CLOSE,()=>{h||(h=!0,ci(Cu,`RPC '${e}' stream ${r} transport closed`),p.__(),this.I_(u))}),f(u,Gr.EventType.ERROR,t=>{h||(h=!0,di(Cu,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),p.__(new vi(yi.UNAVAILABLE,"The operation could not be completed")))}),f(u,Gr.EventType.MESSAGE,t=>{var n;if(!h){const i=t.data[0];mi(!!i,16349);const a=i,o=(null==a?void 0:a.error)||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){ci(Cu,`RPC '${e}' stream ${r} received error:`,o);const t=o.status;let n=function(e){const t=Al[e];if(void 0!==t)return Pl(t)}(t),i=o.message;void 0===n&&(n=yi.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,p.__(new vi(n,i)),u.close()}else ci(Cu,`RPC '${e}' stream ${r} received:`,i),p.a_(i)}}),f(o,Yr.STAT_EVENT,t=>{t.stat===Jr.PROXY?ci(Cu,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Jr.NOPROXY&&ci(Cu,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.o_()},0),p}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function Pu(){return"undefined"!=typeof document?document:null}function Ru(e){return new Xl(e,!0)}class Du{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Fi=e,this.timerId=t,this.d_=n,this.E_=r,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),r=Math.max(0,t-n);r>0&&ci("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){null!==this.V_&&(this.V_.skipDelay(),this.V_=null)}cancel(){null!==this.V_&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}const Ou="PersistentStream";class Lu{constructor(e,t,n,r,i,a,o,s){this.Fi=e,this.w_=n,this.S_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Du(e,t)}M_(){return 1===this.state||5===this.state||this.x_()}x_(){return 2===this.state||3===this.state}start(){this.C_=0,4!==this.state?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&null===this.D_&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,4!==e?this.F_.reset():t&&t.code===yi.RESOURCE_EXHAUSTED?(ui(t.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===yi.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.b_===t&&this.W_(n,r)},t=>{e(()=>{const e=new vi(yi.UNKNOWN,"Fetching auth token failed: "+t.message);return this.G_(e)})})}W_(e,t){const n=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{n(()=>this.listener.Zo())}),this.stream.e_(()=>{n(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(e=>{n(()=>this.G_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.C_?this.j_(e):this.onNext(e))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ci(Ou,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(ci(Ou,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Mu extends Lu{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:pi(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(mi(void 0===t||"string"==typeof t,58123),eo.fromBase64String(t||"")):(mi(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),eo.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){const t=void 0===e.code?yi.UNKNOWN:Pl(e.code);return new vi(t,e.message||"")}(o);n=new zl(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=oc(e,r.document.name),a=tc(r.document.updateTime),o=r.document.createTime?tc(r.document.createTime):Zi.min(),s=new Fo({mapValue:{fields:r.document.fields}}),l=$o.newFoundDocument(i,a,o,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Vl(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=oc(e,r.document),a=r.readTime?tc(r.readTime):Zi.min(),o=$o.newNoDocument(i,a),s=r.removedTargetIds||[];n=new Vl([],s,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=oc(e,r.document),a=r.removedTargetIds||[];n=new Vl([],a,i,null)}else{if(!("filter"in t))return pi(11601,{At:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,a=new El(r,i),o=e.targetId;n=new $l(o,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Zi.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Zi.min():t.readTime?tc(t.readTime):Zi.min()}(e);return this.listener.J_(t,n)}H_(e){const t={};t.database=cc(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=fs(r)?{documents:pc(e,r)}:{query:fc(e,r).Vt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Zl(e,t.resumeToken);const r=Jl(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Zi.min())>0){n.readTime=Yl(e,t.snapshotVersion.toTimestamp());const r=Jl(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pi(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.k_(t)}Y_(e){const t={};t.database=cc(this.serializer),t.removeTarget=e,this.k_(t)}}class Uu extends Lu{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return mi(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,mi(!e.writeResults||0===e.writeResults.length,55816),this.listener.ea()}onNext(e){mi(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=function(e,t){return e&&e.length>0?(mi(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?tc(e.updateTime):tc(t);return n.isEqual(Zi.min())&&(n=tc(t)),new ll(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=tc(e.commitTime);return this.listener.ta(n,t)}na(){const e={};e.database=cc(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>hc(this.serializer,e))};this.k_(t)}}class ju{}class Fu extends ju{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new vi(yi.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,n,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[a,o]=i;return this.connection.Wo(e,rc(t,n),r,a,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===yi.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new vi(yi.UNKNOWN,e.toString())})}Jo(e,t,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(a=>{let[o,s]=a;return this.connection.Jo(e,rc(t,n),r,o,s,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===yi.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new vi(yi.UNKNOWN,e.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Vu{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){0===this.sa&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){"Online"===this.state?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,"Online"===e&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ui(t),this._a=!1):ci("OnlineStateTracker",t)}ha(){null!==this.oa&&(this.oa.cancel(),this.oa=null)}}const $u="RemoteStore";class zu{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo(e=>{n.enqueueAndForget(async()=>{Ju(this)&&(ci($u,"Restarting streams for network reachability change."),await async function(e){const t=gi(e);t.Ia.add(4),await Bu(t),t.Aa.set("Unknown"),t.Ia.delete(4),await qu(t)}(this))})}),this.Aa=new Vu(n,r)}}async function qu(e){if(Ju(e))for(const t of e.da)await t(!0)}async function Bu(e){for(const t of e.da)await t(!1)}function Hu(e,t){const n=gi(e);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),Xu(n)?Ku(n):gd(n).x_()&&Wu(n,t))}function Qu(e,t){const n=gi(e),r=gd(n);n.Ta.delete(t),r.x_()&&Gu(n,t),0===n.Ta.size&&(r.x_()?r.B_():Ju(n)&&n.Aa.set("Unknown"))}function Wu(e,t){if(e.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Zi.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}gd(e).H_(t)}function Gu(e,t){e.Ra.$e(t),gd(e).Y_(t)}function Ku(e){e.Ra=new Bl({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Ta.get(t)||null,lt:()=>e.datastore.serializer.databaseId}),gd(e).start(),e.Aa.aa()}function Xu(e){return Ju(e)&&!gd(e).M_()&&e.Ta.size>0}function Ju(e){return 0===gi(e).Ia.size}function Yu(e){e.Ra=void 0}async function Zu(e){e.Aa.set("Online")}async function ed(e){e.Ta.forEach((t,n)=>{Wu(e,t)})}async function td(e,t){Yu(e),Xu(e)?(e.Aa.la(t),Ku(e)):e.Aa.set("Unknown")}async function nd(e,t,n){if(e.Aa.set("Online"),t instanceof zl&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ta.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ta.delete(r),e.Ra.removeTarget(r))}(e,t)}catch(n){ci($u,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await rd(e,n)}else if(t instanceof Vl?e.Ra.Ye(t):t instanceof $l?e.Ra.it(t):e.Ra.et(t),!n.isEqual(Zi.min()))try{const t=await du(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Ra.Pt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ta.get(r);i&&e.Ta.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ta.get(t);if(!r)return;e.Ta.set(t,r.withResumeToken(eo.EMPTY_BYTE_STRING,r.snapshotVersion)),Gu(e,t);const i=new Tc(r.target,t,n,r.sequenceNumber);Wu(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ci($u,"Failed to raise snapshot:",t),await rd(e,t)}}async function rd(e,t,n){if(!da(t))throw t;e.Ia.add(1),await Bu(e),e.Aa.set("Offline"),n||(n=()=>du(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ci($u,"Retrying IndexedDB access"),await n(),e.Ia.delete(1),await qu(e)})}function id(e,t){return t().catch(n=>rd(e,n,t))}async function ad(e){const t=gi(e),n=yd(t);let r=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:pa;for(;od(t);)try{const e=await pu(t.localStore,r);if(null===e){0===t.Pa.length&&n.B_();break}r=e.batchId,sd(t,e)}catch(e){await rd(t,e)}ld(t)&&cd(t)}function od(e){return Ju(e)&&e.Pa.length<10}function sd(e,t){e.Pa.push(t);const n=yd(e);n.x_()&&n.Z_&&n.X_(t.mutations)}function ld(e){return Ju(e)&&!yd(e).M_()&&e.Pa.length>0}function cd(e){yd(e).start()}async function ud(e){yd(e).na()}async function dd(e){const t=yd(e);for(const n of e.Pa)t.X_(n.mutations)}async function hd(e,t,n){const r=e.Pa.shift(),i=Tl.from(r,t,n);await id(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await ad(e)}async function pd(e,t){t&&yd(e).Z_&&await async function(e,t){if(function(e){return Nl(e)&&e!==yi.ABORTED}(t.code)){const n=e.Pa.shift();yd(e).N_(),await id(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await ad(e)}}(e,t),ld(e)&&cd(e)}async function fd(e,t){const n=gi(e);n.asyncQueue.verifyOperationInProgress(),ci($u,"RemoteStore received new credentials");const r=Ju(n);n.Ia.add(3),await Bu(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await qu(n)}async function md(e,t){const n=gi(e);t?(n.Ia.delete(2),await qu(n)):t||(n.Ia.add(2),await Bu(n),n.Aa.set("Unknown"))}function gd(e){return e.Va||(e.Va=function(e,t,n){const r=gi(e);return r.ia(),new Mu(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:Zu.bind(null,e),e_:ed.bind(null,e),n_:td.bind(null,e),J_:nd.bind(null,e)}),e.da.push(async t=>{t?(e.Va.N_(),Xu(e)?Ku(e):e.Aa.set("Unknown")):(await e.Va.stop(),Yu(e))})),e.Va}function yd(e){return e.ma||(e.ma=function(e,t,n){const r=gi(e);return r.ia(),new Uu(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),e_:ud.bind(null,e),n_:pd.bind(null,e),ea:dd.bind(null,e),ta:hd.bind(null,e)}),e.da.push(async t=>{t?(e.ma.N_(),await ad(e)):(await e.ma.stop(),e.Pa.length>0&&(ci($u,`Stopping write stream with ${e.Pa.length} pending writes`),e.Pa=[]))})),e.ma}class vd{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,o=new vd(e,t,a,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vi(yi.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bd(e,t){if(ui("AsyncQueue",`${t}: ${e}`),da(e))return new vi(yi.UNAVAILABLE,`${t}: ${e}`);throw e}class wd{static emptySet(e){return new wd(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||$i.comparator(t.key,n.key):(e,t)=>$i.comparator(e.key,t.key),this.keyedMap=Ms(),this.sortedSet=new Wa(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wd))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new wd;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class _d{constructor(){this.fa=new Wa($i.comparator)}track(e){const t=e.doc.key,n=this.fa.get(t);n?0!==e.type&&3===n.type?this.fa=this.fa.insert(t,e):3===e.type&&1!==n.type?this.fa=this.fa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.fa=this.fa.remove(t):1===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):pi(63341,{At:e,ga:n}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,n)=>{e.push(n)}),e}}class kd{constructor(e,t,n,r,i,a,o,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const a=[];return t.forEach(e=>{a.push({type:0,doc:e})}),new kd(e,t,wd.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ts(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class xd{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class Sd{constructor(){this.queries=Td(),this.onlineState="Unknown",this.Da=new Set}terminate(){!function(e,t){const n=gi(e),r=n.queries;n.queries=Td(),r.forEach((e,n)=>{for(const r of n.wa)r.onError(t)})}(this,new vi(yi.ABORTED,"Firestore shutting down"))}}function Td(){return new Rs(e=>Is(e),Ts)}async function Id(e,t){const n=gi(e);let r=3;const i=t.query;let a=n.queries.get(i);a?!a.Sa()&&t.ba()&&(r=2):(a=new xd,r=t.ba()?0:1);try{switch(r){case 0:a.ya=await n.onListen(i,!0);break;case 1:a.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=bd(e,`Initialization of query '${Es(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,a),a.wa.push(t),t.va(n.onlineState),a.ya&&t.Ca(a.ya)&&Nd(n)}async function Ed(e,t){const n=gi(e),r=t.query;let i=3;const a=n.queries.get(r);if(a){const e=a.wa.indexOf(t);e>=0&&(a.wa.splice(e,1),0===a.wa.length?i=t.ba()?0:1:!a.Sa()&&t.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Ad(e,t){const n=gi(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.wa)e.Ca(i)&&(r=!0);t.ya=i}}r&&Nd(n)}function Cd(e,t,n){const r=gi(e),i=r.queries.get(t);if(i)for(const a of i.wa)a.onError(n);r.queries.delete(t)}function Nd(e){e.Da.forEach(e=>{e.next()})}var Pd,Rd;(Rd=Pd||(Pd={})).Fa="default",Rd.Cache="cache";class Dd{constructor(e,t,n){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=n||{}}Ca(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new kd(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache)return!0;if(!this.ba())return!0;const n="Offline"!==t;return(!this.options.ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}La(e){e=kd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Pd.Cache}}class Od{constructor(e){this.key=e}}class Ld{constructor(e){this.key=e}}class Md{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=qs(),this.mutatedKeys=qs(),this.Xa=Ns(e),this.eu=new wd(this.Xa)}get tu(){return this.Ha}nu(e,t){const n=t?t.ru:new _d,r=t?t.eu:this.eu;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=As(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),p=!0):this.iu(c,u)||(n.track({type:2,doc:u}),p=!0,(s&&this.Xa(u,s)>0||l&&this.Xa(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(s||l)&&(o=!0)),p&&(u?(a=a.add(u),i=h?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{eu:a,ru:n,Ds:o,mutatedKeys:i}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const a=e.ru.pa();a.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pi(20277,{At:e})}};return n(e)-n(t)}(e.type,t.type)||this.Xa(e.doc,t.doc)),this.su(n),r=null!=r&&r;const o=t&&!r?this.ou():[],s=0===this.Za.size&&this.current&&!r?1:0,l=s!==this.Ya;return this.Ya=s,0!==a.length||l?{snapshot:new kd(this.query,e.eu,i,a,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),_u:o}:{_u:o}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({eu:this.eu,ru:new _d,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=qs(),this.eu.forEach(e=>{this.au(e.key)&&(this.Za=this.Za.add(e.key))});const t=[];return e.forEach(e=>{this.Za.has(e)||t.push(new Ld(e))}),this.Za.forEach(n=>{e.has(n)||t.push(new Od(n))}),t}uu(e){this.Ha=e.qs,this.Za=qs();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return kd.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,0===this.Ya,this.hasCachedResults)}}const Ud="SyncEngine";class jd{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Fd{constructor(e){this.key=e,this.lu=!1}}class Vd{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.hu={},this.Pu=new Rs(e=>Is(e),Ts),this.Tu=new Map,this.Iu=new Set,this.du=new Wa($i.comparator),this.Eu=new Map,this.Au=new Gc,this.Ru={},this.Vu=new Map,this.mu=Oc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return!0===this.fu}}async function $d(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=lh(e);let i;const a=r.Pu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.cu()):i=await qd(r,t,n,!0),i}async function zd(e,t){const n=lh(e);await qd(n,t,!0,!1)}async function qd(e,t,n,r){const i=await fu(e.localStore,_s(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,n);let s;return r&&(s=await Bd(e,t,a,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&Hu(e.remoteStore,i),s}async function Bd(e,t,n,r,i){e.gu=(t,n,r)=>async function(e,t,n,r){let i=t.view.nu(n);i.Ds&&(i=await gu(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.nu(n,i)}));const a=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,a,o);return nh(e,t.targetId,s._u),s.snapshot}(e,t,n,r);const a=await gu(e.localStore,t,!0),o=new Md(t,a.qs),s=o.nu(a.documents),l=Fl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(s,e.isPrimaryClient,l);nh(e,n,c._u);const u=new jd(t,n,o);return e.Pu.set(t,u),e.Tu.has(n)?e.Tu.get(n).push(t):e.Tu.set(n,[t]),c.snapshot}async function Hd(e,t,n){const r=gi(e),i=r.Pu.get(t),a=r.Tu.get(i.targetId);if(a.length>1)return r.Tu.set(i.targetId,a.filter(e=>!Ts(e,t))),void r.Pu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await mu(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Qu(r.remoteStore,i.targetId),eh(r,i.targetId)}).catch(la)):(eh(r,i.targetId),await mu(r.localStore,i.targetId,!0))}async function Qd(e,t){const n=gi(e),r=n.Pu.get(t),i=n.Tu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Qu(n.remoteStore,r.targetId))}async function Wd(e,t){const n=gi(e);try{const e=await function(e,t){const n=gi(e),r=t.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const a=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const o=[];t.targetChanges.forEach((a,s)=>{const l=i.get(s);if(!l)return;o.push(n.hi.removeMatchingKeys(e,a.removedDocuments,s).next(()=>n.hi.addMatchingKeys(e,a.addedDocuments,s)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(eo.EMPTY_BYTE_STRING,Zi.min()).withLastLimboFreeSnapshotVersion(Zi.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,a)&&o.push(n.hi.updateTargetData(e,c))});let s=Os(),l=qs();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(hu(e,a,t.documentUpdates).next(e=>{s=e.Ls,l=e.ks})),!r.isEqual(Zi.min())){const t=n.hi.getLastRemoteSnapshotVersion(e).next(t=>n.hi.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return ca.waitFor(o).next(()=>a.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,s,l)).next(()=>s)}).then(e=>(n.Fs=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Eu.get(t);r&&(mi(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.lu=!0:e.modifiedDocuments.size>0?mi(r.lu,14607):e.removedDocuments.size>0&&(mi(r.lu,42227),r.lu=!1))}),await ah(n,e,t)}catch(e){await la(e)}}function Gd(e,t,n){const r=gi(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Pu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=gi(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.wa)i.va(t)&&(r=!0)}),r&&Nd(n)}(r.eventManager,t),e.length&&r.hu.J_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Kd(e,t,n){const r=gi(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Eu.get(t),a=i&&i.key;if(a){let e=new Wa($i.comparator);e=e.insert(a,$o.newNoDocument(a,Zi.min()));const n=qs().add(a),i=new jl(Zi.min(),new Map,new Wa(Pi),e,n);await Wd(r,i),r.du=r.du.remove(a),r.Eu.delete(t),ih(r)}else await mu(r.localStore,t,!1).then(()=>eh(r,t,n)).catch(la)}async function Xd(e,t){const n=gi(e),r=t.batch.batchId;try{const e=await function(e,t){const n=gi(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let o=ca.resolve();return a.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const a=n.docVersions.get(e);mi(null!==a,48541),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=qs();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Zd(n,r,null),Yd(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ah(n,e)}catch(e){await la(e)}}async function Jd(e,t,n){const r=gi(e);try{const e=await function(e,t){const n=gi(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(mi(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Zd(r,t,n),Yd(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ah(r,e)}catch(n){await la(n)}}function Yd(e,t){(e.Vu.get(t)||[]).forEach(e=>{e.resolve()}),e.Vu.delete(t)}function Zd(e,t,n){const r=gi(e);let i=r.Ru[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ru[r.currentUser.toKey()]=i}}function eh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Tu.get(t))e.Pu.delete(r),n&&e.hu.pu(r,n);e.Tu.delete(t),e.isPrimaryClient&&e.Au.zr(t).forEach(t=>{e.Au.containsKey(t)||th(e,t)})}function th(e,t){e.Iu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(Qu(e.remoteStore,n),e.du=e.du.remove(t),e.Eu.delete(n),ih(e))}function nh(e,t,n){for(const r of n)r instanceof Od?(e.Au.addReference(r.key,t),rh(e,r)):r instanceof Ld?(ci(Ud,"Document no longer in limbo: "+r.key),e.Au.removeReference(r.key,t),e.Au.containsKey(r.key)||th(e,r.key)):pi(19791,{yu:r})}function rh(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Iu.has(r)||(ci(Ud,"New document in limbo: "+n),e.Iu.add(r),ih(e))}function ih(e){for(;e.Iu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Iu.values().next().value;e.Iu.delete(t);const n=new $i(ji.fromString(t)),r=e.mu.next();e.Eu.set(r,new Fd(n)),e.du=e.du.insert(n,r),Hu(e.remoteStore,new Tc(_s(ys(n.path)),r,"TargetPurposeLimboResolution",ha.ue))}}async function ah(e,t,n){const r=gi(e),i=[],a=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((e,s)=>{o.push(r.gu(s,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=iu.Es(s.targetId,e);a.push(t)}}))}),await Promise.all(o),r.hu.J_(i),await async function(e,t){const n=gi(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>ca.forEach(t,t=>ca.forEach(t.Is,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>ca.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!da(e))throw e;ci(su,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Fs.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Fs=n.Fs.insert(e,i)}}}(r.localStore,a))}async function oh(e,t){const n=gi(e);if(!n.currentUser.isEqual(t)){ci(Ud,"User change. New user:",t.toKey());const e=await uu(n.localStore,t);n.currentUser=t,function(e,t){e.Vu.forEach(e=>{e.forEach(e=>{e.reject(new vi(yi.CANCELLED,t))})}),e.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await ah(n,e.Bs)}}function sh(e,t){const n=gi(e),r=n.Eu.get(t);if(r&&r.lu)return qs().add(r.key);{let e=qs();const r=n.Tu.get(t);if(!r)return e;for(const t of r){const r=n.Pu.get(t);e=e.unionWith(r.view.tu)}return e}}function lh(e){const t=gi(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Wd.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=sh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Kd.bind(null,t),t.hu.J_=Ad.bind(null,t.eventManager),t.hu.pu=Cd.bind(null,t.eventManager),t}function ch(e){const t=gi(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Xd.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Jd.bind(null,t),t}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ru(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return cu(this.persistence,new ou,e.initialUser,this.serializer)}Du(e){return new eu(nu.Vi,this.serializer)}bu(e){return new bu}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class dh extends uh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){mi(this.persistence.referenceDelegate instanceof ru,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Fc(n,e.asyncQueue,t)}Du(e){const t=void 0!==this.cacheSizeBytes?Dc.withCacheSize(this.cacheSizeBytes):Dc.DEFAULT;return new eu(e=>ru.Vi(e,t),this.serializer)}}class hh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Gd(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=oh.bind(null,this.syncEngine),await md(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Sd}createDatastore(e){const t=Ru(e.databaseInfo.databaseId),n=function(e){return new Nu(e)}(e.databaseInfo);return function(e,t,n,r){return new Fu(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new zu(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>Gd(this.syncEngine,e,0),ku.C()?new ku:new wu)}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){const s=new Vd(e,t,n,r,i,a);return o&&(s.fu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=gi(e);ci($u,"RemoteStore shutting down."),t.Ia.add(5),await Bu(t),t.Ea.shutdown(),t.Aa.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}hh.provider={build:()=>new hh};class ph{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ui("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const fh="FirestoreClient";class mh{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ai.UNAUTHENTICATED,this.clientId=Ni.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{ci(fh,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(ci(fh,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=bd(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function gh(e,t){e.asyncQueue.verifyOperationInProgress(),ci(fh,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await uu(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>{di("Terminating Firestore due to IndexedDb database deletion"),e.terminate().then(()=>{ci("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(e=>{di("Terminating Firestore due to IndexedDb database deletion failed",e)})}),e._offlineComponents=t}async function yh(e,t){e.asyncQueue.verifyOperationInProgress();const n=await vh(e);ci(fh,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>fd(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>fd(t.remoteStore,n)),e._onlineComponents=t}async function vh(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ci(fh,"Using user provided OfflineComponentProvider");try{await gh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===yi.FAILED_PRECONDITION||e.code===yi.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;di("Error using user provided cache. Falling back to memory cache: "+n),await gh(e,new uh)}}else ci(fh,"Using default OfflineComponentProvider"),await gh(e,new dh(void 0));return e._offlineComponents}async function bh(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ci(fh,"Using user provided OnlineComponentProvider"),await yh(e,e._uninitializedComponentsProvider._online)):(ci(fh,"Using default OnlineComponentProvider"),await yh(e,new hh))),e._onlineComponents}function wh(e){return bh(e).then(e=>e.syncEngine)}async function _h(e){const t=await bh(e),n=t.eventManager;return n.onListen=$d.bind(null,t.syncEngine),n.onUnlisten=Hd.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=zd.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Qd.bind(null,t.syncEngine),n}function kh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new bi;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new ph({next:s=>{a.Ou(),t.enqueueAndForget(()=>Ed(e,o));const l=s.docs.has(n);!l&&s.fromCache?i.reject(new vi(yi.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?i.reject(new vi(yi.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new Dd(ys(n.path),a,{includeMetadataChanges:!0,ka:!0});return Id(e,o)}(await _h(e),e.asyncQueue,t,n,r)),r.promise}function xh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new bi;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new ph({next:n=>{a.Ou(),t.enqueueAndForget(()=>Ed(e,o)),n.fromCache&&"server"===r.source?i.reject(new vi(yi.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Dd(n,a,{includeMetadataChanges:!0,ka:!0});return Id(e,o)}(await _h(e),e.asyncQueue,t,n,r)),r.promise}function Sh(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Th=new Map,Ih="firestore.googleapis.com",Eh=!0;class Ah{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new vi(yi.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ih,this.ssl=Eh}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Eh;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Rc;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Mc)throw new vi(yi.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new vi(yi.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Sh(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new vi(yi.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new vi(yi.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new vi(yi.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ch{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ah({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new vi(yi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new vi(yi.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ah(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new _i;switch(e.type){case"firstParty":return new Ti(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new vi(yi.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Th.get(e);t&&(ci("ComponentProvider","Removing Datastore"),Th.delete(e),t.terminate())}(this),Promise.resolve()}}function Nh(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;e=Wi(e,Ch);const a=g(t),o=e._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${n}`;a&&(async function(e){(await fetch(e,{credentials:"include"})).ok}(`https://${l}`),b("Firestore",!0)),o.host!==Ih&&o.host!==l&&di("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:a,emulatorOptions:r});if(!E(u,s)&&(e._setSettings(u),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ai.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[c(JSON.stringify({alg:"none",type:"JWT"})),c(JSON.stringify(a)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new vi(yi.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ai(a)}e._authCredentials=new ki(new wi(t,n))}}class Ph{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ph(this.firestore,e,this._query)}}class Rh{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rh(this.firestore,e,this._key)}toJSON(){return{type:Rh._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Ki(t,Rh._jsonSchema))return new Rh(e,n||null,new $i(ji.fromString(t.referencePath)))}}Rh._jsonSchemaVersion="firestore/documentReference/1.0",Rh._jsonSchema={type:Gi("string",Rh._jsonSchemaVersion),referencePath:Gi("string")};class Dh extends Ph{constructor(e,t,n){super(e,t,ys(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rh(this.firestore,null,new $i(e))}withConverter(e){return new Dh(this.firestore,e,this._path)}}function Oh(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=O(e),zi("collection","path",t),e instanceof Ch){const n=ji.fromString(t,...r);return Bi(n),new Dh(e,null,n)}{if(!(e instanceof Rh||e instanceof Dh))throw new vi(yi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ji.fromString(t,...r));return Bi(n),new Dh(e.firestore,null,n)}}function Lh(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=O(e),1===arguments.length&&(t=Ni.newId()),zi("doc","path",t),e instanceof Ch){const n=ji.fromString(t,...r);return qi(n),new Rh(e,null,new $i(n))}{if(!(e instanceof Rh||e instanceof Dh))throw new vi(yi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ji.fromString(t,...r));return qi(n),new Rh(e.firestore,e instanceof Dh?e.converter:null,new $i(n))}}const Mh="AsyncQueue";class Uh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Du(this,"async_queue_retry"),this.oc=()=>{const e=Pu();e&&ci(Mh,"Visibility state changed to "+e.visibilityState),this.F_.y_()},this._c=e;const t=Pu();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Pu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new bi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(0!==this.Zu.length){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!da(e))throw e;ci(Mh,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(e=>{throw this.tc=e,this.nc=!1,ui("INTERNAL UNHANDLED ERROR: ",jh(e)),e}).then(e=>(this.nc=!1,e))));return this._c=t,t}enqueueAfterDelay(e,t,n){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const r=vd.createAndSchedule(this,e,t,n,e=>this.lc(e));return this.ec.push(r),r}ac(){this.tc&&pi(47125,{hc:jh(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do{e=this._c,await e}while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function jh(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function Fh(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Vh extends Ch{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Uh,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Uh(e),this._firestoreClient=void 0,await e}}}function $h(e,t){const n="object"==typeof e?e:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je;const t=Ve.get(e);if(!t&&e===je&&f())return Xe();if(!t)throw We.create("no-app",{appName:e});return t}(),r="string"==typeof e?e:t||fo,i=He(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=p("firestore");e&&Nh(i,...e)}return i}function zh(e){if(e._terminated)throw new vi(yi.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||qh(e),e._firestoreClient}function qh(e){var t,n,r;const i=e._freezeSettings(),a=function(e,t,n,r){return new po(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Sh(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new mh(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Bh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bh(eo.fromBase64String(e))}catch(e){throw new vi(yi.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Bh(eo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bh._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ki(e,Bh._jsonSchema))return Bh.fromBase64String(e.bytes)}}Bh._jsonSchemaVersion="firestore/bytes/1.0",Bh._jsonSchema={type:Gi("string",Bh._jsonSchemaVersion),bytes:Gi("string")};class Hh{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new vi(yi.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vi(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qh{constructor(e){this._methodName=e}}class Wh{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new vi(yi.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new vi(yi.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pi(this._lat,e._lat)||Pi(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wh._jsonSchemaVersion}}static fromJSON(e){if(Ki(e,Wh._jsonSchema))return new Wh(e.latitude,e.longitude)}}Wh._jsonSchemaVersion="firestore/geoPoint/1.0",Wh._jsonSchema={type:Gi("string",Wh._jsonSchemaVersion),latitude:Gi("number"),longitude:Gi("number")};class Gh{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Gh._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ki(e,Gh._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new Gh(e.vectorValues);throw new vi(yi.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gh._jsonSchemaVersion="firestore/vectorValue/1.0",Gh._jsonSchema={type:Gi("string",Gh._jsonSchemaVersion),vectorValues:Gi("object")};const Kh=/^__.*__$/;class Xh{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new vl(e,this.data,this.fieldMask,t,this.fieldTransforms):new yl(e,this.data,t,this.fieldTransforms)}}class Jh{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new vl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Yh(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pi(40011,{Ec:e})}}class Zh{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Zh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Rc({path:n,mc:!1});return r.fc(e),r}gc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Rc({path:n,mc:!1});return r.Ac(),r}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return mp(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(0===e.length)throw this.wc("Document fields must not be empty");if(Yh(this.Ec)&&Kh.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class ep{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Ru(e)}Dc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Zh({Ec:e,methodName:t,bc:n,path:Vi.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tp(e){const t=e._freezeSettings(),n=Ru(e._databaseId);return new ep(e._databaseId,!!t.ignoreUndefinedProperties,n)}function np(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Dc(a.merge||a.mergeFields?2:0,t,n,i);dp("Data must be an object, but it was:",o,r);const s=cp(r,o);let l,c;if(a.merge)l=new Ya(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=hp(t,r,n);if(!o.contains(i))throw new vi(yi.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);gp(e,i)||e.push(i)}l=new Ya(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new Xh(new Fo(s),l,c)}class rp extends Qh{_toFieldTransform(e){if(2!==e.Ec)throw 1===e.Ec?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rp}}class ip extends Qh{_toFieldTransform(e){return new sl(e.path,new Zs)}isEqual(e){return e instanceof ip}}function ap(e,t,n,r){const i=e.Dc(1,t,n);dp("Data must be an object, but it was:",i,r);const a=[],o=Fo.empty();Ha(r,(e,r)=>{const s=fp(t,e,n);r=O(r);const l=i.gc(s);if(r instanceof rp)a.push(s);else{const e=lp(r,l);null!=e&&(a.push(s),o.set(s,e))}});const s=new Ya(a);return new Jh(o,s,i.fieldTransforms)}function op(e,t,n,r,i,a){const o=e.Dc(1,t,n),s=[hp(t,r,n)],l=[i];if(a.length%2!=0)throw new vi(yi.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)s.push(hp(t,a[h])),l.push(a[h+1]);const c=[],u=Fo.empty();for(let h=s.length-1;h>=0;--h)if(!gp(c,s[h])){const e=s[h];let t=l[h];t=O(t);const n=o.gc(e);if(t instanceof rp)c.push(e);else{const r=lp(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Ya(c);return new Jh(u,d,o.fieldTransforms)}function sp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return lp(n,e.Dc(r?4:3,t))}function lp(e,t){if(up(e=O(e)))return dp("Unsupported field value:",t,e),cp(e,t);if(e instanceof Qh)return function(e,t){if(!Yh(t.Ec))throw t.wc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.wc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.mc&&4!==t.Ec)throw t.wc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=lp(i,t.yc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=O(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Gs(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Yi.fromDate(e);return{timestampValue:Yl(t.serializer,n)}}if(e instanceof Yi){const n=new Yi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Yl(t.serializer,n)}}if(e instanceof Wh)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Bh)return{bytesValue:Zl(t.serializer,e._byteString)};if(e instanceof Rh){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.wc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:nc(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Gh)return function(e,t){return{mapValue:{fields:{[go]:{stringValue:bo},[wo]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.wc("VectorValues must only contain numeric values.");return Qs(t.serializer,e)})}}}}}}(e,t);throw t.wc(`Unsupported field value: ${Qi(e)}`)}(e,t)}function cp(e,t){const n={};return Qa(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ha(e,(e,r)=>{const i=lp(r,t.Vc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function up(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Yi||e instanceof Wh||e instanceof Bh||e instanceof Rh||e instanceof Qh||e instanceof Gh)}function dp(e,t,n){if(!up(n)||!Hi(n)){const r=Qi(n);throw"an object"===r?t.wc(e+" a custom object"):t.wc(e+" "+r)}}function hp(e,t,n){if((t=O(t))instanceof Hh)return t._internalPath;if("string"==typeof t)return fp(e,t);throw mp("Field path arguments must be of type string or ",e,!1,void 0,n)}const pp=new RegExp("[~\\*/\\[\\]]");function fp(e,t,n){if(t.search(pp)>=0)throw mp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Hh(...t.split("."))._internalPath}catch(r){throw mp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function mp(e,t,n,r,i){const a=r&&!r.isEmpty(),o=void 0!==i;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new vi(yi.INVALID_ARGUMENT,s+e+l)}function gp(e,t){return e.some(e=>e.isEqual(t))}class yp{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Rh(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new vp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(bp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class vp extends yp{data(){return super.data()}}function bp(e,t){return"string"==typeof t?fp(e,t):t instanceof Hh?t._internalPath:t._delegate._internalPath}function wp(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new vi(yi.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _p{}class kp extends _p{}function xp(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof _p&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof Tp).length,n=e.filter(e=>e instanceof Sp).length;if(t>1||t>0&&n>0)throw new vi(yi.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class Sp extends kp{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Sp(e,t,n)}_apply(e){const t=this._parse(e);return Np(e._query,t),new Ph(e.firestore,e.converter,xs(e._query,t))}_parse(e){const t=tp(e.firestore),n=function(e,t,n,r,i,a,o){let s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new vi(yi.INVALID_ARGUMENT,`Invalid Query. You can't perform '${a}' queries on documentId().`);if("in"===a||"not-in"===a){Cp(o,a);const t=[];for(const n of o)t.push(Ap(r,e,n));s={arrayValue:{values:t}}}else s=Ap(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Cp(o,a),s=sp(n,t,o,"in"===a||"not-in"===a);return Go.create(i,a,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Tp extends _p{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Tp(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Ko.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Np(n,i),n=xs(n,i)}(e._query,t),new Ph(e.firestore,e.converter,xs(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ip extends kp{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ip(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new vi(yi.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new vi(yi.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ho(t,n)}(e._query,this._field,this._direction);return new Ph(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new ms(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Ep(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=bp("orderBy",e);return Ip._create(n,t)}function Ap(e,t,n){if("string"==typeof(n=O(n))){if(""===n)throw new vi(yi.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bs(t)&&-1!==n.indexOf("/"))throw new vi(yi.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ji.fromString(n));if(!$i.isDocumentKey(r))throw new vi(yi.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return No(e,new $i(r))}if(n instanceof Rh)return No(e,n._key);throw new vi(yi.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qi(n)}.`)}function Cp(e,t){if(!Array.isArray(e)||0===e.length)throw new vi(yi.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Np(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new vi(yi.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new vi(yi.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Pp{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(_o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ro(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(io(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw pi(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Ha(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[wo].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>ro(e.doubleValue));return new Gh(i)}convertGeoPoint(e){return new Wh(ro(e.latitude),ro(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=uo(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ho(e));default:return null}}convertTimestamp(e){const t=no(e);return new Yi(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ji.fromString(e);mi(Sc(n),9688,{name:e});const r=new mo(n.get(1),n.get(3)),i=new $i(n.popFirst(5));return r.isEqual(t)||ui(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Rp(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Dp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Op extends yp{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Lp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(bp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new vi(yi.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Op._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Op._jsonSchemaVersion="firestore/documentSnapshot/1.0",Op._jsonSchema={type:Gi("string",Op._jsonSchemaVersion),bundleSource:Gi("string","DocumentSnapshot"),bundleName:Gi("string"),bundle:Gi("string")};class Lp extends Op{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Mp{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Dp(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Lp(this._firestore,this._userDataWriter,n.key,n,new Dp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new vi(yi.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Lp(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Dp(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Lp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Dp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:Up(t.type),doc:r,oldIndex:i,newIndex:a}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new vi(yi.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Mp._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ni.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Up(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pi(61501,{type:e})}}function jp(e){e=Wi(e,Rh);const t=Wi(e.firestore,Vh);return kh(zh(t),e._key).then(n=>Qp(t,e,n))}Mp._jsonSchemaVersion="firestore/querySnapshot/1.0",Mp._jsonSchema={type:Gi("string",Mp._jsonSchemaVersion),bundleSource:Gi("string","QuerySnapshot"),bundleName:Gi("string"),bundle:Gi("string")};class Fp extends Pp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rh(this.firestore,null,t)}}function Vp(e){e=Wi(e,Ph);const t=Wi(e.firestore,Vh),n=zh(t),r=new Fp(t);return wp(e._query),xh(n,e._query).then(n=>new Mp(t,r,e,n))}function $p(e,t,n){e=Wi(e,Rh);const r=Wi(e.firestore,Vh),i=Rp(e.converter,t,n);return Hp(r,[np(tp(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,cl.none())])}function zp(e){return Hp(Wi(e.firestore,Vh),[new kl(e._key,cl.none())])}function qp(e,t){const n=Wi(e.firestore,Vh),r=Lh(e),i=Rp(e.converter,t);return Hp(n,[np(tp(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,cl.exists(!1))]).then(()=>r)}function Bp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=O(e);let s={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||Fh(n[l])||(s=n[l++]);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Fh(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(a=e.error)||void 0===a?void 0:a.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,d,h;if(e instanceof Rh)d=Wi(e.firestore,Vh),h=ys(e._key.path),u={next:t=>{n[l]&&n[l](Qp(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Wi(e,Ph);d=Wi(t.firestore,Vh),h=t._query;const r=new Fp(d);u={next:e=>{n[l]&&n[l](new Mp(d,r,t,e))},error:n[l+1],complete:n[l+2]},wp(e._query)}return function(e,t,n,r){const i=new ph(r),a=new Dd(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>Id(await _h(e),a)),()=>{i.Ou(),e.asyncQueue.enqueueAndForget(async()=>Ed(await _h(e),a))}}(zh(d),h,c,u)}function Hp(e,t){return function(e,t){const n=new bi;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=ch(e);try{const e=await function(e,t){const n=gi(e),r=Yi.now(),i=t.reduce((e,t)=>e.add(t.key),qs());let a,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let s=Os(),l=qs();return n.Os.getEntries(e,i).next(e=>{s=e,s.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,s)).next(i=>{a=i;const o=[];for(const e of t){const t=ml(e,a.get(e.key).overlayedDocument);null!=t&&o.push(new vl(e.key,t,Vo(t.value.mapValue),cl.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:Us(a)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ru[e.currentUser.toKey()];r||(r=new Wa(Pi)),r=r.insert(t,n),e.Ru[e.currentUser.toKey()]=r}(r,e.batchId,n),await ah(r,e.changes),await ad(r.remoteStore)}catch(e){const t=bd(e,"Failed to persist write");n.reject(t)}}(await wh(e),t,n)),n.promise}(zh(e),t)}function Qp(e,t,n){const r=n.docs.get(t._key),i=new Fp(e);return new Op(e,i,t._key,r,new Dp(n.hasPendingWrites,n.fromCache),t.converter)}class Wp{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=tp(e)}set(e,t,n){this._verifyNotCommitted();const r=Gp(e,this._firestore),i=Rp(r.converter,t,n),a=np(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,cl.none())),this}update(e,t,n){this._verifyNotCommitted();const r=Gp(e,this._firestore);let i;for(var a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return i="string"==typeof(t=O(t))||t instanceof Hh?op(this._dataReader,"WriteBatch.update",r._key,t,n,o):ap(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,cl.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Gp(e,this._firestore);return this._mutations=this._mutations.concat(new kl(t._key,cl.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new vi(yi.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Gp(e,t){if((e=O(e)).firestore!==t)throw new vi(yi.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function Kp(){return new ip("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){oi=e}(Ke),Be(new L("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const a=e.getProvider("app").getImmediate(),o=new Vh(new xi(e.getProvider("auth-internal")),new Ei(a,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new vi(yi.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mo(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Je(ri,ii,e),Je(ri,ii,"esm2017")}();const Xp="https://huggingface.co",Jp="https://router.huggingface.co",Yp=`${Jp}/v1`,Zp="X-HF-Bill-To",ef={"black-forest-labs":{},cerebras:{},cohere:{},"fal-ai":{},"featherless-ai":{},"fireworks-ai":{},groq:{},"hf-inference":{},hyperbolic:{},nebius:{},novita:{},nscale:{},openai:{},ovhcloud:{},replicate:{},sambanova:{},together:{}};class tf extends Error{constructor(e){super(e),this.name="InferenceClientError"}}class nf extends tf{constructor(e){super(e),this.name="InputError"}}class rf extends tf{httpRequest;httpResponse;constructor(e,t,n){super(e),this.httpRequest={...t,...t.headers?{headers:{...t.headers,..."Authorization"in t.headers?{Authorization:"Bearer [redacted]"}:void 0}}:void 0},this.httpResponse=n}}class af extends rf{constructor(e,t,n){super(e,t,n),this.name="ProviderApiError"}}class of extends rf{constructor(e,t,n){super(e,t,n),this.name="HubApiError"}}class sf extends tf{constructor(e){super(e),this.name="ProviderOutputError"}}function lf(e){return Array.isArray(e)?e:[e]}class cf{provider;baseUrl;clientSideRoutingOnly;constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.provider=e,this.baseUrl=t,this.clientSideRoutingOnly=n}makeBaseUrl(e){return"provider-key"!==e.authMethod?`${Jp}/${this.provider}`:this.baseUrl}makeBody(e){return"data"in e.args&&e.args.data?e.args.data:JSON.stringify(this.preparePayload(e))}makeUrl(e){return`${this.makeBaseUrl(e)}/${this.makeRoute(e).replace(/^\/+/,"")}`}prepareHeaders(e,t){const n={};return"none"!==e.authMethod&&(n.Authorization=`Bearer ${e.accessToken}`),t||(n["Content-Type"]="application/json"),n}}class uf extends cf{constructor(e,t){super(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}makeRoute(){return"v1/chat/completions"}preparePayload(e){return{...e.args,model:e.model}}async getResponse(e){if("object"===typeof e&&Array.isArray(e?.choices)&&"number"===typeof e?.created&&"string"===typeof e?.id&&"string"===typeof e?.model&&(void 0===e.system_fingerprint||null===e.system_fingerprint||"string"===typeof e.system_fingerprint)&&"object"===typeof e?.usage)return e;throw new sf("Expected ChatCompletionOutput")}}class df extends cf{constructor(e,t){super(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}preparePayload(e){return{...e.args,model:e.model}}makeRoute(){return"v1/completions"}async getResponse(e){const t=lf(e);if(Array.isArray(t)&&t.length>0&&t.every(e=>"object"===typeof e&&!!e&&"generated_text"in e&&"string"===typeof e.generated_text))return t[0];throw new sf("Expected Array<{generated_text: string}>")}}function hf(e){if(globalThis.Buffer)return globalThis.Buffer.from(e).toString("base64");{const t=[];return e.forEach(e=>{t.push(String.fromCharCode(e))}),globalThis.btoa(t.join(""))}}function pf(e,t){return e.includes(t)}function ff(e,t){const n=Array.isArray(t)?t:[t];return function(e,t){return Object.assign({},...t.map(t=>{if(void 0!==e[t])return{[t]:e[t]}}))}(e,Object.keys(e).filter(e=>!pf(n,e)))}const mf=["feature-extraction","sentence-similarity"];class gf extends cf{constructor(){super("hf-inference",`${Jp}/hf-inference`)}preparePayload(e){return e.args}makeUrl(e){return e.model.startsWith("http://")||e.model.startsWith("https://")?e.model:super.makeUrl(e)}makeRoute(e){return e.task&&["feature-extraction","sentence-similarity"].includes(e.task)?`models/${e.model}/pipeline/${e.task}`:`models/${e.model}`}async getResponse(e){return e}}class yf extends gf{async getResponse(e){if("object"===typeof e&&null!==e&&"labels"in e&&"scores"in e&&Array.isArray(e.labels)&&Array.isArray(e.scores)&&e.labels.length===e.scores.length&&e.labels.every(e=>"string"===typeof e)&&e.scores.every(e=>"number"===typeof e)){const t=e.scores;return e.labels.map((e,n)=>({label:e,score:t[n]}))}if(Array.isArray(e)&&e.every(yf.validateOutputElement))return e;throw new sf("Received malformed response from HF-Inference zero-shot-classification API: expected Array<{label: string, score: number}>")}static validateOutputElement(e){return"object"===typeof e&&!!e&&"label"in e&&"score"in e&&"string"===typeof e.label&&"number"===typeof e.score}}class vf extends gf{static validate(e){return"object"===typeof e&&!!e&&"aggregator"in e&&"string"===typeof e.aggregator&&"answer"in e&&"string"===typeof e.answer&&"cells"in e&&Array.isArray(e.cells)&&e.cells.every(e=>"string"===typeof e)&&"coordinates"in e&&Array.isArray(e.coordinates)&&e.coordinates.every(e=>Array.isArray(e)&&e.every(e=>"number"===typeof e))}async getResponse(e){if(Array.isArray(e)&&Array.isArray(e)?e.every(e=>vf.validate(e)):vf.validate(e))return Array.isArray(e)?e[0]:e;throw new sf("Received malformed response from HF-Inference table-question-answering API: expected {aggregator: string, answer: string, cells: string[], coordinates: number[][]}")}}let bf=console;function wf(){return bf}const _f=new Map;async function kf(e,t,n){let r;if(_f.has(e))r=_f.get(e);else{const i=`${Xp}/api/models/${e}?expand[]=inferenceProviderMapping`,a=await(n?.fetch??fetch)(i,{headers:t?.startsWith("hf_")?{Authorization:`Bearer ${t}`}:{}});if(!a.ok){if(!a.headers.get("Content-Type")?.startsWith("application/json"))throw new of(`Failed to fetch inference provider mapping for model ${e}`,{url:i,method:"GET"},{requestId:a.headers.get("x-request-id")??"",status:a.status,body:await a.text()});{const t=await a.json();if("error"in t&&"string"===typeof t.error)throw new of(`Failed to fetch inference provider mapping for model ${e}: ${t.error}`,{url:i,method:"GET"},{requestId:a.headers.get("x-request-id")??"",status:a.status,body:t})}}let o=null;try{o=await a.json()}catch{throw new of(`Failed to fetch inference provider mapping for model ${e}: malformed API response, invalid JSON`,{url:i,method:"GET"},{requestId:a.headers.get("x-request-id")??"",status:a.status,body:await a.text()})}if(!o?.inferenceProviderMapping)throw new of(`We have not been able to find inference provider information for model ${e}.`,{url:i,method:"GET"},{requestId:a.headers.get("x-request-id")??"",status:a.status,body:await a.text()});r=function(e,t){return t?Array.isArray(t)?t:Object.entries(t).map(t=>{let[n,r]=t;return{provider:n,hfModelId:e,providerId:r.providerId,status:r.status,task:r.task,adapter:r.adapter,adapterWeightsPath:r.adapterWeightsPath}}):[]}(e,o.inferenceProviderMapping),_f.set(e,r)}return r}async function xf(e,t,n){const r=wf();if(n){if(e)throw new nf("Specifying both endpointUrl and provider is not supported.");return"hf-inference"}if(e||(r.log("Defaulting to 'auto' which will select the first provider available for the model, sorted by the user's order in https://hf.co/settings/inference-providers."),e="auto"),"auto"===e){if(!t)throw new nf("Specifying a model is required when provider is 'auto'");const n=await kf(t);e=n[0]?.provider,r.log("Auto selected provider:",e)}if(!e)throw new nf(`No Inference Provider available for model ${t}.`);return e}function Sf(e){return new Promise(t=>{setTimeout(()=>t(),e)})}function Tf(e){return/^http(s?):/.test(e)||e.startsWith("/")}const If=["audio/mpeg","audio/mp4","audio/wav","audio/x-wav"];class Ef extends cf{constructor(e){super("fal-ai",e||"https://fal.run")}preparePayload(e){return e.args}makeRoute(e){return`/${e.model}`}prepareHeaders(e,t){const n={Authorization:"provider-key"!==e.authMethod?`Bearer ${e.accessToken}`:`Key ${e.accessToken}`};return t||(n["Content-Type"]="application/json"),n}}class Af extends Ef{async getResponseFromQueueApi(e,t,n){if(!t||!n)throw new nf(`URL and headers are required for ${this.task} task`);if(!e.request_id)throw new sf(`Received malformed response from Fal.ai ${this.task} API: no request ID found in the response`);let r=e.status;const i=new URL(t),a=`${i.protocol}//${i.host}${"router.huggingface.co"===i.host?"/fal-ai":""}`,o=new URL(e.response_url).pathname,s=i.search,l=`${a}${o}/status${s}`,c=`${a}${o}${s}`;for(;"COMPLETED"!==r;){await Sf(500);const e=await fetch(l,{headers:n});if(!e.ok)throw new af("Failed to fetch response status from fal-ai API",{url:l,method:"GET"},{requestId:e.headers.get("x-request-id")??"",status:e.status,body:await e.text()});try{r=(await e.json()).status}catch(h){throw new sf("Failed to parse status response from fal-ai API: received malformed response")}}const u=await fetch(c,{headers:n});let d;try{d=await u.json()}catch(h){throw new sf("Failed to parse result response from fal-ai API: received malformed response")}return d}}function Cf(e,t){return`${Xp}/${e}/resolve/main/${t}`}const Nf="https://api.featherless.ai";const Pf="https://api.groq.com";const Rf="https://api.hyperbolic.xyz";const Df="https://api.studio.nebius.ai";const Of="https://api.novita.ai";const Lf="https://inference.api.nscale.com";const Mf="https://oai.endpoints.kepler.ai.cloud.ovh.net";class Uf extends cf{constructor(e){super("replicate",e||"https://api.replicate.com")}makeRoute(e){return e.model.includes(":")?"v1/predictions":`v1/models/${e.model}/predictions`}preparePayload(e){return{input:{...ff(e.args,["inputs","parameters"]),...e.args.parameters,prompt:e.args.inputs},version:e.model.includes(":")?e.model.split(":")[1]:void 0}}prepareHeaders(e,t){const n={Authorization:`Bearer ${e.accessToken}`,Prefer:"wait"};return t||(n["Content-Type"]="application/json"),n}makeUrl(e){const t=this.makeBaseUrl(e);return e.model.includes(":")?`${t}/v1/predictions`:`${t}/v1/models/${e.model}/predictions`}}const jf="https://api.together.xyz";const Ff={"black-forest-labs":{"text-to-image":new class extends cf{constructor(){super("black-forest-labs","https://api.us1.bfl.ai")}preparePayload(e){return{...ff(e.args,["inputs","parameters"]),...e.args.parameters,prompt:e.args.inputs}}prepareHeaders(e,t){const n={Authorization:"provider-key"!==e.authMethod?`Bearer ${e.accessToken}`:`X-Key ${e.accessToken}`};return t||(n["Content-Type"]="application/json"),n}makeRoute(e){if(!e)throw new nf("Params are required");return`/v1/${e.model}`}async getResponse(e,t,n,r){const i=wf(),a=new URL(e.polling_url);for(let o=0;o<5;o++){await Sf(1e3),i.debug(`Polling Black Forest Labs API for the result... ${o+1}/5`),a.searchParams.set("attempt",o.toString(10));const e=await fetch(a,{headers:{"Content-Type":"application/json"}});if(!e.ok)throw new af("Failed to fetch result from black forest labs API",{url:a.toString(),method:"GET",headers:{"Content-Type":"application/json"}},{requestId:e.headers.get("x-request-id")??"",status:e.status,body:await e.text()});const t=await e.json();if("object"===typeof t&&t&&"status"in t&&"string"===typeof t.status&&"Ready"===t.status&&"result"in t&&"object"===typeof t.result&&t.result&&"sample"in t.result&&"string"===typeof t.result.sample){if("json"===r)return t.result;if("url"===r)return t.result.sample;const e=await fetch(t.result.sample);return await e.blob()}}throw new sf("Timed out while waiting for the result from black forest labs API - aborting after 5 attempts")}}},cerebras:{conversational:new class extends uf{constructor(){super("cerebras","https://api.cerebras.ai")}}},cohere:{conversational:new class extends uf{constructor(){super("cohere","https://api.cohere.com")}makeRoute(){return"/compatibility/v1/chat/completions"}}},"fal-ai":{"text-to-image":new class extends Ef{preparePayload(e){const t={...ff(e.args,["inputs","parameters"]),...e.args.parameters,sync_mode:!0,prompt:e.args.inputs};return"lora"===e.mapping?.adapter&&e.mapping.adapterWeightsPath&&(t.loras=[{path:Cf(e.mapping.hfModelId,e.mapping.adapterWeightsPath),scale:1}],"fal-ai/lora"===e.mapping.providerId&&(t.model_name="stabilityai/stable-diffusion-xl-base-1.0")),t}async getResponse(e,t,n,r){if("object"===typeof e&&"images"in e&&Array.isArray(e.images)&&e.images.length>0&&"url"in e.images[0]&&"string"===typeof e.images[0].url){if("json"===r)return{...e};if("url"===r)return e.images[0].url;const t=await fetch(e.images[0].url);return await t.blob()}throw new sf("Received malformed response from Fal.ai text-to-image API")}},"text-to-speech":new class extends Ef{preparePayload(e){return{...ff(e.args,["inputs","parameters"]),...e.args.parameters,text:e.args.inputs}}async getResponse(e){const t=e;if("string"!==typeof t?.audio?.url)throw new sf(`Received malformed response from Fal.ai Text-to-Speech API: expected { audio: { url: string } } format, got instead: ${JSON.stringify(e)}`);const n=await fetch(t.audio.url);if(!n.ok)throw new af(`Failed to fetch audio from ${t.audio.url}: ${n.statusText}`,{url:t.audio.url,method:"GET",headers:{"Content-Type":"application/json"}},{requestId:n.headers.get("x-request-id")??"",status:n.status,body:await n.text()});try{return await n.blob()}catch(r){throw new af(`Failed to fetch audio from ${t.audio.url}: ${r instanceof Error?r.message:String(r)}`,{url:t.audio.url,method:"GET",headers:{"Content-Type":"application/json"}},{requestId:n.headers.get("x-request-id")??"",status:n.status,body:await n.text()})}}},"text-to-video":new class extends Af{task;constructor(){super("https://queue.fal.run"),this.task="text-to-video"}makeRoute(e){return"provider-key"!==e.authMethod?`/${e.model}?_subdomain=queue`:`/${e.model}`}preparePayload(e){return{...ff(e.args,["inputs","parameters"]),...e.args.parameters,prompt:e.args.inputs}}async getResponse(e,t,n){const r=await this.getResponseFromQueueApi(e,t,n);if("object"===typeof r&&r&&"video"in r&&"object"===typeof r.video&&r.video&&"url"in r.video&&"string"===typeof r.video.url&&Tf(r.video.url)){const e=await fetch(r.video.url);return await e.blob()}throw new sf(`Received malformed response from Fal.ai text-to-video API: expected { video: { url: string } } result format, got instead: ${JSON.stringify(r)}`)}},"image-to-image":new class extends Af{task;constructor(){super("https://queue.fal.run"),this.task="image-to-image"}makeRoute(e){return"provider-key"!==e.authMethod?`/${e.model}?_subdomain=queue`:`/${e.model}`}preparePayload(e){const t=e.args;return"lora"===e.mapping?.adapter&&e.mapping.adapterWeightsPath&&(t.loras=[{path:Cf(e.mapping.hfModelId,e.mapping.adapterWeightsPath),scale:1}]),t}async preparePayloadAsync(e){const t=e.inputs instanceof Blob?e.inputs.type:"image/png";return{...ff(e,["inputs","parameters"]),image_url:`data:${t};base64,${hf(new Uint8Array(e.inputs instanceof ArrayBuffer?e.inputs:await e.inputs.arrayBuffer()))}`,...e.parameters,...e}}async getResponse(e,t,n){const r=await this.getResponseFromQueueApi(e,t,n);if("object"===typeof r&&r&&"images"in r&&Array.isArray(r.images)&&r.images.length>0&&"object"===typeof r.images[0]&&r.images[0]&&"url"in r.images[0]&&"string"===typeof r.images[0].url&&Tf(r.images[0].url)){const e=await fetch(r.images[0].url);return await e.blob()}throw new sf(`Received malformed response from Fal.ai image-to-image API: expected { images: Array<{ url: string }> } result format, got instead: ${JSON.stringify(r)}`)}},"automatic-speech-recognition":new class extends Ef{prepareHeaders(e,t){const n=super.prepareHeaders(e,t);return n["Content-Type"]="application/json",n}async getResponse(e){const t=e;if("string"!==typeof t?.text)throw new sf(`Received malformed response from Fal.ai Automatic Speech Recognition API: expected { text: string } format, got instead: ${JSON.stringify(e)}`);return{text:t.text}}async preparePayloadAsync(e){const t="data"in e&&e.data instanceof Blob?e.data:"inputs"in e?e.inputs:void 0,n=t?.type;if(!n)throw new nf("Unable to determine the input's content-type. Make sure your are passing a Blob when using provider fal-ai.");if(!If.includes(n))throw new nf(`Provider fal-ai does not support blob type ${n} - supported content types are: ${If.join(", ")}`);const r=hf(new Uint8Array(await t.arrayBuffer()));return{...ff(e,"data"in e?"data":"inputs"),audio_url:`data:${n};base64,${r}`}}},"image-segmentation":new class extends Af{task;constructor(){super("https://queue.fal.run"),this.task="image-segmentation"}makeRoute(e){return"provider-key"!==e.authMethod?`/${e.model}?_subdomain=queue`:`/${e.model}`}preparePayload(e){return{...ff(e.args,["inputs","parameters"]),...e.args.parameters,sync_mode:!0}}async preparePayloadAsync(e){const t="data"in e&&e.data instanceof Blob?e.data:"inputs"in e?e.inputs:void 0,n=t instanceof Blob?t.type:"image/png",r=hf(new Uint8Array(t instanceof ArrayBuffer?t:await t.arrayBuffer()));return{...ff(e,["inputs","parameters","data"]),...e.parameters,...e,image_url:`data:${n};base64,${r}`,sync_mode:!0}}async getResponse(e,t,n){const r=await this.getResponseFromQueueApi(e,t,n);if("object"===typeof r&&null!==r&&"image"in r&&"object"===typeof r.image&&null!==r.image&&"url"in r.image&&"string"===typeof r.image.url){const e=await fetch(r.image.url);if(!e.ok)throw new af(`Failed to fetch segmentation mask from ${r.image.url}`,{url:r.image.url,method:"GET"},{requestId:e.headers.get("x-request-id")??"",status:e.status,body:await e.text()});const t=await e.blob(),n=await t.arrayBuffer();return[{label:"mask",score:1,mask:hf(new Uint8Array(n))}]}throw new sf(`Received malformed response from Fal.ai image-segmentation API: expected { image: { url: string } } format, got instead: ${JSON.stringify(e)}`)}}},"featherless-ai":{conversational:new class extends uf{constructor(){super("featherless-ai",Nf)}},"text-generation":new class extends df{constructor(){super("featherless-ai",Nf)}preparePayload(e){return{model:e.model,...ff(e.args,["inputs","parameters"]),...e.args.parameters?{max_tokens:e.args.parameters.max_new_tokens,...ff(e.args.parameters,"max_new_tokens")}:void 0,prompt:e.args.inputs}}async getResponse(e){if("object"===typeof e&&"choices"in e&&Array.isArray(e?.choices)&&"string"===typeof e?.model){return{generated_text:e.choices[0].text}}throw new sf("Received malformed response from Featherless AI text generation API")}}},"hf-inference":{"text-to-image":new class extends gf{async getResponse(e,t,n,r){if(!e)throw new sf("Received malformed response from HF-Inference text-to-image API: response is undefined");if("object"==typeof e){if("json"===r)return{...e};if("data"in e&&Array.isArray(e.data)&&e.data[0].b64_json){const t=e.data[0].b64_json;if("url"===r)return`data:image/jpeg;base64,${t}`;const n=await fetch(`data:image/jpeg;base64,${t}`);return await n.blob()}if("output"in e&&Array.isArray(e.output)){if("url"===r)return e.output[0];const t=await fetch(e.output[0]);return await t.blob()}}if(e instanceof Blob){if("url"===r||"json"===r){const t=await e.arrayBuffer().then(e=>Buffer.from(e).toString("base64"));return"url"===r?`data:image/jpeg;base64,${t}`:{output:`data:image/jpeg;base64,${t}`}}return e}throw new sf("Received malformed response from HF-Inference text-to-image API: expected a Blob")}},conversational:new class extends gf{makeUrl(e){let t;return t=e.model.startsWith("http://")||e.model.startsWith("https://")?e.model.trim():`${this.makeBaseUrl(e)}/models/${e.model}`,t=t.replace(/\/+$/,""),t.endsWith("/v1")?t+="/chat/completions":t.endsWith("/chat/completions")||(t+="/v1/chat/completions"),t}preparePayload(e){return{...e.args,model:e.model}}async getResponse(e){return e}},"text-generation":new class extends gf{async getResponse(e){const t=lf(e);if(Array.isArray(t)&&t.every(e=>"generated_text"in e&&"string"===typeof e?.generated_text))return t?.[0];throw new sf("Received malformed response from HF-Inference text generation API: expected Array<{generated_text: string}>")}},"text-classification":new class extends gf{async getResponse(e){const t=e?.[0];if(Array.isArray(t)&&t.every(e=>"string"===typeof e?.label&&"number"===typeof e.score))return t;throw new sf("Received malformed response from HF-Inference text-classification API: expected Array<{label: string, score: number}>")}},"question-answering":new class extends gf{async getResponse(e){if(Array.isArray(e)?e.every(e=>"object"===typeof e&&!!e&&"string"===typeof e.answer&&"number"===typeof e.end&&"number"===typeof e.score&&"number"===typeof e.start):"object"===typeof e&&e&&"string"===typeof e.answer&&"number"===typeof e.end&&"number"===typeof e.score&&"number"===typeof e.start)return Array.isArray(e)?e[0]:e;throw new sf("Received malformed response from HF-Inference question-answering API: expected Array<{answer: string, end: number, score: number, start: number}>")}},"audio-classification":new class extends gf{async getResponse(e){if(Array.isArray(e)&&e.every(e=>"object"===typeof e&&null!==e&&"string"===typeof e.label&&"number"===typeof e.score))return e;throw new sf("Received malformed response from HF-Inference audio-classification API: expected Array<{label: string, score: number}> but received different format")}},"automatic-speech-recognition":new class extends gf{async getResponse(e){return e}async preparePayloadAsync(e){return"data"in e?e:{...ff(e,"inputs"),data:e.inputs}}},"fill-mask":new class extends gf{async getResponse(e){if(Array.isArray(e)&&e.every(e=>"number"===typeof e.score&&"string"===typeof e.sequence&&"number"===typeof e.token&&"string"===typeof e.token_str))return e;throw new sf("Received malformed response from HF-Inference fill-mask API: expected Array<{score: number, sequence: string, token: number, token_str: string}>")}},"feature-extraction":new class extends gf{async getResponse(e){const t=function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return!(r>n)&&(e.every(e=>Array.isArray(e))?e.every(e=>t(e,n,r+1)):e.every(e=>"number"===typeof e))};if(Array.isArray(e)&&t(e,3,0))return e;throw new sf("Received malformed response from HF-Inference feature-extraction API: expected Array<number[][][] | number[][] | number[] | number>")}},"image-classification":new class extends gf{async getResponse(e){if(Array.isArray(e)&&e.every(e=>"string"===typeof e.label&&"number"===typeof e.score))return e;throw new sf("Received malformed response from HF-Inference image-classification API: expected Array<{label: string, score: number}>")}},"image-segmentation":new class extends gf{async getResponse(e){if(Array.isArray(e)&&e.every(e=>"string"===typeof e.label&&"string"===typeof e.mask&&(void 0===e.score||"number"===typeof e.score)))return e;throw new sf("Received malformed response from HF-Inference image-segmentation API: expected Array<{label: string, mask: string, score: number}>")}async preparePayloadAsync(e){return{...e,inputs:hf(new Uint8Array(e.inputs instanceof ArrayBuffer?e.inputs:await e.inputs.arrayBuffer()))}}},"document-question-answering":new class extends gf{async getResponse(e){if(Array.isArray(e)&&e.every(e=>"object"===typeof e&&!!e&&"string"===typeof e?.answer&&("number"===typeof e.end||"undefined"===typeof e.end)&&("number"===typeof e.score||"undefined"===typeof e.score)&&("number"===typeof e.start||"undefined"===typeof e.start)))return e[0];throw new sf("Received malformed response from HF-Inference document-question-answering API: expected Array<{answer: string, end: number, score: number, start: number}>")}},"image-to-text":new class extends gf{async getResponse(e){if("string"!==typeof e?.generated_text)throw new sf("Received malformed response from HF-Inference image-to-text API: expected {generated_text: string}");return e}},"object-detection":new class extends gf{async getResponse(e){if(Array.isArray(e)&&e.every(e=>"string"===typeof e.label&&"number"===typeof e.score&&"number"===typeof e.box.xmin&&"number"===typeof e.box.ymin&&"number"===typeof e.box.xmax&&"number"===typeof e.box.ymax))return e;throw new sf("Received malformed response from HF-Inference object-detection API: expected Array<{label: string, score: number, box: {xmin: number, ymin: number, xmax: number, ymax: number}}>")}},"audio-to-audio":new class extends gf{async getResponse(e){if(!Array.isArray(e))throw new sf("Received malformed response from HF-Inference audio-to-audio API: expected Array");if(!e.every(e=>"object"===typeof e&&e&&"label"in e&&"string"===typeof e.label&&"content-type"in e&&"string"===typeof e["content-type"]&&"blob"in e&&"string"===typeof e.blob))throw new sf("Received malformed response from HF-Inference audio-to-audio API: expected Array<{label: string, audio: Blob}>");return e}},"zero-shot-image-classification":new class extends gf{async getResponse(e){if(Array.isArray(e)&&e.every(e=>"string"===typeof e.label&&"number"===typeof e.score))return e;throw new sf("Received malformed response from HF-Inference zero-shot-image-classification API: expected Array<{label: string, score: number}>")}},"zero-shot-classification":new yf,"image-to-image":new class extends gf{async preparePayloadAsync(e){return e.parameters?{...e,inputs:hf(new Uint8Array(e.inputs instanceof ArrayBuffer?e.inputs:await e.inputs.arrayBuffer()))}:{...e,model:e.model,data:e.inputs}}async getResponse(e){if(e instanceof Blob)return e;throw new sf("Received malformed response from HF-Inference image-to-image API: expected Blob")}},"sentence-similarity":new class extends gf{async getResponse(e){if(Array.isArray(e)&&e.every(e=>"number"===typeof e))return e;throw new sf("Received malformed response from HF-Inference sentence-similarity API: expected Array<number>")}},"table-question-answering":new vf,"tabular-classification":new class extends gf{async getResponse(e){if(Array.isArray(e)&&e.every(e=>"number"===typeof e))return e;throw new sf("Received malformed response from HF-Inference tabular-classification API: expected Array<number>")}},"text-to-speech":new class extends gf{async getResponse(e){return e}},"token-classification":new class extends gf{async getResponse(e){if(Array.isArray(e)&&e.every(e=>"number"===typeof e.end&&"string"===typeof e.entity_group&&"number"===typeof e.score&&"number"===typeof e.start&&"string"===typeof e.word))return e;throw new sf("Received malformed response from HF-Inference token-classification API: expected Array<{end: number, entity_group: string, score: number, start: number, word: string}>")}},translation:new class extends gf{async getResponse(e){if(Array.isArray(e)&&e.every(e=>"string"===typeof e?.translation_text))return 1===e?.length?e?.[0]:e;throw new sf("Received malformed response from HF-Inference translation API: expected Array<{translation_text: string}>")}},summarization:new class extends gf{async getResponse(e){if(Array.isArray(e)&&e.every(e=>"string"===typeof e?.summary_text))return e?.[0];throw new sf("Received malformed response from HF-Inference summarization API: expected Array<{summary_text: string}>")}},"visual-question-answering":new class extends gf{async getResponse(e){if(Array.isArray(e)&&e.every(e=>"object"===typeof e&&!!e&&"string"===typeof e?.answer&&"number"===typeof e.score))return e[0];throw new sf("Received malformed response from HF-Inference visual-question-answering API: expected Array<{answer: string, score: number}>")}},"tabular-regression":new class extends gf{async getResponse(e){if(Array.isArray(e)&&e.every(e=>"number"===typeof e))return e;throw new sf("Received malformed response from HF-Inference tabular-regression API: expected Array<number>")}},"text-to-audio":new class extends gf{async getResponse(e){return e}}},"fireworks-ai":{conversational:new class extends uf{constructor(){super("fireworks-ai","https://api.fireworks.ai")}makeRoute(){return"/inference/v1/chat/completions"}}},groq:{conversational:new class extends uf{constructor(){super("groq",Pf)}makeRoute(){return"/openai/v1/chat/completions"}},"text-generation":new class extends df{constructor(){super("groq",Pf)}makeRoute(){return"/openai/v1/chat/completions"}}},hyperbolic:{"text-to-image":new class extends cf{constructor(){super("hyperbolic",Rf)}makeRoute(e){return"/v1/images/generations"}preparePayload(e){return{...ff(e.args,["inputs","parameters"]),...e.args.parameters,prompt:e.args.inputs,model_name:e.model}}async getResponse(e,t,n,r){if("object"===typeof e&&"images"in e&&Array.isArray(e.images)&&e.images[0]&&"string"===typeof e.images[0].image)return"json"===r?{...e}:"url"===r?`data:image/jpeg;base64,${e.images[0].image}`:fetch(`data:image/jpeg;base64,${e.images[0].image}`).then(e=>e.blob());throw new sf("Received malformed response from Hyperbolic text-to-image API")}},conversational:new class extends uf{constructor(){super("hyperbolic",Rf)}},"text-generation":new class extends df{constructor(){super("hyperbolic",Rf)}makeRoute(){return"v1/chat/completions"}preparePayload(e){return{messages:[{content:e.args.inputs,role:"user"}],...e.args.parameters?{max_tokens:e.args.parameters.max_new_tokens,...ff(e.args.parameters,"max_new_tokens")}:void 0,...ff(e.args,["inputs","parameters"]),model:e.model}}async getResponse(e){if("object"===typeof e&&"choices"in e&&Array.isArray(e?.choices)&&"string"===typeof e?.model){return{generated_text:e.choices[0].message.content}}throw new sf("Received malformed response from Hyperbolic text generation API")}}},nebius:{"text-to-image":new class extends cf{constructor(){super("nebius",Df)}preparePayload(e){return{...ff(e.args,["inputs","parameters"]),...e.args.parameters,response_format:"b64_json",prompt:e.args.inputs,model:e.model}}makeRoute(){return"v1/images/generations"}async getResponse(e,t,n,r){if("object"===typeof e&&"data"in e&&Array.isArray(e.data)&&e.data.length>0&&"b64_json"in e.data[0]&&"string"===typeof e.data[0].b64_json){if("json"===r)return{...e};const t=e.data[0].b64_json;return"url"===r?`data:image/jpeg;base64,${t}`:fetch(`data:image/jpeg;base64,${t}`).then(e=>e.blob())}throw new sf("Received malformed response from Nebius text-to-image API")}},conversational:new class extends uf{constructor(){super("nebius",Df)}preparePayload(e){const t=super.preparePayload(e),n=e.args.response_format;return"json_schema"===n?.type&&n.json_schema?.schema&&(t.guided_json=n.json_schema.schema),t}},"text-generation":new class extends df{constructor(){super("nebius",Df)}preparePayload(e){return{...e.args,model:e.model,prompt:e.args.inputs}}async getResponse(e){if("object"===typeof e&&"choices"in e&&Array.isArray(e?.choices)&&e.choices.length>0&&"string"===typeof e.choices[0]?.text)return{generated_text:e.choices[0].text};throw new sf("Received malformed response from Nebius text generation API")}},"feature-extraction":new class extends cf{constructor(){super("nebius",Df)}preparePayload(e){return{input:e.args.inputs,model:e.model}}makeRoute(){return"v1/embeddings"}async getResponse(e){return e.data.map(e=>e.embedding)}}},novita:{conversational:new class extends uf{constructor(){super("novita",Of)}makeRoute(){return"/v3/openai/chat/completions"}},"text-generation":new class extends df{constructor(){super("novita",Of)}makeRoute(){return"/v3/openai/chat/completions"}},"text-to-video":new class extends cf{constructor(){super("novita",Of)}makeRoute(e){return`/v3/async/${e.model}`}preparePayload(e){const{num_inference_steps:t,...n}=e.args.parameters??{};return{...ff(e.args,["inputs","parameters"]),...n,steps:t,prompt:e.args.inputs}}async getResponse(e,t,n){if(!t||!n)throw new nf("URL and headers are required for text-to-video task");const r=e.task_id;if(!r)throw new sf("Received malformed response from Novita text-to-video API: no task ID found in the response");const i=new URL(t),a=`${`${i.protocol}//${i.host}${"router.huggingface.co"===i.host?"/novita":""}`}/v3/async/task-result?task_id=${r}`;let o,s="";for(;"TASK_STATUS_SUCCEED"!==s&&"TASK_STATUS_FAILED"!==s;){await Sf(500);const e=await fetch(a,{headers:n});if(!e.ok)throw new af("Failed to fetch task result",{url:a,method:"GET",headers:n},{requestId:e.headers.get("x-request-id")??"",status:e.status,body:await e.text()});try{if(o=await e.json(),!(o&&"object"===typeof o&&"task"in o&&o.task&&"object"===typeof o.task&&"status"in o.task&&"string"===typeof o.task.status))throw new sf("Received malformed response from Novita text-to-video API: failed to get task status");s=o.task.status}catch(l){throw new sf("Received malformed response from Novita text-to-video API: failed to parse task result")}}if("TASK_STATUS_FAILED"===s)throw new sf("Novita text-to-video task failed");if("object"===typeof o&&o&&"videos"in o&&"object"===typeof o.videos&&o.videos&&Array.isArray(o.videos)&&o.videos.length>0&&"video_url"in o.videos[0]&&"string"===typeof o.videos[0].video_url&&Tf(o.videos[0].video_url)){const e=await fetch(o.videos[0].video_url);return await e.blob()}throw new sf(`Received malformed response from Novita text-to-video API: expected { videos: [{ video_url: string }] } format, got instead: ${JSON.stringify(o)}`)}}},nscale:{"text-to-image":new class extends cf{constructor(){super("nscale",Lf)}preparePayload(e){return{...ff(e.args,["inputs","parameters"]),...e.args.parameters,response_format:"b64_json",prompt:e.args.inputs,model:e.model}}makeRoute(){return"v1/images/generations"}async getResponse(e,t,n,r){if("object"===typeof e&&"data"in e&&Array.isArray(e.data)&&e.data.length>0&&"b64_json"in e.data[0]&&"string"===typeof e.data[0].b64_json){if("json"===r)return{...e};const t=e.data[0].b64_json;return"url"===r?`data:image/jpeg;base64,${t}`:fetch(`data:image/jpeg;base64,${t}`).then(e=>e.blob())}throw new sf("Received malformed response from Nscale text-to-image API")}},conversational:new class extends uf{constructor(){super("nscale",Lf)}}},openai:{conversational:new class extends uf{constructor(){super("openai","https://api.openai.com",!0)}}},ovhcloud:{conversational:new class extends uf{constructor(){super("ovhcloud",Mf)}},"text-generation":new class extends df{constructor(){super("ovhcloud",Mf)}preparePayload(e){return{model:e.model,...ff(e.args,["inputs","parameters"]),...e.args.parameters?{max_tokens:e.args.parameters.max_new_tokens,...ff(e.args.parameters,"max_new_tokens")}:void 0,prompt:e.args.inputs}}async getResponse(e){if("object"===typeof e&&"choices"in e&&Array.isArray(e?.choices)&&"string"===typeof e?.model){return{generated_text:e.choices[0].text}}throw new sf("Received malformed response from OVHcloud text generation API")}}},replicate:{"text-to-image":new class extends Uf{preparePayload(e){return{input:{...ff(e.args,["inputs","parameters"]),...e.args.parameters,prompt:e.args.inputs,lora_weights:"lora"===e.mapping?.adapter&&e.mapping.adapterWeightsPath?`https://huggingface.co/${e.mapping.hfModelId}`:void 0},version:e.model.includes(":")?e.model.split(":")[1]:void 0}}async getResponse(e,t,n,r){if("object"===typeof e&&"output"in e&&Array.isArray(e.output)&&e.output.length>0&&"string"===typeof e.output[0]){if("json"===r)return{...e};if("url"===r)return e.output[0];const t=await fetch(e.output[0]);return await t.blob()}throw new sf("Received malformed response from Replicate text-to-image API")}},"text-to-speech":new class extends Uf{preparePayload(e){const t=super.preparePayload(e),n=t.input;if("object"===typeof n&&null!==n&&"prompt"in n){const e=n;e.text=e.prompt,delete e.prompt}return t}async getResponse(e){if(e instanceof Blob)return e;if(e&&"object"===typeof e&&"output"in e){if("string"===typeof e.output){const t=await fetch(e.output);return await t.blob()}if(Array.isArray(e.output)){const t=await fetch(e.output[0]);return await t.blob()}}throw new sf("Received malformed response from Replicate text-to-speech API")}},"text-to-video":new class extends Uf{async getResponse(e){if("object"===typeof e&&e&&"output"in e&&"string"===typeof e.output&&Tf(e.output)){const t=await fetch(e.output);return await t.blob()}throw new sf("Received malformed response from Replicate text-to-video API")}},"image-to-image":new class extends Uf{preparePayload(e){return{input:{...ff(e.args,["inputs","parameters"]),...e.args.parameters,input_image:e.args.inputs},version:e.model.includes(":")?e.model.split(":")[1]:void 0}}async preparePayloadAsync(e){const{inputs:t,...n}=e,r=hf(new Uint8Array(await t.arrayBuffer()));return{...n,inputs:`data:${t.type||"image/jpeg"};base64,${r}`}}async getResponse(e){if("object"===typeof e&&e&&"output"in e&&Array.isArray(e.output)&&e.output.length>0&&"string"===typeof e.output[0]){const t=await fetch(e.output[0]);return await t.blob()}if("object"===typeof e&&e&&"output"in e&&"string"===typeof e.output&&Tf(e.output)){const t=await fetch(e.output);return await t.blob()}throw new sf("Received malformed response from Replicate image-to-image API")}}},sambanova:{conversational:new class extends uf{constructor(){super("sambanova","https://api.sambanova.ai")}preparePayload(e){const t=e.args.response_format;"json_schema"===t?.type&&t.json_schema&&(t.json_schema.strict??1)&&(t.json_schema.strict=!1);return super.preparePayload(e)}},"feature-extraction":new class extends cf{constructor(){super("sambanova","https://api.sambanova.ai")}makeRoute(){return"/v1/embeddings"}async getResponse(e){if("object"===typeof e&&"data"in e&&Array.isArray(e.data))return e.data.map(e=>e.embedding);throw new sf("Received malformed response from Sambanova feature-extraction (embeddings) API")}preparePayload(e){return{model:e.model,input:e.args.inputs,...e.args}}}},together:{"text-to-image":new class extends cf{constructor(){super("together",jf)}makeRoute(){return"v1/images/generations"}preparePayload(e){return{...ff(e.args,["inputs","parameters"]),...e.args.parameters,prompt:e.args.inputs,response_format:"base64",model:e.model}}async getResponse(e,t,n,r){if("object"===typeof e&&"data"in e&&Array.isArray(e.data)&&e.data.length>0&&"b64_json"in e.data[0]&&"string"===typeof e.data[0].b64_json){if("json"===r)return{...e};const t=e.data[0].b64_json;return"url"===r?`data:image/jpeg;base64,${t}`:fetch(`data:image/jpeg;base64,${t}`).then(e=>e.blob())}throw new sf("Received malformed response from Together text-to-image API")}},conversational:new class extends uf{constructor(){super("together",jf)}preparePayload(e){const t=super.preparePayload(e),n=t.response_format;return"json_schema"===n?.type&&n?.json_schema?.schema&&(t.response_format={type:"json_schema",schema:n.json_schema.schema}),t}},"text-generation":new class extends df{constructor(){super("together",jf)}preparePayload(e){return{model:e.model,...e.args,prompt:e.args.inputs}}async getResponse(e){if("object"===typeof e&&"choices"in e&&Array.isArray(e?.choices)&&"string"===typeof e?.model){return{generated_text:e.choices[0].text}}throw new sf("Received malformed response from Together text generation API")}}}};function Vf(e,t){if("hf-inference"===e&&!t||"auto"===e)return new gf;if(!t)throw new nf("you need to provide a task name when using an external provider, e.g. 'text-to-image'");if(!(e in Ff))throw new nf(`Provider '${e}' not supported. Available providers: ${Object.keys(Ff)}`);const n=Ff[e];if(!n||!(t in n))throw new nf(`Task '${t}' not supported for provider '${e}'. Available tasks: ${Object.keys(n??{})}`);return n[t]}const $f="4.5.3",zf="@huggingface/inference";let qf=null;async function Bf(e,t,n){const{model:r}=e,i=t.provider,{task:a}=n??{};if(e.endpointUrl&&"hf-inference"!==i)throw new nf("Cannot use endpointUrl with a third-party provider.");if(r&&Tf(r))throw new nf("Model URLs are no longer supported. Use endpointUrl instead.");if(e.endpointUrl)return Hf(r??e.endpointUrl,t,e,void 0,n);if(!r&&!a)throw new nf("No model provided, and no task has been specified.");const o=r??await async function(e){qf||(qf=await async function(){const e=`${Xp}/api/tasks`,t=await fetch(e);if(!t.ok)throw new of("Failed to load tasks definitions from Hugging Face Hub.",{url:e,method:"GET"},{requestId:t.headers.get("x-request-id")??"",status:t.status,body:await t.text()});return await t.json()}());const t=qf[e];if((t?.models.length??0)<=0)throw new nf(`No default model defined for task ${e}, please define the model explicitly.`);return t.models[0].id}(a);if(t.clientSideRoutingOnly&&!r)throw new nf(`Provider ${i} requires a model ID to be passed directly.`);const s=t.clientSideRoutingOnly?{provider:i,providerId:Qf(r,i),hfModelId:r,status:"live",task:a}:await async function(e,t){const n=wf();if(ef[e.provider][e.modelId])return ef[e.provider][e.modelId];const r=(await kf(e.modelId,e.accessToken,t)).find(t=>t.provider===e.provider);if(r){const t="hf-inference"===e.provider&&pf(mf,e.task)?mf:[e.task];if(!pf(t,r.task))throw new nf(`Model ${e.modelId} is not supported for task ${e.task} and provider ${e.provider}. Supported task: ${r.task}.`);return"staging"===r.status&&n.warn(`Model ${e.modelId} is in staging mode for provider ${e.provider}. Meant for test purposes only.`),r}return null}({modelId:o,task:a,provider:i,accessToken:e.accessToken},{fetch:n?.fetch});if(!s)throw new nf(`We have not been able to find inference provider information for model ${o}.`);return Hf(s.providerId,t,e,s,n)}function Hf(e,t,n,r,i){const{accessToken:a,endpointUrl:o,provider:s,model:l,...c}=n,u=t.provider,{includeCredentials:d,task:h,signal:p,billTo:f}=i??{},m=(()=>{if(t.clientSideRoutingOnly&&a&&a.startsWith("hf_"))throw new nf(`Provider ${u} is closed-source and does not support HF tokens.`);return a?a.startsWith("hf_")?"hf-token":"provider-key":"include"===d?"credentials-include":"none"})(),g=o??e,y=t.makeUrl({authMethod:m,model:g,task:h}),v=t.prepareHeaders({accessToken:a,authMethod:m},"data"in n&&!!n.data);f&&(v[Zp]=f);const b=[`${zf}/${$f}`,"undefined"!==typeof navigator?navigator.userAgent:void 0].filter(e=>void 0!==e).join(" ");v["User-Agent"]=b;const w=t.makeBody({args:c,model:e,task:h,mapping:r});let _;"string"===typeof d?_=d:!0===d&&(_="include");return{url:y,info:{headers:v,method:"POST",body:w,..._?{credentials:_}:void 0,signal:p}}}function Qf(e,t){if(!e.startsWith(`${t}/`))throw new nf(`Models from ${t} must be prefixed by "${t}/". Got "${e}".`);return e.slice(t.length+1)}function Wf(e){let t,n,r,i=!1;return function(a){void 0===t?(t=a,n=0,r=-1):t=function(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}(t,a);const o=t.length;let s=0;for(;n<o;){i&&(10===t[n]&&(s=++n),i=!1);let a=-1;for(;n<o&&-1===a;++n)switch(t[n]){case 58:-1===r&&(r=n-s);break;case 13:i=!0;case 10:a=n}if(-1===a)break;e(t.subarray(s,a),r),s=n,r=-1}s===o?t=void 0:0!==s&&(t=t.subarray(s),n-=s)}}function Gf(e){let t=null;if(e instanceof Blob||e instanceof ArrayBuffer)t="[Blob or ArrayBuffer]";else if("string"===typeof e)try{t=JSON.parse(e)}catch{t=e}return t.accessToken&&(t.accessToken="[REDACTED]"),t}async function Kf(e,t,n){const{url:r,info:i}=await Bf(e,t,n),a=await(n?.fetch??fetch)(r,i),o={url:r,info:i};if(!1!==n?.retry_on_error&&503===a.status)return Kf(e,t,n);if(!a.ok){const t=a.headers.get("Content-Type");if(["application/json","application/problem+json"].some(e=>t?.startsWith(e))){const t=await a.json();if([400,422,404,500].includes(a.status)&&n?.chatCompletion)throw new af(`Provider ${e.provider} does not seem to support chat completion for model ${e.model} . Error: ${JSON.stringify(t.error)}`,{url:r,method:i.method??"GET",headers:i.headers,body:Gf(i.body)},{requestId:a.headers.get("x-request-id")??"",status:a.status,body:t});throw"string"===typeof t.error||"string"===typeof t.detail||"string"===typeof t.message?new af(`Failed to perform inference: ${t.error??t.detail??t.message}`,{url:r,method:i.method??"GET",headers:i.headers,body:Gf(i.body)},{requestId:a.headers.get("x-request-id")??"",status:a.status,body:t}):new af("Failed to perform inference: an HTTP error occurred when requesting the provider.",{url:r,method:i.method??"GET",headers:i.headers,body:Gf(i.body)},{requestId:a.headers.get("x-request-id")??"",status:a.status,body:t})}const o=t?.startsWith("text/plain;")?await a.text():void 0;throw new af(`Failed to perform inference: ${o??"an HTTP error occurred when requesting the provider"}`,{url:r,method:i.method??"GET",headers:i.headers,body:Gf(i.body)},{requestId:a.headers.get("x-request-id")??"",status:a.status,body:o??""})}if(a.headers.get("Content-Type")?.startsWith("application/json")){return{data:await a.json(),requestContext:o}}return{data:await a.blob(),requestContext:o}}async function*Xf(e,t,n){const{url:r,info:i}=await Bf({...e,stream:!0},t,n),a=await(n?.fetch??fetch)(r,i);if(!1!==n?.retry_on_error&&503===a.status)return yield*Xf(e,t,n);if(!a.ok){if(a.headers.get("Content-Type")?.startsWith("application/json")){const t=await a.json();if([400,422,404,500].includes(a.status)&&n?.chatCompletion)throw new af(`Provider ${e.provider} does not seem to support chat completion for model ${e.model} . Error: ${JSON.stringify(t.error)}`,{url:r,method:i.method??"GET",headers:i.headers,body:Gf(i.body)},{requestId:a.headers.get("x-request-id")??"",status:a.status,body:t});if("string"===typeof t.error)throw new af(`Failed to perform inference: ${t.error}`,{url:r,method:i.method??"GET",headers:i.headers,body:Gf(i.body)},{requestId:a.headers.get("x-request-id")??"",status:a.status,body:t});if(t.error&&"message"in t.error&&"string"===typeof t.error.message)throw new af(`Failed to perform inference: ${t.error.message}`,{url:r,method:i.method??"GET",headers:i.headers,body:Gf(i.body)},{requestId:a.headers.get("x-request-id")??"",status:a.status,body:t});if("string"===typeof t.message)throw new af(`Failed to perform inference: ${t.message}`,{url:r,method:i.method??"GET",headers:i.headers,body:Gf(i.body)},{requestId:a.headers.get("x-request-id")??"",status:a.status,body:t})}throw new af("Failed to perform inference: an HTTP error occurred when requesting the provider.",{url:r,method:i.method??"GET",headers:i.headers,body:Gf(i.body)},{requestId:a.headers.get("x-request-id")??"",status:a.status,body:""})}if(!a.headers.get("content-type")?.startsWith("text/event-stream"))throw new af("Failed to perform inference: server does not support event stream content type, it returned "+a.headers.get("content-type"),{url:r,method:i.method??"GET",headers:i.headers,body:Gf(i.body)},{requestId:a.headers.get("x-request-id")??"",status:a.status,body:""});if(!a.body)return;const o=a.body.getReader();let s=[];const l=Wf(function(e,t,n){let r={data:"",event:"",id:"",retry:void 0};const i=new TextDecoder;return function(a,o){if(0===a.length)n?.(r),r={data:"",event:"",id:"",retry:void 0};else if(o>0){const n=i.decode(a.subarray(0,o)),s=o+(32===a[o+1]?2:1),l=i.decode(a.subarray(s));switch(n){case"data":r.data=r.data?r.data+"\n"+l:l;break;case"event":r.event=l;break;case"id":e(r.id=l);break;case"retry":{const e=parseInt(l,10);isNaN(e)||t(r.retry=e);break}}}}}(()=>{},()=>{},e=>{s.push(e)}));try{for(;;){const{done:e,value:t}=await o.read();if(e)return;l(t);for(const n of s)if(n.data.length>0){if("[DONE]"===n.data)return;const e=JSON.parse(n.data);if("object"===typeof e&&null!==e&&"error"in e){const t="string"===typeof e.error?e.error:"object"===typeof e.error&&e.error&&"message"in e.error&&"string"===typeof e.error.message?e.error.message:JSON.stringify(e.error);throw new af(`Failed to perform inference: an occurred while streaming the response: ${t}`,{url:r,method:i.method??"GET",headers:i.headers,body:Gf(i.body)},{requestId:a.headers.get("x-request-id")??"",status:a.status,body:e})}yield e}s=[]}}finally{o.releaseLock()}}async function Jf(e,t){wf().warn("The request method is deprecated and will be removed in a future version of huggingface.js. Use specific task functions instead.");const n=Vf(await xf(e.provider,e.model,e.endpointUrl),t?.task);return(await Kf(e,n,t)).data}async function*Yf(e,t){wf().warn("The streamingRequest method is deprecated and will be removed in a future version of huggingface.js. Use specific task functions instead.");const n=Vf(await xf(e.provider,e.model,e.endpointUrl),t?.task);yield*Xf(e,n,t)}function Zf(e){return"data"in e?e:{...ff(e,"inputs"),data:e.inputs}}async function em(e,t){const n=Vf(await xf(e.provider,e.model,e.endpointUrl),"audio-classification"),r=Zf(e),{data:i}=await Kf(r,n,{...t,task:"audio-classification"});return n.getResponse(i)}async function tm(e,t){const n="inputs"in e?e.model:void 0,r=Vf(await xf(e.provider,n),"audio-to-audio"),i=Zf(e),{data:a}=await Kf(i,r,{...t,task:"audio-to-audio"});return r.getResponse(a)}async function nm(e,t){const n=Vf(await xf(e.provider,e.model,e.endpointUrl),"automatic-speech-recognition"),r=await n.preparePayloadAsync(e),{data:i}=await Kf(r,n,{...t,task:"automatic-speech-recognition"});if(!("string"===typeof i?.text))throw new sf("Received malformed response from automatic-speech-recognition API");return n.getResponse(i)}async function rm(e,t){const n=Vf(await xf(e.provider,e.model,e.endpointUrl),"text-to-speech"),{data:r}=await Kf(e,n,{...t,task:"text-to-speech"});return n.getResponse(r)}function im(e){return"data"in e?e:{...ff(e,"inputs"),data:e.inputs}}async function am(e,t){const n=Vf(await xf(e.provider,e.model,e.endpointUrl),"image-classification"),r=im(e),{data:i}=await Kf(r,n,{...t,task:"image-classification"});return n.getResponse(i)}async function om(e,t){const n=Vf(await xf(e.provider,e.model,e.endpointUrl),"image-segmentation"),r=await n.preparePayloadAsync(e),{data:i}=await Kf(r,n,{...t,task:"image-segmentation"}),{url:a,info:o}=await Bf(e,n,{...t,task:"image-segmentation"});return n.getResponse(i,a,o.headers)}async function sm(e,t){const n=Vf(await xf(e.provider,e.model,e.endpointUrl),"image-to-image"),r=await n.preparePayloadAsync(e),{data:i}=await Kf(r,n,{...t,task:"image-to-image"}),{url:a,info:o}=await Bf(e,n,{...t,task:"image-to-image"});return n.getResponse(i,a,o.headers)}async function lm(e,t){const n=Vf(await xf(e.provider,e.model,e.endpointUrl),"image-to-text"),r=im(e),{data:i}=await Kf(r,n,{...t,task:"image-to-text"});return n.getResponse(i[0])}async function cm(e,t){const n=Vf(await xf(e.provider,e.model,e.endpointUrl),"image-to-video"),r=await n.preparePayloadAsync(e),{data:i}=await Kf(r,n,{...t,task:"image-to-video"}),{url:a,info:o}=await Bf(e,n,{...t,task:"image-to-video"});return n.getResponse(i,a,o.headers)}async function um(e,t){const n=Vf(await xf(e.provider,e.model,e.endpointUrl),"object-detection"),r=im(e),{data:i}=await Kf(r,n,{...t,task:"object-detection"});return n.getResponse(i)}async function dm(e,t){const n=Vf(await xf(e.provider,e.model,e.endpointUrl),"text-to-image"),{data:r}=await Kf(e,n,{...t,task:"text-to-image"}),{url:i,info:a}=await Bf(e,n,{...t,task:"text-to-image"});return n.getResponse(r,i,a.headers,t?.outputType)}async function hm(e,t){const n=Vf(await xf(e.provider,e.model,e.endpointUrl),"text-to-video"),{data:r}=await Kf(e,n,{...t,task:"text-to-video"}),{url:i,info:a}=await Bf(e,n,{...t,task:"text-to-video"});return n.getResponse(r,i,a.headers)}async function pm(e,t){const n=Vf(await xf(e.provider,e.model,e.endpointUrl),"zero-shot-image-classification"),r=await async function(e){return e.inputs instanceof Blob?{...e,inputs:{image:hf(new Uint8Array(await e.inputs.arrayBuffer()))}}:{...e,inputs:{image:hf(new Uint8Array(e.inputs.image instanceof ArrayBuffer?e.inputs.image:await e.inputs.image.arrayBuffer()))}}}(e),{data:i}=await Kf(r,n,{...t,task:"zero-shot-image-classification"});return n.getResponse(i)}async function fm(e,t){const n=Vf(await xf(e.provider,e.model,e.endpointUrl),"conversational"),{data:r}=await Kf(e,n,{...t,task:"conversational"});return n.getResponse(r)}async function*mm(e,t){const n=Vf(await xf(e.provider,e.model,e.endpointUrl),"conversational");yield*Xf(e,n,{...t,task:"conversational"})}async function gm(e,t){const n=Vf(await xf(e.provider,e.model,e.endpointUrl),"feature-extraction"),{data:r}=await Kf(e,n,{...t,task:"feature-extraction"});return n.getResponse(r)}async function ym(e,t){const n=Vf(await xf(e.provider,e.model,e.endpointUrl),"fill-mask"),{data:r}=await Kf(e,n,{...t,task:"fill-mask"});return n.getResponse(r)}async function vm(e,t){const n=Vf(await xf(e.provider,e.model,e.endpointUrl),"question-answering"),{data:r}=await Kf(e,n,{...t,task:"question-answering"});return n.getResponse(r)}async function bm(e,t){const n=Vf(await xf(e.provider,e.model,e.endpointUrl),"sentence-similarity"),{data:r}=await Kf(e,n,{...t,task:"sentence-similarity"});return n.getResponse(r)}async function wm(e,t){const n=Vf(await xf(e.provider,e.model,e.endpointUrl),"summarization"),{data:r}=await Kf(e,n,{...t,task:"summarization"});return n.getResponse(r)}async function _m(e,t){const n=Vf(await xf(e.provider,e.model,e.endpointUrl),"table-question-answering"),{data:r}=await Kf(e,n,{...t,task:"table-question-answering"});return n.getResponse(r)}async function km(e,t){const n=Vf(await xf(e.provider,e.model,e.endpointUrl),"text-classification"),{data:r}=await Kf(e,n,{...t,task:"text-classification"});return n.getResponse(r)}async function xm(e,t){const n=Vf(await xf(e.provider,e.model,e.endpointUrl),"text-generation"),{data:r}=await Kf(e,n,{...t,task:"text-generation"});return n.getResponse(r)}async function*Sm(e,t){const n=Vf(await xf(e.provider,e.model,e.endpointUrl),"text-generation");yield*Xf(e,n,{...t,task:"text-generation"})}async function Tm(e,t){const n=Vf(await xf(e.provider,e.model,e.endpointUrl),"token-classification"),{data:r}=await Kf(e,n,{...t,task:"token-classification"});return n.getResponse(r)}async function Im(e,t){const n=Vf(await xf(e.provider,e.model,e.endpointUrl),"translation"),{data:r}=await Kf(e,n,{...t,task:"translation"});return n.getResponse(r)}async function Em(e,t){const n=Vf(await xf(e.provider,e.model,e.endpointUrl),"zero-shot-classification"),{data:r}=await Kf(e,n,{...t,task:"zero-shot-classification"});return n.getResponse(r)}async function Am(e,t){const n=Vf(await xf(e.provider,e.model,e.endpointUrl),"document-question-answering"),r={...e,inputs:{question:e.inputs.question,image:hf(new Uint8Array(await e.inputs.image.arrayBuffer()))}},{data:i}=await Kf(r,n,{...t,task:"document-question-answering"});return n.getResponse(i)}async function Cm(e,t){const n=Vf(await xf(e.provider,e.model,e.endpointUrl),"visual-question-answering"),r={...e,inputs:{question:e.inputs.question,image:hf(new Uint8Array(await e.inputs.image.arrayBuffer()))}},{data:i}=await Kf(r,n,{...t,task:"visual-question-answering"});return n.getResponse(i)}async function Nm(e,t){const n=Vf(await xf(e.provider,e.model,e.endpointUrl),"tabular-classification"),{data:r}=await Kf(e,n,{...t,task:"tabular-classification"});return n.getResponse(r)}async function Pm(e,t){const n=Vf(await xf(e.provider,e.model,e.endpointUrl),"tabular-regression"),{data:r}=await Kf(e,n,{...t,task:"tabular-regression"});return n.getResponse(r)}class Rm{accessToken;defaultOptions;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.accessToken=e,this.defaultOptions=t;for(const[i,a]of(n=r,Object.entries(n)))Object.defineProperty(this,i,{enumerable:!1,value:(n,r)=>a({endpointUrl:t.endpointUrl,accessToken:e,...n},{...ff(t,["endpointUrl"]),...r})});var n}endpoint(e){return new Rm(this.accessToken,{...this.defaultOptions,endpointUrl:e})}}class Dm extends Rm{}var Om=Object.freeze({Text:"Text",NumericLiteral:"NumericLiteral",StringLiteral:"StringLiteral",Identifier:"Identifier",Equals:"Equals",OpenParen:"OpenParen",CloseParen:"CloseParen",OpenStatement:"OpenStatement",CloseStatement:"CloseStatement",OpenExpression:"OpenExpression",CloseExpression:"CloseExpression",OpenSquareBracket:"OpenSquareBracket",CloseSquareBracket:"CloseSquareBracket",OpenCurlyBracket:"OpenCurlyBracket",CloseCurlyBracket:"CloseCurlyBracket",Comma:"Comma",Dot:"Dot",Colon:"Colon",Pipe:"Pipe",CallOperator:"CallOperator",AdditiveBinaryOperator:"AdditiveBinaryOperator",MultiplicativeBinaryOperator:"MultiplicativeBinaryOperator",ComparisonBinaryOperator:"ComparisonBinaryOperator",UnaryOperator:"UnaryOperator",Comment:"Comment"}),Lm=class{constructor(e,t){this.value=e,this.type=t}};function Mm(e){return/\w/.test(e)}function Um(e){return/[0-9]/.test(e)}var jm=[["{%",Om.OpenStatement],["%}",Om.CloseStatement],["{{",Om.OpenExpression],["}}",Om.CloseExpression],["(",Om.OpenParen],[")",Om.CloseParen],["{",Om.OpenCurlyBracket],["}",Om.CloseCurlyBracket],["[",Om.OpenSquareBracket],["]",Om.CloseSquareBracket],[",",Om.Comma],[".",Om.Dot],[":",Om.Colon],["|",Om.Pipe],["<=",Om.ComparisonBinaryOperator],[">=",Om.ComparisonBinaryOperator],["==",Om.ComparisonBinaryOperator],["!=",Om.ComparisonBinaryOperator],["<",Om.ComparisonBinaryOperator],[">",Om.ComparisonBinaryOperator],["+",Om.AdditiveBinaryOperator],["-",Om.AdditiveBinaryOperator],["~",Om.AdditiveBinaryOperator],["*",Om.MultiplicativeBinaryOperator],["/",Om.MultiplicativeBinaryOperator],["%",Om.MultiplicativeBinaryOperator],["=",Om.Equals]],Fm=new Map([["n","\n"],["t","\t"],["r","\r"],["b","\b"],["f","\f"],["v","\v"],["'","'"],['"','"'],["\\","\\"]]);var Vm=class{type="Statement"},$m=class extends Vm{constructor(e){super(),this.body=e}type="Program"},zm=class extends Vm{constructor(e,t,n){super(),this.test=e,this.body=t,this.alternate=n}type="If"},qm=class extends Vm{constructor(e,t,n,r){super(),this.loopvar=e,this.iterable=t,this.body=n,this.defaultBlock=r}type="For"},Bm=class extends Vm{type="Break"},Hm=class extends Vm{type="Continue"},Qm=class extends Vm{constructor(e,t,n){super(),this.assignee=e,this.value=t,this.body=n}type="Set"},Wm=class extends Vm{constructor(e,t,n){super(),this.name=e,this.args=t,this.body=n}type="Macro"},Gm=class extends Vm{constructor(e){super(),this.value=e}type="Comment"},Km=class extends Vm{type="Expression"},Xm=class extends Km{constructor(e,t,n){super(),this.object=e,this.property=t,this.computed=n}type="MemberExpression"},Jm=class extends Km{constructor(e,t){super(),this.callee=e,this.args=t}type="CallExpression"},Ym=class extends Km{constructor(e){super(),this.value=e}type="Identifier"},Zm=class extends Km{constructor(e){super(),this.value=e}type="Literal"},eg=class extends Zm{type="IntegerLiteral"},tg=class extends Zm{type="FloatLiteral"},ng=class extends Zm{type="StringLiteral"},rg=class extends Zm{type="ArrayLiteral"},ig=class extends Zm{type="TupleLiteral"},ag=class extends Zm{type="ObjectLiteral"},og=class extends Km{constructor(e,t,n){super(),this.operator=e,this.left=t,this.right=n}type="BinaryExpression"},sg=class extends Km{constructor(e,t){super(),this.operand=e,this.filter=t}type="FilterExpression"},lg=class extends Vm{constructor(e,t){super(),this.filter=e,this.body=t}type="FilterStatement"},cg=class extends Km{constructor(e,t){super(),this.lhs=e,this.test=t}type="SelectExpression"},ug=class extends Km{constructor(e,t,n){super(),this.operand=e,this.negate=t,this.test=n}type="TestExpression"},dg=class extends Km{constructor(e,t){super(),this.operator=e,this.argument=t}type="UnaryExpression"},hg=class extends Km{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;super(),this.start=e,this.stop=t,this.step=n}type="SliceExpression"},pg=class extends Km{constructor(e,t){super(),this.key=e,this.value=t}type="KeywordArgumentExpression"},fg=class extends Km{constructor(e){super(),this.argument=e}type="SpreadExpression"},mg=class extends Vm{constructor(e,t,n){super(),this.call=e,this.callerArgs=t,this.body=n}type="CallStatement"},gg=class extends Km{constructor(e,t,n){super(),this.condition=e,this.trueExpr=t,this.falseExpr=n}type="Ternary"};function yg(e){const t=new $m([]);let n=0;function r(t,r){const i=e[n++];if(!i||i.type!==t)throw new Error(`Parser Error: ${r}. ${i.type} !== ${t}.`);return i}function i(e){if(!l(e))throw new SyntaxError(`Expected ${e}`);++n}function a(){switch(e[n].type){case Om.Comment:return new Gm(e[n++].value);case Om.Text:return new ng(r(Om.Text,"Expected text token").value);case Om.OpenStatement:return function(){if(r(Om.OpenStatement,"Expected opening statement token"),e[n].type!==Om.Identifier)throw new SyntaxError(`Unknown statement, got ${e[n].type}`);const t=e[n].value;let h;switch(t){case"set":++n,h=function(){const e=u();let t=null;const l=[];if(o(Om.Equals))++n,t=u();else{for(r(Om.CloseStatement,"Expected %} token");!s("endset");)l.push(a());r(Om.OpenStatement,"Expected {% token"),i("endset")}return r(Om.CloseStatement,"Expected closing statement token"),new Qm(e,t,l)}();break;case"if":++n,h=c(),r(Om.OpenStatement,"Expected {% token"),i("endif"),r(Om.CloseStatement,"Expected %} token");break;case"macro":++n,h=function(){const e=x();if("Identifier"!==e.type)throw new SyntaxError("Expected identifier following macro statement");const t=v();r(Om.CloseStatement,"Expected closing statement token");const n=[];for(;!s("endmacro");)n.push(a());return new Wm(e,t,n)}(),r(Om.OpenStatement,"Expected {% token"),i("endmacro"),r(Om.CloseStatement,"Expected %} token");break;case"for":++n,h=function(){const e=u(!0);if(!(e instanceof Ym||e instanceof ig))throw new SyntaxError(`Expected identifier/tuple for the loop variable, got ${e.type} instead`);if(!l("in"))throw new SyntaxError("Expected `in` keyword following loop variable");++n;const t=d();r(Om.CloseStatement,"Expected closing statement token");const i=[];for(;!s("endfor","else");)i.push(a());const o=[];if(s("else"))for(++n,++n,r(Om.CloseStatement,"Expected closing statement token");!s("endfor");)o.push(a());return new qm(e,t,i,o)}(),r(Om.OpenStatement,"Expected {% token"),i("endfor"),r(Om.CloseStatement,"Expected %} token");break;case"call":{++n;let e=null;o(Om.OpenParen)&&(e=v());const t=x();if("Identifier"!==t.type)throw new SyntaxError("Expected identifier following call statement");const l=v();r(Om.CloseStatement,"Expected closing statement token");const c=[];for(;!s("endcall");)c.push(a());r(Om.OpenStatement,"Expected '{%'"),i("endcall"),r(Om.CloseStatement,"Expected closing statement token");const u=new Jm(t,l);h=new mg(u,e,c);break}case"break":++n,r(Om.CloseStatement,"Expected closing statement token"),h=new Bm;break;case"continue":++n,r(Om.CloseStatement,"Expected closing statement token"),h=new Hm;break;case"filter":{++n;let e=x();e instanceof Ym&&o(Om.OpenParen)&&(e=y(e)),r(Om.CloseStatement,"Expected closing statement token");const t=[];for(;!s("endfilter");)t.push(a());r(Om.OpenStatement,"Expected '{%'"),i("endfilter"),r(Om.CloseStatement,"Expected '%}'"),h=new lg(e,t);break}default:throw new SyntaxError(`Unknown statement type: ${t}`)}return h}();case Om.OpenExpression:return function(){r(Om.OpenExpression,"Expected opening expression token");const e=d();return r(Om.CloseExpression,"Expected closing expression token"),e}();default:throw new SyntaxError(`Unexpected token type: ${e[n].type}`)}}function o(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n+r.length<=e.length&&r.every((t,r)=>t===e[n+r].type)}function s(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e[n]?.type===Om.OpenStatement&&e[n+1]?.type===Om.Identifier&&r.includes(e[n+1]?.value)}function l(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n+r.length<=e.length&&r.every((t,r)=>"Identifier"===e[n+r].type&&t===e[n+r].value)}function c(){const e=d();r(Om.CloseStatement,"Expected closing statement token");const t=[],i=[];for(;!s("elif","else","endif");)t.push(a());if(s("elif")){++n,++n;const e=c();i.push(e)}else if(s("else"))for(++n,++n,r(Om.CloseStatement,"Expected closing statement token");!s("endif");)i.push(a());return new zm(e,t,i)}function u(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?x:d,t=[e()],r=o(Om.Comma);for(;r&&(++n,t.push(e()),o(Om.Comma)););return r?new ig(t):t[0]}function d(){return h()}function h(){const e=p();if(l("if")){++n;const t=p();if(l("else")){++n;const r=h();return new gg(t,e,r)}return new cg(e,t)}return e}function p(){let t=f();for(;l("or");){const r=e[n];++n;const i=f();t=new og(r,t,i)}return t}function f(){let t=m();for(;l("and");){const r=e[n];++n;const i=m();t=new og(r,t,i)}return t}function m(){let t;for(;l("not");){const r=e[n];++n;const i=m();t=new dg(r,i)}return t??function(){let t=g();for(;;){let r;if(l("not","in"))r=new Lm("not in",Om.Identifier),n+=2;else if(l("in"))r=e[n++];else{if(!o(Om.ComparisonBinaryOperator))break;r=e[n++]}const i=g();t=new og(r,t,i)}return t}()}function g(){let t=_();for(;o(Om.AdditiveBinaryOperator);){const r=e[n];++n;const i=_();t=new og(r,t,i)}return t}function y(e){let t=new Jm(e,v());return t=w(t),o(Om.OpenParen)&&(t=y(t)),t}function v(){r(Om.OpenParen,"Expected opening parenthesis for arguments list");const t=function(){const t=[];for(;!o(Om.CloseParen);){let r;if(e[n].type===Om.MultiplicativeBinaryOperator&&"*"===e[n].value){++n;const e=d();r=new fg(e)}else if(r=d(),o(Om.Equals)){if(++n,!(r instanceof Ym))throw new SyntaxError("Expected identifier for keyword argument");const e=d();r=new pg(r,e)}t.push(r),o(Om.Comma)&&++n}return t}();return r(Om.CloseParen,"Expected closing parenthesis for arguments list"),t}function b(){const e=[];let t=!1;for(;!o(Om.CloseSquareBracket);)o(Om.Colon)?(e.push(void 0),++n,t=!0):(e.push(d()),o(Om.Colon)&&(++n,t=!0));if(0===e.length)throw new SyntaxError("Expected at least one argument for member/slice expression");if(t){if(e.length>3)throw new SyntaxError("Expected 0-3 arguments for slice expression");return new hg(...e)}return e[0]}function w(t){for(;o(Om.Dot)||o(Om.OpenSquareBracket);){const i=e[n];let a;++n;const o=i.type===Om.OpenSquareBracket;if(o)a=b(),r(Om.CloseSquareBracket,"Expected closing square bracket");else if(a=x(),"Identifier"!==a.type)throw new SyntaxError("Expected identifier following dot operator");t=new Xm(t,a,o)}return t}function _(){let t=k();for(;o(Om.MultiplicativeBinaryOperator);){const r=e[n++],i=k();t=new og(r,t,i)}return t}function k(){let e=function(){let e=function(){const e=w(x());return o(Om.OpenParen)?y(e):e}();for(;o(Om.Pipe);){++n;let t=x();if(!(t instanceof Ym))throw new SyntaxError("Expected identifier for the filter");o(Om.OpenParen)&&(t=y(t)),e=new sg(e,t)}return e}();for(;l("is");){++n;const t=l("not");t&&++n;const r=x();if(!(r instanceof Ym))throw new SyntaxError("Expected identifier for the test");e=new ug(e,t,r)}return e}function x(){const t=e[n++];switch(t.type){case Om.NumericLiteral:{const e=t.value;return e.includes(".")?new tg(Number(e)):new eg(Number(e))}case Om.StringLiteral:{let r=t.value;for(;o(Om.StringLiteral);)r+=e[n++].value;return new ng(r)}case Om.Identifier:return new Ym(t.value);case Om.OpenParen:{const e=u();return r(Om.CloseParen,"Expected closing parenthesis, got ${tokens[current].type} instead."),e}case Om.OpenSquareBracket:{const e=[];for(;!o(Om.CloseSquareBracket);)e.push(d()),o(Om.Comma)&&++n;return++n,new rg(e)}case Om.OpenCurlyBracket:{const e=new Map;for(;!o(Om.CloseCurlyBracket);){const t=d();r(Om.Colon,"Expected colon between key and value in object literal");const i=d();e.set(t,i),o(Om.Comma)&&++n}return++n,new ag(e)}default:throw new SyntaxError(`Unexpected token: ${t.type}`)}}for(;n<e.length;)t.body.push(a());return t}function vg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;void 0===t&&(t=e,e=0);const r=[];for(let i=e;i<t;i+=n)r.push(i);return r}function bg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const i=Math.sign(r);i>=0?(t=(t??=0)<0?Math.max(e.length+t,0):Math.min(t,e.length),n=(n??=e.length)<0?Math.max(e.length+n,0):Math.min(n,e.length)):(t=(t??=e.length-1)<0?Math.max(e.length+t,-1):Math.min(t,e.length-1),n=(n??=-1)<-1?Math.max(e.length+n,-1):Math.min(n,e.length-1));const a=[];for(let o=t;i*o<i*n;o+=r)a.push(e[o]);return a}function wg(e){return function(e,t){const n=new Intl.DateTimeFormat(void 0,{month:"long"}),r=new Intl.DateTimeFormat(void 0,{month:"short"}),i=e=>e<10?"0"+e:e.toString();return t.replace(/%[YmdbBHM%]/g,t=>{switch(t){case"%Y":return e.getFullYear().toString();case"%m":return i(e.getMonth()+1);case"%d":return i(e.getDate());case"%b":return r.format(e);case"%B":return n.format(e);case"%H":return i(e.getHours());case"%M":return i(e.getMinutes());case"%%":return"%";default:return t}})}(new Date,e)}var _g=class extends Error{},kg=class extends Error{},xg=class{type="RuntimeValue";value;builtins=(()=>new Map)();constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.value=e}__bool__(){return new Eg(!!this.value)}toString(){return String(this.value)}},Sg=class extends xg{type="IntegerValue"},Tg=class extends xg{type="FloatValue";toString(){return this.value%1===0?this.value.toFixed(1):this.value.toString()}},Ig=class extends xg{type="StringValue";builtins=(()=>new Map([["upper",new Rg(()=>new Ig(this.value.toUpperCase()))],["lower",new Rg(()=>new Ig(this.value.toLowerCase()))],["strip",new Rg(()=>new Ig(this.value.trim()))],["title",new Rg(()=>new Ig(this.value.replace(/\b\w/g,e=>e.toUpperCase())))],["capitalize",new Rg(()=>new Ig(this.value.charAt(0).toUpperCase()+this.value.slice(1)))],["length",new Sg(this.value.length)],["rstrip",new Rg(()=>new Ig(this.value.trimEnd()))],["lstrip",new Rg(()=>new Ig(this.value.trimStart()))],["startswith",new Rg(e=>{if(0===e.length)throw new Error("startswith() requires at least one argument");const t=e[0];if(t instanceof Ig)return new Eg(this.value.startsWith(t.value));if(t instanceof Ng){for(const e of t.value){if(!(e instanceof Ig))throw new Error("startswith() tuple elements must be strings");if(this.value.startsWith(e.value))return new Eg(!0)}return new Eg(!1)}throw new Error("startswith() argument must be a string or tuple of strings")})],["endswith",new Rg(e=>{if(0===e.length)throw new Error("endswith() requires at least one argument");const t=e[0];if(t instanceof Ig)return new Eg(this.value.endsWith(t.value));if(t instanceof Ng){for(const e of t.value){if(!(e instanceof Ig))throw new Error("endswith() tuple elements must be strings");if(this.value.endsWith(e.value))return new Eg(!0)}return new Eg(!1)}throw new Error("endswith() argument must be a string or tuple of strings")})],["split",new Rg(e=>{const t=e[0]??new Dg;if(!(t instanceof Ig||t instanceof Dg))throw new Error("sep argument must be a string or null");const n=e[1]??new Sg(-1);if(!(n instanceof Sg))throw new Error("maxsplit argument must be a number");let r=[];if(t instanceof Dg){const e=this.value.trimStart();for(const{0:t,index:i}of e.matchAll(/\S+/g)){if(-1!==n.value&&r.length>=n.value&&void 0!==i){r.push(t+e.slice(i+t.length));break}r.push(t)}}else{if(""===t.value)throw new Error("empty separator");r=this.value.split(t.value),-1!==n.value&&r.length>n.value&&r.push(r.splice(n.value).join(t.value))}return new Ng(r.map(e=>new Ig(e)))})],["replace",new Rg(e=>{if(e.length<2)throw new Error("replace() requires at least two arguments");const t=e[0],n=e[1];if(!(t instanceof Ig&&n instanceof Ig))throw new Error("replace() arguments must be strings");let r;if(r=e.length>2?"KeywordArgumentsValue"===e[2].type?e[2].value.get("count")??new Dg:e[2]:new Dg,!(r instanceof Sg||r instanceof Dg))throw new Error("replace() count argument must be a number or null");return new Ig(function(e,t,n,r){if(0===r)return e;let i=null==r||r<0?1/0:r;const a=0===t.length?new RegExp("(?=)","gu"):new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gu");return e.replaceAll(a,e=>i>0?(--i,n):e)}(this.value,t.value,n.value,r.value))})]]))()},Eg=class extends xg{type="BooleanValue"},Ag=class extends xg{type="ObjectValue";__bool__(){return new Eg(this.value.size>0)}builtins=(()=>new Map([["get",new Rg(e=>{let[t,n]=e;if(!(t instanceof Ig))throw new Error(`Object key must be a string: got ${t.type}`);return this.value.get(t.value)??n??new Dg})],["items",new Rg(()=>this.items())],["keys",new Rg(()=>this.keys())],["values",new Rg(()=>this.values())]]))();items(){return new Ng(Array.from(this.value.entries()).map(e=>{let[t,n]=e;return new Ng([new Ig(t),n])}))}keys(){return new Ng(Array.from(this.value.keys()).map(e=>new Ig(e)))}values(){return new Ng(Array.from(this.value.values()))}},Cg=class extends Ag{type="KeywordArgumentsValue"},Ng=class extends xg{type="ArrayValue";builtins=(()=>new Map([["length",new Sg(this.value.length)]]))();__bool__(){return new Eg(this.value.length>0)}},Pg=class extends Ng{type="TupleValue"},Rg=class extends xg{type="FunctionValue"},Dg=class extends xg{type="NullValue"},Og=class extends xg{type="UndefinedValue"},Lg=class{constructor(e){this.parent=e}variables=(()=>new Map([["namespace",new Rg(e=>{if(0===e.length)return new Ag(new Map);if(1!==e.length||!(e[0]instanceof Ag))throw new Error("`namespace` expects either zero arguments or a single object argument");return e[0]})]]))();tests=(()=>new Map([["boolean",e=>"BooleanValue"===e.type],["callable",e=>e instanceof Rg],["odd",e=>{if(!(e instanceof Sg))throw new Error(`cannot odd on ${e.type}`);return e.value%2!==0}],["even",e=>{if(!(e instanceof Sg))throw new Error(`cannot even on ${e.type}`);return e.value%2===0}],["false",e=>"BooleanValue"===e.type&&!e.value],["true",e=>"BooleanValue"===e.type&&e.value],["none",e=>"NullValue"===e.type],["string",e=>"StringValue"===e.type],["number",e=>e instanceof Sg||e instanceof Tg],["integer",e=>e instanceof Sg],["iterable",e=>"ArrayValue"===e.type||"StringValue"===e.type],["mapping",e=>"ObjectValue"===e.type],["lower",e=>{const t=e.value;return"StringValue"===e.type&&t===t.toLowerCase()}],["upper",e=>{const t=e.value;return"StringValue"===e.type&&t===t.toUpperCase()}],["none",e=>"NullValue"===e.type],["defined",e=>"UndefinedValue"!==e.type],["undefined",e=>"UndefinedValue"===e.type],["equalto",(e,t)=>e.value===t.value],["eq",(e,t)=>e.value===t.value]]))();set(e,t){return this.declareVariable(e,Ug(t))}declareVariable(e,t){if(this.variables.has(e))throw new SyntaxError(`Variable already declared: ${e}`);return this.variables.set(e,t),t}setVariable(e,t){return this.variables.set(e,t),t}resolve(e){if(this.variables.has(e))return this;if(this.parent)return this.parent.resolve(e);throw new Error(`Unknown variable: ${e}`)}lookupVariable(e){try{return this.resolve(e).variables.get(e)??new Og}catch{return new Og}}};var Mg=class{global;constructor(e){this.global=e??new Lg}run(e){return this.evaluate(e,this.global)}evaluateBinaryExpression(e,t){const n=this.evaluate(e.left,t);switch(e.operator.value){case"and":return n.__bool__().value?this.evaluate(e.right,t):n;case"or":return n.__bool__().value?n:this.evaluate(e.right,t)}const r=this.evaluate(e.right,t);switch(e.operator.value){case"==":return new Eg(n.value==r.value);case"!=":return new Eg(n.value!=r.value)}if(n instanceof Og||r instanceof Og){if(r instanceof Og&&["in","not in"].includes(e.operator.value))return new Eg("not in"===e.operator.value);throw new Error(`Cannot perform operation ${e.operator.value} on undefined values`)}if(n instanceof Dg||r instanceof Dg)throw new Error("Cannot perform operation on null values");if("~"===e.operator.value)return new Ig(n.value.toString()+r.value.toString());if((n instanceof Sg||n instanceof Tg)&&(r instanceof Sg||r instanceof Tg)){const t=n.value,i=r.value;switch(e.operator.value){case"+":case"-":case"*":{const a="+"===e.operator.value?t+i:"-"===e.operator.value?t-i:t*i;return n instanceof Tg||r instanceof Tg?new Tg(a):new Sg(a)}case"/":return new Tg(t/i);case"%":{const e=t%i;return n instanceof Tg||r instanceof Tg?new Tg(e):new Sg(e)}case"<":return new Eg(t<i);case">":return new Eg(t>i);case">=":return new Eg(t>=i);case"<=":return new Eg(t<=i)}}else if(n instanceof Ng&&r instanceof Ng){if("+"===e.operator.value)return new Ng(n.value.concat(r.value))}else if(r instanceof Ng){const t=void 0!==r.value.find(e=>e.value===n.value);switch(e.operator.value){case"in":return new Eg(t);case"not in":return new Eg(!t)}}if((n instanceof Ig||r instanceof Ig)&&"+"===e.operator.value)return new Ig(n.value.toString()+r.value.toString());if(n instanceof Ig&&r instanceof Ig)switch(e.operator.value){case"in":return new Eg(r.value.includes(n.value));case"not in":return new Eg(!r.value.includes(n.value))}if(n instanceof Ig&&r instanceof Ag)switch(e.operator.value){case"in":return new Eg(r.value.has(n.value));case"not in":return new Eg(!r.value.has(n.value))}throw new SyntaxError(`Unknown operator "${e.operator.value}" between ${n.type} and ${r.type}`)}evaluateArguments(e,t){const n=[],r=new Map;for(const i of e)if("SpreadExpression"===i.type){const e=i,r=this.evaluate(e.argument,t);if(!(r instanceof Ng))throw new Error(`Cannot unpack non-iterable type: ${r.type}`);for(const t of r.value)n.push(t)}else if("KeywordArgumentExpression"===i.type){const e=i;r.set(e.key.value,this.evaluate(e.value,t))}else{if(r.size>0)throw new Error("Positional arguments must come before keyword arguments");n.push(this.evaluate(i,t))}return[n,r]}applyFilter(e,t,n){if("Identifier"===t.type){const r=t;if("tojson"===r.value)return new Ig(jg(e));if(e instanceof Ng)switch(r.value){case"list":return e;case"first":return e.value[0];case"last":return e.value[e.value.length-1];case"length":return new Sg(e.value.length);case"reverse":return new Ng(e.value.reverse());case"sort":return new Ng(e.value.sort((e,t)=>{if(e.type!==t.type)throw new Error(`Cannot compare different types: ${e.type} and ${t.type}`);switch(e.type){case"IntegerValue":case"FloatValue":return e.value-t.value;case"StringValue":return e.value.localeCompare(t.value);default:throw new Error(`Cannot compare type: ${e.type}`)}}));case"join":return new Ig(e.value.map(e=>e.value).join(""));case"string":return new Ig(jg(e));case"unique":{const t=new Set,n=[];for(const r of e.value)t.has(r.value)||(t.add(r.value),n.push(r));return new Ng(n)}default:throw new Error(`Unknown ArrayValue filter: ${r.value}`)}else if(e instanceof Ig)switch(r.value){case"length":case"upper":case"lower":case"title":case"capitalize":{const t=e.builtins.get(r.value);if(t instanceof Rg)return t.value([],n);if(t instanceof Sg)return t;throw new Error(`Unknown StringValue filter: ${r.value}`)}case"trim":return new Ig(e.value.trim());case"indent":return new Ig(e.value.split("\n").map((e,t)=>0===t||0===e.length?e:"    "+e).join("\n"));case"join":case"string":return e;case"int":{const t=parseInt(e.value,10);return new Sg(isNaN(t)?0:t)}case"float":{const t=parseFloat(e.value);return new Tg(isNaN(t)?0:t)}default:throw new Error(`Unknown StringValue filter: ${r.value}`)}else if(e instanceof Sg||e instanceof Tg)switch(r.value){case"abs":return e instanceof Sg?new Sg(Math.abs(e.value)):new Tg(Math.abs(e.value));case"int":return new Sg(Math.floor(e.value));case"float":return new Tg(e.value);default:throw new Error(`Unknown NumericValue filter: ${r.value}`)}else if(e instanceof Ag)switch(r.value){case"items":return new Ng(Array.from(e.value.entries()).map(e=>{let[t,n]=e;return new Ng([new Ig(t),n])}));case"length":return new Sg(e.value.size);default:throw new Error(`Unknown ObjectValue filter: ${r.value}`)}else if(e instanceof Eg)switch(r.value){case"bool":return new Eg(e.value);case"int":return new Sg(e.value?1:0);case"float":return new Tg(e.value?1:0);case"string":return new Ig(e.value?"true":"false");default:throw new Error(`Unknown BooleanValue filter: ${r.value}`)}throw new Error(`Cannot apply filter "${r.value}" to type: ${e.type}`)}if("CallExpression"===t.type){const r=t;if("Identifier"!==r.callee.type)throw new Error(`Unknown filter: ${r.callee.type}`);const i=r.callee.value;if("tojson"===i){const[,t]=this.evaluateArguments(r.args,n),i=t.get("indent")??new Dg;if(!(i instanceof Sg||i instanceof Dg))throw new Error("If set, indent must be a number");return new Ig(jg(e,i.value))}if("join"===i){let t;if(e instanceof Ig)t=Array.from(e.value);else{if(!(e instanceof Ng))throw new Error(`Cannot apply filter "${i}" to type: ${e.type}`);t=e.value.map(e=>e.value)}const[a,o]=this.evaluateArguments(r.args,n),s=a.at(0)??o.get("separator")??new Ig("");if(!(s instanceof Ig))throw new Error("separator must be a string");return new Ig(t.join(s.value))}if("int"===i||"float"===i){const[t,a]=this.evaluateArguments(r.args,n),o=t.at(0)??a.get("default")??("int"===i?new Sg(0):new Tg(0));if(e instanceof Ig){const t="int"===i?parseInt(e.value,10):parseFloat(e.value);return isNaN(t)?o:"int"===i?new Sg(t):new Tg(t)}if(e instanceof Sg||e instanceof Tg)return e;if(e instanceof Eg)return"int"===i?new Sg(e.value?1:0):new Tg(e.value?1:0);throw new Error(`Cannot apply filter "${i}" to type: ${e.type}`)}if("default"===i){const[t,i]=this.evaluateArguments(r.args,n),a=t[0]??new Ig(""),o=t[1]??i.get("boolean")??new Eg(!1);if(!(o instanceof Eg))throw new Error("`default` filter flag must be a boolean");return e instanceof Og||o.value&&!e.__bool__().value?a:e}if(e instanceof Ng){switch(i){case"selectattr":case"rejectattr":{const t="selectattr"===i;if(e.value.some(e=>!(e instanceof Ag)))throw new Error(`\`${i}\` can only be applied to array of objects`);if(r.args.some(e=>"StringLiteral"!==e.type))throw new Error(`arguments of \`${i}\` must be strings`);const[a,o,s]=r.args.map(e=>this.evaluate(e,n));let l;if(o){const e=n.tests.get(o.value);if(!e)throw new Error(`Unknown test: ${o.value}`);l=e}else l=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[0].__bool__().value};const c=e.value.filter(e=>{const n=e.value.get(a.value),r=!!n&&l(n,s);return t?r:!r});return new Ng(c)}case"map":{const[,t]=this.evaluateArguments(r.args,n);if(t.has("attribute")){const n=t.get("attribute");if(!(n instanceof Ig))throw new Error("attribute must be a string");const r=t.get("default"),i=e.value.map(e=>{if(!(e instanceof Ag))throw new Error("items in map must be an object");return e.value.get(n.value)??r??new Og});return new Ng(i)}throw new Error("`map` expressions without `attribute` set are not currently supported.")}}throw new Error(`Unknown ArrayValue filter: ${i}`)}if(e instanceof Ig){switch(i){case"indent":{const[t,i]=this.evaluateArguments(r.args,n),a=t.at(0)??i.get("width")??new Sg(4);if(!(a instanceof Sg))throw new Error("width must be a number");const o=t.at(1)??i.get("first")??new Eg(!1),s=t.at(2)??i.get("blank")??new Eg(!1),l=e.value.split("\n"),c=" ".repeat(a.value),u=l.map((e,t)=>!o.value&&0===t||!s.value&&0===e.length?e:c+e);return new Ig(u.join("\n"))}case"replace":{const t=e.builtins.get("replace");if(!(t instanceof Rg))throw new Error("replace filter not available");const[i,a]=this.evaluateArguments(r.args,n);return t.value([...i,new Cg(a)],n)}}throw new Error(`Unknown StringValue filter: ${i}`)}throw new Error(`Cannot apply filter "${i}" to type: ${e.type}`)}throw new Error(`Unknown filter: ${t.type}`)}evaluateFilterExpression(e,t){const n=this.evaluate(e.operand,t);return this.applyFilter(n,e.filter,t)}evaluateTestExpression(e,t){const n=this.evaluate(e.operand,t),r=t.tests.get(e.test.value);if(!r)throw new Error(`Unknown test: ${e.test.value}`);const i=r(n);return new Eg(e.negate?!i:i)}evaluateSelectExpression(e,t){return this.evaluate(e.test,t).__bool__().value?this.evaluate(e.lhs,t):new Og}evaluateUnaryExpression(e,t){const n=this.evaluate(e.argument,t);if("not"===e.operator.value)return new Eg(!n.value);throw new SyntaxError(`Unknown operator: ${e.operator.value}`)}evaluateTernaryExpression(e,t){return this.evaluate(e.condition,t).__bool__().value?this.evaluate(e.trueExpr,t):this.evaluate(e.falseExpr,t)}evalProgram(e,t){return this.evaluateBlock(e.body,t)}evaluateBlock(e,t){let n="";for(const r of e){const e=this.evaluate(r,t);"NullValue"!==e.type&&"UndefinedValue"!==e.type&&(n+=e.toString())}return new Ig(n)}evaluateIdentifier(e,t){return t.lookupVariable(e.value)}evaluateCallExpression(e,t){const[n,r]=this.evaluateArguments(e.args,t);r.size>0&&n.push(new Cg(r));const i=this.evaluate(e.callee,t);if("FunctionValue"!==i.type)throw new Error(`Cannot call something that is not a function: got ${i.type}`);return i.value(n,t)}evaluateSliceExpression(e,t,n){if(!(e instanceof Ng||e instanceof Ig))throw new Error("Slice object must be an array or string");const r=this.evaluate(t.start,n),i=this.evaluate(t.stop,n),a=this.evaluate(t.step,n);if(!(r instanceof Sg||r instanceof Og))throw new Error("Slice start must be numeric or undefined");if(!(i instanceof Sg||i instanceof Og))throw new Error("Slice stop must be numeric or undefined");if(!(a instanceof Sg||a instanceof Og))throw new Error("Slice step must be numeric or undefined");return e instanceof Ng?new Ng(bg(e.value,r.value,i.value,a.value)):new Ig(bg(Array.from(e.value),r.value,i.value,a.value).join(""))}evaluateMemberExpression(e,t){const n=this.evaluate(e.object,t);let r,i;if(e.computed){if("SliceExpression"===e.property.type)return this.evaluateSliceExpression(n,e.property,t);r=this.evaluate(e.property,t)}else r=new Ig(e.property.value);if(n instanceof Ag){if(!(r instanceof Ig))throw new Error(`Cannot access property with non-string: got ${r.type}`);i=n.value.get(r.value)??n.builtins.get(r.value)}else if(n instanceof Ng||n instanceof Ig)if(r instanceof Sg)i=n.value.at(r.value),n instanceof Ig&&(i=new Ig(n.value.at(r.value)));else{if(!(r instanceof Ig))throw new Error(`Cannot access property with non-string/non-number: got ${r.type}`);i=n.builtins.get(r.value)}else{if(!(r instanceof Ig))throw new Error(`Cannot access property with non-string: got ${r.type}`);i=n.builtins.get(r.value)}return i instanceof xg?i:new Og}evaluateSet(e,t){const n=e.value?this.evaluate(e.value,t):this.evaluateBlock(e.body,t);if("Identifier"===e.assignee.type){const r=e.assignee.value;t.setVariable(r,n)}else if("TupleLiteral"===e.assignee.type){const r=e.assignee;if(!(n instanceof Ng))throw new Error(`Cannot unpack non-iterable type in set: ${n.type}`);const i=n.value;if(i.length!==r.value.length)throw new Error(`Too ${r.value.length>i.length?"few":"many"} items to unpack in set`);for(let e=0;e<r.value.length;++e){const n=r.value[e];if("Identifier"!==n.type)throw new Error(`Cannot unpack to non-identifier in set: ${n.type}`);t.setVariable(n.value,i[e])}}else{if("MemberExpression"!==e.assignee.type)throw new Error(`Invalid LHS inside assignment expression: ${JSON.stringify(e.assignee)}`);{const r=e.assignee,i=this.evaluate(r.object,t);if(!(i instanceof Ag))throw new Error("Cannot assign to member of non-object");if("Identifier"!==r.property.type)throw new Error("Cannot assign to member with non-identifier property");i.value.set(r.property.value,n)}}return new Dg}evaluateIf(e,t){const n=this.evaluate(e.test,t);return this.evaluateBlock(n.__bool__().value?e.body:e.alternate,t)}evaluateFor(e,t){const n=new Lg(t);let r,i;if("SelectExpression"===e.iterable.type){const t=e.iterable;i=this.evaluate(t.lhs,n),r=t.test}else i=this.evaluate(e.iterable,n);if(!(i instanceof Ng||i instanceof Ag))throw new Error(`Expected iterable or object type in for loop: got ${i.type}`);i instanceof Ag&&(i=i.keys());const a=[],o=[];for(let u=0;u<i.value.length;++u){const t=new Lg(n),s=i.value[u];let l;if("Identifier"===e.loopvar.type)l=t=>t.setVariable(e.loopvar.value,s);else{if("TupleLiteral"!==e.loopvar.type)throw new Error(`Invalid loop variable(s): ${e.loopvar.type}`);{const t=e.loopvar;if("ArrayValue"!==s.type)throw new Error(`Cannot unpack non-iterable type: ${s.type}`);const n=s;if(t.value.length!==n.value.length)throw new Error(`Too ${t.value.length>n.value.length?"few":"many"} items to unpack`);l=e=>{for(let r=0;r<t.value.length;++r){if("Identifier"!==t.value[r].type)throw new Error(`Cannot unpack non-identifier type: ${t.value[r].type}`);e.setVariable(t.value[r].value,n.value[r])}}}}if(r){l(t);if(!this.evaluate(r,t).__bool__().value)continue}a.push(s),o.push(l)}let s="",l=!0;for(let u=0;u<a.length;++u){const t=new Map([["index",new Sg(u+1)],["index0",new Sg(u)],["revindex",new Sg(a.length-u)],["revindex0",new Sg(a.length-u-1)],["first",new Eg(0===u)],["last",new Eg(u===a.length-1)],["length",new Sg(a.length)],["previtem",u>0?a[u-1]:new Og],["nextitem",u<a.length-1?a[u+1]:new Og]]);n.setVariable("loop",new Ag(t)),o[u](n);try{s+=this.evaluateBlock(e.body,n).value}catch(c){if(c instanceof kg)continue;if(c instanceof _g)break;throw c}l=!1}if(l){s+=this.evaluateBlock(e.defaultBlock,n).value}return new Ig(s)}evaluateMacro(e,t){return t.setVariable(e.name.value,new Rg((t,n)=>{const r=new Lg(n);let i;t=t.slice(),"KeywordArgumentsValue"===t.at(-1)?.type&&(i=t.pop());for(let a=0;a<e.args.length;++a){const n=e.args[a],o=t[a];if("Identifier"===n.type){const e=n;if(!o)throw new Error(`Missing positional argument: ${e.value}`);r.setVariable(e.value,o)}else{if("KeywordArgumentExpression"!==n.type)throw new Error(`Unknown argument type: ${n.type}`);{const e=n,t=o??i?.value.get(e.key.value)??this.evaluate(e.value,r);r.setVariable(e.key.value,t)}}}return this.evaluateBlock(e.body,r)})),new Dg}evaluateCallStatement(e,t){const n=new Rg((t,n)=>{const r=new Lg(n);if(e.callerArgs)for(let i=0;i<e.callerArgs.length;++i){const n=e.callerArgs[i];if("Identifier"!==n.type)throw new Error(`Caller parameter must be an identifier, got ${n.type}`);r.setVariable(n.value,t[i]??new Og)}return this.evaluateBlock(e.body,r)}),[r,i]=this.evaluateArguments(e.call.args,t);r.push(new Cg(i));const a=this.evaluate(e.call.callee,t);if("FunctionValue"!==a.type)throw new Error(`Cannot call something that is not a function: got ${a.type}`);const o=new Lg(t);return o.setVariable("caller",n),a.value(r,o)}evaluateFilterStatement(e,t){const n=this.evaluateBlock(e.body,t);return this.applyFilter(n,e.filter,t)}evaluate(e,t){if(!e)return new Og;switch(e.type){case"Program":return this.evalProgram(e,t);case"Set":return this.evaluateSet(e,t);case"If":return this.evaluateIf(e,t);case"For":return this.evaluateFor(e,t);case"Macro":return this.evaluateMacro(e,t);case"CallStatement":return this.evaluateCallStatement(e,t);case"Break":throw new _g;case"Continue":throw new kg;case"IntegerLiteral":return new Sg(e.value);case"FloatLiteral":return new Tg(e.value);case"StringLiteral":return new Ig(e.value);case"ArrayLiteral":return new Ng(e.value.map(e=>this.evaluate(e,t)));case"TupleLiteral":return new Pg(e.value.map(e=>this.evaluate(e,t)));case"ObjectLiteral":{const n=new Map;for(const[r,i]of e.value){const e=this.evaluate(r,t);if(!(e instanceof Ig))throw new Error(`Object keys must be strings: got ${e.type}`);n.set(e.value,this.evaluate(i,t))}return new Ag(n)}case"Identifier":return this.evaluateIdentifier(e,t);case"CallExpression":return this.evaluateCallExpression(e,t);case"MemberExpression":return this.evaluateMemberExpression(e,t);case"UnaryExpression":return this.evaluateUnaryExpression(e,t);case"BinaryExpression":return this.evaluateBinaryExpression(e,t);case"FilterExpression":return this.evaluateFilterExpression(e,t);case"FilterStatement":return this.evaluateFilterStatement(e,t);case"TestExpression":return this.evaluateTestExpression(e,t);case"SelectExpression":return this.evaluateSelectExpression(e,t);case"Ternary":return this.evaluateTernaryExpression(e,t);case"Comment":return new Dg;default:throw new SyntaxError(`Unknown node type: ${e.type}`)}}};function Ug(e){switch(typeof e){case"number":return Number.isInteger(e)?new Sg(e):new Tg(e);case"string":return new Ig(e);case"boolean":return new Eg(e);case"undefined":return new Og;case"object":return null===e?new Dg:Array.isArray(e)?new Ng(e.map(Ug)):new Ag(new Map(Object.entries(e).map(e=>{let[t,n]=e;return[t,Ug(n)]})));case"function":return new Rg((t,n)=>{const r=e(...t.map(e=>e.value))??null;return Ug(r)});default:throw new Error(`Cannot convert to runtime value: ${e}`)}}function jg(e,t,n){const r=n??0;switch(e.type){case"NullValue":case"UndefinedValue":return"null";case"IntegerValue":case"FloatValue":case"StringValue":case"BooleanValue":return JSON.stringify(e.value);case"ArrayValue":case"ObjectValue":{const n=t?" ".repeat(t):"",i="\n"+n.repeat(r),a=i+n;if("ArrayValue"===e.type){const n=e.value.map(e=>jg(e,t,r+1));return t?`[${a}${n.join(`,${a}`)}${i}]`:`[${n.join(", ")}]`}{const n=Array.from(e.value.entries()).map(e=>{let[n,i]=e;const o=`"${n}": ${jg(i,t,r+1)}`;return t?`${a}${o}`:o});return t?`{${n.join(",")}${i}}`:`{${n.join(", ")}}`}}default:throw new Error(`Cannot convert to JSON: ${e.type}`)}}var Fg="\n";function Vg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"{%- "+t.join(" ")+" -%}"}function $g(e,t,n){return e.map(e=>function(e,t,n){const r=n.repeat(t);switch(e.type){case"Program":return $g(e.body,t,n);case"If":return function(e,t,n){const r=n.repeat(t),i=[];let a=e;for(;a&&(i.push({test:a.test,body:a.body}),1===a.alternate.length&&"If"===a.alternate[0].type);)a=a.alternate[0];let o=r+Vg("if",zg(i[0].test))+Fg+$g(i[0].body,t+1,n);for(let s=1;s<i.length;++s)o+=Fg+r+Vg("elif",zg(i[s].test))+Fg+$g(i[s].body,t+1,n);a&&a.alternate.length>0&&(o+=Fg+r+Vg("else")+Fg+$g(a.alternate,t+1,n));return o+=Fg+r+Vg("endif"),o}(e,t,n);case"For":return function(e,t,n){const r=n.repeat(t);let i="";if("SelectExpression"===e.iterable.type){const t=e.iterable;i=`${zg(t.lhs)} if ${zg(t.test)}`}else i=zg(e.iterable);let a=r+Vg("for",zg(e.loopvar),"in",i)+Fg+$g(e.body,t+1,n);e.defaultBlock.length>0&&(a+=Fg+r+Vg("else")+Fg+$g(e.defaultBlock,t+1,n));return a+=Fg+r+Vg("endfor"),a}(e,t,n);case"Set":return function(e,t,n){const r=n.repeat(t),i=zg(e.assignee),a=e.value?zg(e.value):"",o=r+Vg("set",`${i}${e.value?" = "+a:""}`);if(0===e.body.length)return o;return o+Fg+$g(e.body,t+1,n)+Fg+r+Vg("endset")}(e,t,n);case"Macro":return function(e,t,n){const r=n.repeat(t),i=e.args.map(zg).join(", ");return r+Vg("macro",`${e.name.value}(${i})`)+Fg+$g(e.body,t+1,n)+Fg+r+Vg("endmacro")}(e,t,n);case"Break":return r+Vg("break");case"Continue":return r+Vg("continue");case"CallStatement":return function(e,t,n){const r=n.repeat(t),i=e.callerArgs&&e.callerArgs.length>0?`(${e.callerArgs.map(zg).join(", ")})`:"",a=zg(e.call);let o=r+Vg(`call${i}`,a)+Fg;return o+=$g(e.body,t+1,n)+Fg,o+=r+Vg("endcall"),o}(e,t,n);case"FilterStatement":return function(e,t,n){const r=n.repeat(t),i="Identifier"===e.filter.type?e.filter.value:zg(e.filter);let a=r+Vg("filter",i)+Fg;return a+=$g(e.body,t+1,n)+Fg,a+=r+Vg("endfilter"),a}(e,t,n);case"Comment":return r+"{# "+e.value+" #}";default:return r+"{{- "+zg(e)+" -}}"}}(e,t,n)).join(Fg)}function zg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;switch(e.type){case"SpreadExpression":return`*${zg(e.argument)}`;case"Identifier":return e.value;case"IntegerLiteral":case"FloatLiteral":return`${e.value}`;case"StringLiteral":return JSON.stringify(e.value);case"BinaryExpression":{const n=e,r=function(e){switch(e.operator.type){case"MultiplicativeBinaryOperator":return 4;case"AdditiveBinaryOperator":return 3;case"ComparisonBinaryOperator":return 2;case"Identifier":return"and"===e.operator.value?1:"in"===e.operator.value||"not in"===e.operator.value?2:0}return 0}(n),i=zg(n.left,r),a=zg(n.right,r+1),o=`${i} ${n.operator.value} ${a}`;return r<t?`(${o})`:o}case"UnaryExpression":{const t=e;return t.operator.value+("not"===t.operator.value?" ":"")+zg(t.argument,1/0)}case"CallExpression":{const t=e,n=t.args.map(zg).join(", ");return`${zg(t.callee)}(${n})`}case"MemberExpression":{const t=e;let n=zg(t.object);["Identifier","MemberExpression","CallExpression","StringLiteral","IntegerLiteral","FloatLiteral","ArrayLiteral","TupleLiteral","ObjectLiteral"].includes(t.object.type)||(n=`(${n})`);let r=zg(t.property);return t.computed||"Identifier"===t.property.type||(r=`(${r})`),t.computed?`${n}[${r}]`:`${n}.${r}`}case"FilterExpression":{const t=e,n=zg(t.operand,1/0);return"CallExpression"===t.filter.type?`${n} | ${zg(t.filter)}`:`${n} | ${t.filter.value}`}case"SelectExpression":{const t=e;return`${zg(t.lhs)} if ${zg(t.test)}`}case"TestExpression":{const t=e;return`${zg(t.operand)} is${t.negate?" not":""} ${t.test.value}`}case"ArrayLiteral":case"TupleLiteral":{const t=e.value.map(zg),n="ArrayLiteral"===e.type?"[]":"()";return`${n[0]}${t.join(", ")}${n[1]}`}case"ObjectLiteral":{const t=Array.from(e.value.entries()).map(e=>{let[t,n]=e;return`${zg(t)}: ${zg(n)}`});return`{${t.join(", ")}}`}case"SliceExpression":{const t=e;return`${t.start?zg(t.start):""}:${t.stop?zg(t.stop):""}${t.step?`:${zg(t.step)}`:""}`}case"KeywordArgumentExpression":{const t=e;return`${t.key.value}=${zg(t.value)}`}case"Ternary":{const n=e,r=`${zg(n.trueExpr)} if ${zg(n.condition,0)} else ${zg(n.falseExpr)}`;return t>-1?`(${r})`:r}default:throw new Error(`Unknown expression type: ${e.type}`)}}var qg=class{parsed;constructor(e){const t=function(e){const t=[],n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.endsWith("\n")&&(e=e.slice(0,-1)),t.lstrip_blocks&&(e=e.replace(/^[ \t]*({[#%-])/gm,"$1")),t.trim_blocks&&(e=e.replace(/([#%-]})\n/g,"$1")),e.replace(/-%}\s*/g,"%}").replace(/\s*{%-/g,"{%").replace(/-}}\s*/g,"}}").replace(/\s*{{-/g,"{{").replace(/-#}\s*/g,"#}").replace(/\s*{#-/g,"{#").replace(/{%\s*(end)?generation\s*%}/gs,"")}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});let r=0,i=0;const a=e=>{let t="";for(;e(n[r]);){if("\\"===n[r]){if(++r,r>=n.length)throw new SyntaxError("Unexpected end of input");const e=n[r++],i=Fm.get(e);if(void 0===i)throw new SyntaxError(`Unexpected escaped character: ${e}`);t+=i;continue}if(t+=n[r++],r>=n.length)throw new SyntaxError("Unexpected end of input")}return t};e:for(;r<n.length;){const e=t.at(-1)?.type;if(void 0===e||e===Om.CloseStatement||e===Om.CloseExpression||e===Om.Comment){let e="";for(;r<n.length&&("{"!==n[r]||"%"!==n[r+1]&&"{"!==n[r+1]&&"#"!==n[r+1]);)e+=n[r++];if(e.length>0){t.push(new Lm(e,Om.Text));continue}}if("{"===n[r]&&"#"===n[r+1]){r+=2;let e="";for(;"#"!==n[r]||"}"!==n[r+1];){if(r+2>=n.length)throw new SyntaxError("Missing end of comment tag");e+=n[r++]}t.push(new Lm(e,Om.Comment)),r+=2;continue}a(e=>/\s/.test(e));const o=n[r];if("-"===o||"+"===o){const e=t.at(-1)?.type;if(e===Om.Text||void 0===e)throw new SyntaxError(`Unexpected character: ${o}`);switch(e){case Om.Identifier:case Om.NumericLiteral:case Om.StringLiteral:case Om.CloseParen:case Om.CloseSquareBracket:break;default:{++r;const e=a(Um);t.push(new Lm(`${o}${e}`,e.length>0?Om.NumericLiteral:Om.UnaryOperator));continue}}}for(const[a,s]of jm)if(!("}}"===a&&i>0)&&n.slice(r,r+a.length)===a){t.push(new Lm(a,s)),s===Om.OpenExpression?i=0:s===Om.OpenCurlyBracket?++i:s===Om.CloseCurlyBracket&&--i,r+=a.length;continue e}if("'"===o||'"'===o){++r;const e=a(e=>e!==o);t.push(new Lm(e,Om.StringLiteral)),++r;continue}if(Um(o)){let e=a(Um);"."===n[r]&&Um(n[r+1])&&(++r,e=`${e}.${a(Um)}`),t.push(new Lm(e,Om.NumericLiteral));continue}if(Mm(o)){const e=a(Mm);t.push(new Lm(e,Om.Identifier));continue}throw new SyntaxError(`Unexpected character: ${o}`)}return t}(e,{lstrip_blocks:!0,trim_blocks:!0});this.parsed=yg(t)}render(e){const t=new Lg;if(function(e){e.set("false",!1),e.set("true",!0),e.set("none",null),e.set("raise_exception",e=>{throw new Error(e)}),e.set("range",vg),e.set("strftime_now",wg),e.set("True",!0),e.set("False",!1),e.set("None",null)}(t),e)for(const[n,r]of Object.entries(e))t.set(n,r);return new Mg(t).run(this.parsed).value}format(e){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\t";const n="number"===typeof t?" ".repeat(t):t;return $g(e.body,0,n).replace(/\n$/,"")}(this.parsed,e?.indent||"\t")}};const Bg={"adapter-transformers":["question-answering","text-classification","token-classification"],allennlp:["question-answering"],asteroid:["audio-to-audio"],bertopic:["text-classification"],diffusers:["image-to-image","text-to-image"],doctr:["object-detection"],espnet:["text-to-speech","automatic-speech-recognition"],fairseq:["text-to-speech","audio-to-audio"],fastai:["image-classification"],fasttext:["feature-extraction","text-classification"],flair:["token-classification"],k2:["automatic-speech-recognition"],keras:["image-classification"],nemo:["automatic-speech-recognition"],open_clip:["zero-shot-classification","zero-shot-image-classification"],paddlenlp:["fill-mask","summarization","zero-shot-classification"],peft:["text-generation"],"pyannote-audio":["automatic-speech-recognition"],"sentence-transformers":["feature-extraction","sentence-similarity"],setfit:["text-classification"],sklearn:["tabular-classification","tabular-regression","text-classification"],spacy:["token-classification","text-classification","sentence-similarity"],"span-marker":["token-classification"],speechbrain:["audio-classification","audio-to-audio","automatic-speech-recognition","text-to-speech"],stanza:["token-classification"],timm:["image-classification","image-feature-extraction"],transformers:["audio-classification","automatic-speech-recognition","depth-estimation","document-question-answering","feature-extraction","fill-mask","image-classification","image-feature-extraction","image-segmentation","image-to-image","image-to-text","image-text-to-text","mask-generation","object-detection","question-answering","summarization","table-question-answering","text-classification","text-generation","text-to-audio","text-to-speech","token-classification","translation","video-classification","visual-question-answering","zero-shot-classification","zero-shot-image-classification","zero-shot-object-detection"],mindspore:["image-classification"]},Hg=new Map([["text-classification",["I like you. I love you"]],["token-classification",["My name is Wolfgang and I live in Berlin","My name is Sarah and I live in London","My name is Clara and I live in Berkeley, California."]],["table-question-answering",[{text:"How many stars does the transformers repository have?",table:{Repository:["Transformers","Datasets","Tokenizers"],Stars:[36542,4512,3934],Contributors:[651,77,34],"Programming language":["Python","Python","Rust, Python and NodeJS"]}}]],["question-answering",[{text:"Where do I live?",context:"My name is Wolfgang and I live in Berlin"},{text:"Where do I live?",context:"My name is Sarah and I live in London"},{text:"What's my name?",context:"My name is Clara and I live in Berkeley."},{text:"Which name is also used to describe the Amazon rainforest in English?",context:'The Amazon rainforest (Portuguese: Floresta Amaz\xf4nica or Amaz\xf4nia; Spanish: Selva Amaz\xf3nica, Amazon\xeda or usually Amazonia; French: For\xeat amazonienne; Dutch: Amazoneregenwoud), also known in English as Amazonia or the Amazon Jungle, is a moist broadleaf forest that covers most of the Amazon basin of South America. This basin encompasses 7,000,000 square kilometres (2,700,000 sq mi), of which 5,500,000 square kilometres (2,100,000 sq mi) are covered by the rainforest. This region includes territory belonging to nine nations. The majority of the forest is contained within Brazil, with 60% of the rainforest, followed by Peru with 13%, Colombia with 10%, and with minor amounts in Venezuela, Ecuador, Bolivia, Guyana, Suriname and French Guiana. States or departments in four nations contain "Amazonas" in their names. The Amazon represents over half of the planet\'s remaining rainforests, and comprises the largest and most biodiverse tract of tropical rainforest in the world, with an estimated 390 billion individual trees divided into 16,000 species.'}]],["zero-shot-classification",[{text:"I have a problem with my iphone that needs to be resolved asap!",candidate_labels:"urgent, not urgent, phone, tablet, computer",multi_class:!0},{text:"Last week I upgraded my iOS version and ever since then my phone has been overheating whenever I use your app.",candidate_labels:"mobile, website, billing, account access",multi_class:!1},{text:"A new model offers an explanation for how the Galilean satellites formed around the solar system\u2019s largest world. Konstantin Batygin did not set out to solve one of the solar system\u2019s most puzzling mysteries when he went for a run up a hill in Nice, France. Dr. Batygin, a Caltech researcher, best known for his contributions to the search for the solar system\u2019s missing \u201cPlanet Nine,\u201d spotted a beer bottle. At a steep, 20 degree grade, he wondered why it wasn\u2019t rolling down the hill. He realized there was a breeze at his back holding the bottle in place. Then he had a thought that would only pop into the mind of a theoretical astrophysicist: \u201cOh! This is how Europa formed.\u201d Europa is one of Jupiter\u2019s four large Galilean moons. And in a paper published Monday in the Astrophysical Journal, Dr. Batygin and a co-author, Alessandro Morbidelli, a planetary scientist at the C\xf4te d\u2019Azur Observatory in France, present a theory explaining how some moons form around gas giants like Jupiter and Saturn, suggesting that millimeter-sized grains of hail produced during the solar system\u2019s formation became trapped around these massive worlds, taking shape one at a time into the potentially habitable moons we know today.",candidate_labels:"space & cosmos, scientific discovery, microbiology, robots, archeology",multi_class:!0}]],["translation",["My name is Wolfgang and I live in Berlin","My name is Sarah and I live in London"]],["summarization",["The tower is 324 metres (1,063 ft) tall, about the same height as an 81-storey building, and the tallest structure in Paris. Its base is square, measuring 125 metres (410 ft) on each side. During its construction, the Eiffel Tower surpassed the Washington Monument to become the tallest man-made structure in the world, a title it held for 41 years until the Chrysler Building in New York City was finished in 1930. It was the first structure to reach a height of 300 metres. Due to the addition of a broadcasting aerial at the top of the tower in 1957, it is now taller than the Chrysler Building by 5.2 metres (17 ft). Excluding transmitters, the Eiffel Tower is the second tallest free-standing structure in France after the Millau Viaduct."]],["conversational",["Hi, what can you help me with?","What is 84 * 3 / 2?","Tell me an interesting fact about the universe!","Explain quantum computing in simple terms."]],["text-generation",["My name is Julien and I like to","I like traveling by train because","Paris is an amazing place to visit,","Once upon a time,"]],["fill-mask",["Paris is the <mask> of France.","The goal of life is <mask>."]],["sentence-similarity",[{source_sentence:"That is a happy person",sentences:["That is a happy dog","That is a very happy person","Today is a sunny day"]}]]]),Qg=new Map([["text-classification",["\u6211\u559c\u6b22\u4f60\u3002 \u6211\u7231\u4f60"]],["token-classification",["\u6211\u53eb\u6c83\u5c14\u592b\u5188\uff0c\u6211\u4f4f\u5728\u67cf\u6797\u3002","\u6211\u53eb\u8428\u62c9\uff0c\u6211\u4f4f\u5728\u4f26\u6566\u3002","\u6211\u53eb\u514b\u62c9\u62c9\uff0c\u6211\u4f4f\u5728\u52a0\u5dde\u4f2f\u514b\u5229\u3002"]],["question-answering",[{text:"\u6211\u4f4f\u5728\u54ea\u91cc\uff1f",context:"\u6211\u53eb\u6c83\u5c14\u592b\u5188\uff0c\u6211\u4f4f\u5728\u67cf\u6797\u3002"},{text:"\u6211\u4f4f\u5728\u54ea\u91cc\uff1f",context:"\u6211\u53eb\u8428\u62c9\uff0c\u6211\u4f4f\u5728\u4f26\u6566\u3002"},{text:"\u6211\u7684\u540d\u5b57\u662f\u4ec0\u4e48\uff1f",context:"\u6211\u53eb\u514b\u62c9\u62c9\uff0c\u6211\u4f4f\u5728\u4f2f\u514b\u5229\u3002"}]],["translation",["\u6211\u53eb\u6c83\u5c14\u592b\u5188\uff0c\u6211\u4f4f\u5728\u67cf\u6797\u3002","\u6211\u53eb\u8428\u62c9\uff0c\u6211\u4f4f\u5728\u4f26\u6566\u3002"]],["zero-shot-classification",[{text:"\u623f\u95f4\u5e72\u51c0\u660e\u4eae\uff0c\u975e\u5e38\u4e0d\u9519",candidate_labels:"\u8fd9\u662f\u4e00\u6761\u5dee\u8bc4, \u8fd9\u662f\u4e00\u6761\u597d\u8bc4"}]],["summarization",["\u8be5\u5854\u9ad8324\u7c73\uff081063\u82f1\u5c3a\uff09\uff0c\u4e0e\u4e00\u5e6281\u5c42\u7684\u5efa\u7b51\u7269\u4e00\u6837\u9ad8\uff0c\u662f\u5df4\u9ece\u6700\u9ad8\u7684\u5efa\u7b51\u7269\u3002 \u5b83\u7684\u5e95\u5ea7\u662f\u65b9\u5f62\u7684\uff0c\u6bcf\u8fb9\u957f125\u7c73\uff08410\u82f1\u5c3a\uff09\u3002 \u5728\u5efa\u9020\u8fc7\u7a0b\u4e2d\uff0c\u827e\u83f2\u5c14\u94c1\u5854\u8d85\u8fc7\u4e86\u534e\u76db\u987f\u7eaa\u5ff5\u7891\uff0c\u6210\u4e3a\u4e16\u754c\u4e0a\u6700\u9ad8\u7684\u4eba\u9020\u7ed3\u6784\uff0c\u5b83\u4fdd\u6301\u4e8641\u5e74\u7684\u5934\u8854\uff0c\u76f4\u52301930\u5e74\u7ebd\u7ea6\u5e02\u7684\u514b\u83b1\u65af\u52d2\u5927\u697c\u7ae3\u5de5\u3002\u8fd9\u662f\u7b2c\u4e00\u4e2a\u5230\u8fbe300\u7c73\u9ad8\u5ea6\u7684\u7ed3\u6784\u3002 \u7531\u4e8e1957\u5e74\u5728\u5854\u9876\u589e\u52a0\u4e86\u5e7f\u64ad\u5929\u7ebf\uff0c\u56e0\u6b64\u5b83\u73b0\u5728\u6bd4\u514b\u83b1\u65af\u52d2\u5927\u53a6\u9ad85.2\u7c73\uff0817\u82f1\u5c3a\uff09\u3002 \u9664\u53d1\u5c04\u5668\u5916\uff0c\u827e\u83f2\u5c14\u94c1\u5854\u662f\u6cd5\u56fd\u7b2c\u4e8c\u9ad8\u7684\u72ec\u7acb\u5f0f\u5efa\u7b51\uff0c\u4ec5\u6b21\u4e8e\u7c73\u52b3\u9ad8\u67b6\u6865\u3002"]],["text-generation",["\u6211\u53eb\u6731\u5229\u5b89\uff0c\u6211\u559c\u6b22","\u6211\u53eb\u6258\u9a6c\u65af\uff0c\u6211\u7684\u4e3b\u8981","\u6211\u53eb\u739b\u4e3d\u4e9a\uff0c\u6211\u6700\u559c\u6b22\u7684","\u6211\u53eb\u514b\u62c9\u62c9\uff0c\u6211\u662f","\u4ece\u524d\uff0c"]],["fill-mask",["\u5df4\u9ece\u662f<mask>\u56fd\u7684\u9996\u90fd\u3002","\u751f\u6d3b\u7684\u771f\u8c1b\u662f<mask>\u3002"]],["sentence-similarity",[{source_sentence:"\u90a3\u662f \u500b\u5feb\u6a02\u7684\u4eba",sentences:["\u90a3\u662f \u689d\u5feb\u6a02\u7684\u72d7","\u90a3\u662f \u500b\u975e\u5e38\u5e78\u798f\u7684\u4eba","\u4eca\u5929\u662f\u6674\u5929"]}]]]),Wg=new Map([["text-classification",["Je t'appr\xe9cie beaucoup. Je t'aime."]],["token-classification",["Mon nom est Wolfgang et je vis \xe0 Berlin"]],["question-answering",[{text:"O\xf9 est-ce que je vis?",context:"Mon nom est Wolfgang et je vis \xe0 Berlin"}]],["translation",["Mon nom est Wolfgang et je vis \xe0 Berlin"]],["summarization",["La tour fait 324 m\xe8tres (1,063 pieds) de haut, environ la m\xeame hauteur qu'un immeuble de 81 \xe9tages, et est la plus haute structure de Paris. Sa base est carr\xe9e, mesurant 125 m\xe8tres (410 pieds) sur chaque c\xf4t\xe9. Durant sa construction, la tour Eiffel surpassa le Washington Monument pour devenir la plus haute structure construite par l'homme dans le monde, un titre qu'elle conserva pendant 41 ans jusqu'\xe0 l'ach\xe8vement du Chrysler Building \xe0 New-York City en 1930. Ce fut la premi\xe8re structure \xe0 atteindre une hauteur de 300 m\xe8tres. Avec l'ajout d'une antenne de radiodiffusion au sommet de la tour Eiffel en 1957, celle-ci redevint plus haute que le Chrysler Building de 5,2 m\xe8tres (17 pieds). En excluant les transmetteurs, elle est la seconde plus haute structure autoportante de France apr\xe8s le viaduc de Millau."]],["text-generation",["Mon nom est Julien et j'aime","Mon nom est Thomas et mon principal","Il \xe9tait une fois"]],["fill-mask",["Paris est la <mask> de la France."]],["sentence-similarity",[{source_sentence:"C'est une personne heureuse",sentences:["C'est un chien heureux","C'est une personne tr\xe8s heureuse","Aujourd'hui est une journ\xe9e ensoleill\xe9e"]}]]]),Gg=new Map([["text-classification",["Te quiero. Te amo."]],["token-classification",["Me llamo Wolfgang y vivo en Berlin"]],["question-answering",[{text:"\xbfD\xf3nde vivo?",context:"Me llamo Wolfgang y vivo en Berlin"},{text:"\xbfQui\xe9n invent\xf3 el submarino?",context:"Isaac Peral fue un murciano que invent\xf3 el submarino"},{text:"\xbfCu\xe1ntas personas hablan espa\xf1ol?",context:"El espa\xf1ol es el segundo idioma m\xe1s hablado del mundo con m\xe1s de 442 millones de hablantes"}]],["translation",["Me llamo Wolfgang y vivo en Berlin","Los ingredientes de una tortilla de patatas son: huevos, patatas y cebolla"]],["summarization",["La torre tiene 324 metros (1.063 pies) de altura, aproximadamente la misma altura que un edificio de 81 pisos y la estructura m\xe1s alta de Par\xeds. Su base es cuadrada, mide 125 metros (410 pies) a cada lado. Durante su construcci\xf3n, la Torre Eiffel super\xf3 al Washington Monument para convertirse en la estructura artificial m\xe1s alta del mundo, un t\xedtulo que mantuvo durante 41 a\xf1os hasta que el Chrysler Building en la ciudad de Nueva York se termin\xf3 en 1930. Fue la primera estructura en llegar Una altura de 300 metros. Debido a la adici\xf3n de una antena de transmisi\xf3n en la parte superior de la torre en 1957, ahora es m\xe1s alta que el Chrysler Building en 5,2 metros (17 pies). Excluyendo los transmisores, la Torre Eiffel es la segunda estructura independiente m\xe1s alta de Francia despu\xe9s del Viaducto de Millau."]],["text-generation",["Me llamo Julien y me gusta","Me llamo Thomas y mi principal","Me llamo Manuel y trabajo en","\xc9rase una vez,","Si t\xfa me dices ven, "]],["fill-mask",["Mi nombre es <mask> y vivo en Nueva York.","El espa\xf1ol es un idioma muy <mask> en el mundo."]],["sentence-similarity",[{source_sentence:"Esa es una persona feliz",sentences:["Ese es un perro feliz","Esa es una persona muy feliz","Hoy es un d\xeda soleado"]}]]]),Kg=new Map([["text-classification",["\u0422\u044b \u043c\u043d\u0435 \u043d\u0440\u0430\u0432\u0438\u0448\u044c\u0441\u044f. \u042f \u0442\u0435\u0431\u044f \u043b\u044e\u0431\u043b\u044e"]],["token-classification",["\u041c\u0435\u043d\u044f \u0437\u043e\u0432\u0443\u0442 \u0412\u043e\u043b\u044c\u0444\u0433\u0430\u043d\u0433 \u0438 \u044f \u0436\u0438\u0432\u0443 \u0432 \u0411\u0435\u0440\u043b\u0438\u043d\u0435"]],["question-answering",[{text:"\u0413\u0434\u0435 \u0436\u0438\u0432\u0443?",context:"\u041c\u0435\u043d\u044f \u0437\u043e\u0432\u0443\u0442 \u0412\u043e\u043b\u044c\u0444\u0433\u0430\u043d\u0433 \u0438 \u044f \u0436\u0438\u0432\u0443 \u0432 \u0411\u0435\u0440\u043b\u0438\u043d\u0435"}]],["translation",["\u041c\u0435\u043d\u044f \u0437\u043e\u0432\u0443\u0442 \u0412\u043e\u043b\u044c\u0444\u0433\u0430\u043d\u0433 \u0438 \u044f \u0436\u0438\u0432\u0443 \u0432 \u0411\u0435\u0440\u043b\u0438\u043d\u0435"]],["summarization",["\u0412\u044b\u0441\u043e\u0442\u0430 \u0431\u0430\u0448\u043d\u0438 \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 324 \u043c\u0435\u0442\u0440\u0430 (1063 \u0444\u0443\u0442\u0430), \u043f\u0440\u0438\u043c\u0435\u0440\u043d\u043e \u0442\u0430\u043a\u0430\u044f \u0436\u0435 \u0432\u044b\u0441\u043e\u0442\u0430, \u043a\u0430\u043a \u0443 81-\u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u0437\u0434\u0430\u043d\u0438\u044f, \u0438 \u0441\u0430\u043c\u043e\u0435 \u0432\u044b\u0441\u043e\u043a\u043e\u0435 \u0441\u043e\u043e\u0440\u0443\u0436\u0435\u043d\u0438\u0435 \u0432 \u041f\u0430\u0440\u0438\u0436\u0435. \u0415\u0433\u043e \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u0432\u0430\u0434\u0440\u0430\u0442\u043d\u043e, \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u043c 125 \u043c\u0435\u0442\u0440\u043e\u0432 (410 \u0444\u0443\u0442\u043e\u0432) \u0441 \u043b\u044e\u0431\u043e\u0439 \u0441\u0442\u043e\u0440\u043e\u043d\u044b. \u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u042d\u0439\u0444\u0435\u043b\u0435\u0432\u0430 \u0431\u0430\u0448\u043d\u044f \u043f\u0440\u0435\u0432\u0437\u043e\u0448\u043b\u0430 \u043c\u043e\u043d\u0443\u043c\u0435\u043d\u0442 \u0412\u0430\u0448\u0438\u043d\u0433\u0442\u043e\u043d\u0430, \u0441\u0442\u0430\u0432 \u0441\u0430\u043c\u044b\u043c \u0432\u044b\u0441\u043e\u043a\u0438\u043c \u0438\u0441\u043a\u0443\u0441\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u043c \u0441\u043e\u043e\u0440\u0443\u0436\u0435\u043d\u0438\u0435\u043c \u0432 \u043c\u0438\u0440\u0435, \u0438 \u044d\u0442\u043e\u0442 \u0442\u0438\u0442\u0443\u043b \u043e\u043d\u0430 \u0443\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u043b\u0430 \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 41 \u0433\u043e\u0434\u0430 \u0434\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u0437\u0434\u0430\u043d\u0438\u044f \u041a\u0440\u0430\u0439\u0441\u043b\u0435\u0440 \u0432 \u041d\u044c\u044e-\u0419\u043e\u0440\u043a\u0435 \u0432 1930 \u0433\u043e\u0434\u0443. \u042d\u0442\u043e \u043f\u0435\u0440\u0432\u043e\u0435 \u0441\u043e\u043e\u0440\u0443\u0436\u0435\u043d\u0438\u0435 \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u0434\u043e\u0441\u0442\u0438\u0433\u043b\u043e \u0432\u044b\u0441\u043e\u0442\u044b 300 \u043c\u0435\u0442\u0440\u043e\u0432. \u0418\u0437-\u0437\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u0435\u0449\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0430\u043d\u0442\u0435\u043d\u043d\u044b \u043d\u0430 \u0432\u0435\u0440\u0448\u0438\u043d\u0435 \u0431\u0430\u0448\u043d\u0438 \u0432 1957 \u0433\u043e\u0434\u0443 \u043e\u043d\u0430 \u0441\u0435\u0439\u0447\u0430\u0441 \u0432\u044b\u0448\u0435 \u0437\u0434\u0430\u043d\u0438\u044f \u041a\u0440\u0430\u0439\u0441\u043b\u0435\u0440 \u043d\u0430 5,2 \u043c\u0435\u0442\u0440\u0430 (17 \u0444\u0443\u0442\u043e\u0432). \u0417\u0430 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\u043c \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u0447\u0438\u043a\u043e\u0432, \u042d\u0439\u0444\u0435\u043b\u0435\u0432\u0430 \u0431\u0430\u0448\u043d\u044f \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432\u0442\u043e\u0440\u043e\u0439 \u0441\u0430\u043c\u043e\u0439 \u0432\u044b\u0441\u043e\u043a\u043e\u0439 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e \u0441\u0442\u043e\u044f\u0449\u0435\u0439 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u043e\u0439 \u0432\u043e \u0424\u0440\u0430\u043d\u0446\u0438\u0438 \u043f\u043e\u0441\u043b\u0435 \u0432\u0438\u0430\u0434\u0443\u043a\u0430 \u041c\u0438\u0439\u043e."]],["text-generation",["\u041c\u0435\u043d\u044f \u0437\u043e\u0432\u0443\u0442 \u0416\u044e\u043b\u044c\u0435\u043d \u0438","\u041c\u0435\u043d\u044f \u0437\u043e\u0432\u0443\u0442 \u0422\u043e\u043c\u0430\u0441 \u0438 \u043c\u043e\u0439 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439","\u041e\u0434\u043d\u0430\u0436\u0434\u044b"]],["fill-mask",["\u041c\u0435\u043d\u044f \u0437\u043e\u0432\u0443\u0442 <mask> \u0438 \u044f \u0438\u043d\u0436\u0435\u043d\u0435\u0440 \u0436\u0438\u0432\u0443\u0449\u0438\u0439 \u0432 \u041d\u044c\u044e-\u0419\u043e\u0440\u043a\u0435."]],["sentence-similarity",[{source_sentence:"\u042d\u0442\u043e \u0441\u0447\u0430\u0441\u0442\u043b\u0438\u0432\u044b\u0439 \u0447\u0435\u043b\u043e\u0432\u0435\u043a",sentences:["\u042d\u0442\u043e \u0441\u0447\u0430\u0441\u0442\u043b\u0438\u0432\u0430\u044f \u0441\u043e\u0431\u0430\u043a\u0430","\u042d\u0442\u043e \u043e\u0447\u0435\u043d\u044c \u0441\u0447\u0430\u0441\u0442\u043b\u0438\u0432\u044b\u0439 \u0447\u0435\u043b\u043e\u0432\u0435\u043a","\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0441\u043e\u043b\u043d\u0435\u0447\u043d\u044b\u0439 \u0434\u0435\u043d\u044c"]}]]]),Xg=new Map([["translation",["\u041c\u0435\u043d\u0435 \u0437\u0432\u0430\u0442\u0438 \u0412\u043e\u043b\u044c\u0444\u0491\u0430\u043d\u0491 \u0456 \u044f \u0436\u0438\u0432\u0443 \u0432 \u0411\u0435\u0440\u043b\u0456\u043d\u0456."]],["fill-mask",["\u041c\u0435\u043d\u0435 \u0437\u0432\u0430\u0442\u0438 <mask>."]]]),Jg=new Map([["text-classification",["Mi piaci. Ti amo"]],["token-classification",["Mi chiamo Wolfgang e vivo a Berlino","Mi chiamo Sarah e vivo a Londra","Mi chiamo Clara e vivo a Berkeley in California."]],["question-answering",[{text:"Dove vivo?",context:"Mi chiamo Wolfgang e vivo a Berlino"},{text:"Dove vivo?",context:"Mi chiamo Sarah e vivo a Londra"},{text:"Come mio chiamo?",context:"Mi chiamo Clara e vivo a Berkeley."}]],["translation",["Mi chiamo Wolfgang e vivo a Berlino","Mi chiamo Sarah e vivo a Londra"]],["summarization",["La torre degli Asinelli \xe8 una delle cosiddette due torri di Bologna, simbolo della citt\xe0, situate in piazza di porta Ravegnana, all'incrocio tra le antiche strade San Donato (ora via Zamboni), San Vitale, Maggiore e Castiglione. Eretta, secondo la tradizione, fra il 1109 e il 1119 dal nobile Gherardo Asinelli, la torre \xe8 alta 97,20 metri, pende verso ovest per 2,23 metri e presenta all'interno una scalinata composta da 498 gradini. Ancora non si pu\xf2 dire con certezza quando e da chi fu costruita la torre degli Asinelli. Si presume che la torre debba il proprio nome a Gherardo Asinelli, il nobile cavaliere di fazione ghibellina al quale se ne attribuisce la costruzione, iniziata secondo una consolidata tradizione l'11 ottobre 1109 e terminata dieci anni dopo, nel 1119."]],["text-generation",["Mi chiamo Loreto e mi piace","Mi chiamo Thomas e il mio principale","Mi chiamo Marianna, la mia cosa preferita","Mi chiamo Clara e sono","C'era una volta"]],["fill-mask",["Roma \xe8 la <mask> d'Italia.","Lo scopo della vita \xe8 <mask>."]],["sentence-similarity",[{source_sentence:"Questa \xe8 una persona felice",sentences:["Questo \xe8 un cane felice","Questa \xe8 una persona molto felice","Oggi \xe8 una giornata di sole"]}]]]),Yg=new Map([["text-classification",["\u067e\u0631\u0648\u0698\u0647 \u0628\u0647 \u0645\u0648\u0642\u0639 \u062a\u062d\u0648\u06cc\u0644 \u0634\u062f \u0648 \u0647\u0645\u0647 \u0686\u06cc\u0632 \u062e\u0648\u0628 \u0628\u0648\u062f.","\u0633\u06cc\u0628\u200c\u0632\u0645\u06cc\u0646\u06cc \u0628\u06cc\u200c\u06a9\u06cc\u0641\u06cc\u062a \u0628\u0648\u062f.","\u0642\u06cc\u0645\u062a \u0648 \u06a9\u06cc\u0641\u06cc\u062a \u0639\u0627\u0644\u06cc","\u062e\u0648\u0628 \u0646\u0628\u0648\u062f \u0627\u0635\u0644\u0627"]],["token-classification",["\u0627\u06cc\u0646 \u0633\u0631\u06cc\u0627\u0644 \u0628\u0647 \u0635\u0648\u0631\u062a \u0631\u0633\u0645\u06cc \u062f\u0631 \u062a\u0627\u0631\u06cc\u062e \u062f\u0647\u0645 \u0645\u06cc \u06f2\u06f0\u06f1\u06f1 \u062a\u0648\u0633\u0637 \u0634\u0628\u06a9\u0647 \u0641\u0627\u06a9\u0633 \u0628\u0631\u0627\u06cc \u067e\u062e\u0634 \u0631\u0632\u0631\u0648 \u0634\u062f.","\u062f\u0641\u062a\u0631 \u0645\u0631\u06a9\u0632\u06cc \u0634\u0631\u06a9\u062a \u067e\u0627\u0631\u0633\u200c\u0645\u06cc\u0646\u0648 \u062f\u0631 \u0634\u0647\u0631 \u0627\u0631\u0627\u06a9 \u062f\u0631 \u0627\u0633\u062a\u0627\u0646 \u0645\u0631\u06a9\u0632\u06cc \u0642\u0631\u0627\u0631 \u062f\u0627\u0631\u062f.","\u0648\u06cc \u062f\u0631 \u0633\u0627\u0644 \u06f2\u06f0\u06f1\u06f3 \u062f\u0631\u06af\u0630\u0634\u062a \u0648 \u0645\u0633\u0626\u0648\u0644 \u062e\u0627\u06a9\u0633\u067e\u0627\u0631\u06cc \u0648 \u0627\u0642\u0648\u0627\u0645\u0634 \u0628\u0631\u0627\u06cc \u0627\u0648 \u0645\u0631\u0627\u0633\u0645 \u06cc\u0627\u062f\u0628\u0648\u062f \u06af\u0631\u0641\u062a\u0646\u062f."]],["question-answering",[{text:"\u0645\u0646 \u06a9\u062c\u0627 \u0632\u0646\u062f\u06af\u06cc \u0645\u06cc\u06a9\u0646\u0645\u061f",context:"\u0646\u0627\u0645 \u0645\u0646 \u067e\u0698\u0645\u0627\u0646 \u0627\u0633\u062a \u0648 \u062f\u0631 \u06af\u0631\u06af\u0627\u0646 \u0632\u0646\u062f\u06af\u06cc \u0645\u06cc\u06a9\u0646\u0645."},{text:"\u0646\u0627\u0645\u0645 \u0686\u06cc\u0633\u062a \u0648 \u06a9\u062c\u0627 \u0632\u0646\u062f\u06af\u06cc \u0645\u06cc\u200c\u06a9\u0646\u0645\u061f",context:"\u0627\u0633\u0645\u0645 \u0633\u0627\u0631\u0627 \u0627\u0633\u062a \u0648 \u062f\u0631 \u0622\u0641\u0631\u06cc\u0642\u0627\u06cc \u062c\u0646\u0648\u0628\u06cc \u0632\u0646\u062f\u06af\u06cc \u0645\u06cc\u06a9\u0646\u0645."},{text:"\u0646\u0627\u0645 \u0645\u0646 \u0686\u06cc\u0633\u062a\u061f",context:"\u0645\u0646 \u0645\u0631\u06cc\u0645 \u0647\u0633\u062a\u0645 \u0648 \u062f\u0631 \u062a\u0628\u0631\u06cc\u0632 \u0632\u0646\u062f\u06af\u06cc \u0645\u06cc\u200c\u06a9\u0646\u0645."},{text:"\u0628\u06cc\u0634\u062a\u0631\u06cc\u0646 \u0645\u0633\u0627\u062d\u062a \u062c\u0646\u06af\u0644 \u0622\u0645\u0627\u0632\u0648\u0646 \u062f\u0631 \u06a9\u062f\u0627\u0645 \u06a9\u0634\u0648\u0631 \u0627\u0633\u062a\u061f",context:["\u0622\u0645\u0627\u0632\u0648\u0646 \u0646\u0627\u0645 \u0628\u0632\u0631\u06af\u200c\u062a\u0631\u06cc\u0646 \u062c\u0646\u06af\u0644 \u0628\u0627\u0631\u0627\u0646\u06cc \u062c\u0647\u0627\u0646 \u0627\u0633\u062a \u06a9\u0647 \u062f\u0631 \u0634\u0645\u0627\u0644 \u0622\u0645\u0631\u06cc\u06a9\u0627\u06cc \u062c\u0646\u0648\u0628\u06cc \u0642\u0631\u0627\u0631 \u06af\u0631\u0641\u062a\u0647 \u0648 \u0628\u06cc\u0634\u062a\u0631 \u0622\u0646 \u062f\u0631 \u062e\u0627\u06a9 \u0628\u0631\u0632\u06cc\u0644 \u0648 \u067e\u0631\u0648","\u062c\u0627\u06cc \u062f\u0627\u0631\u062f. \u0628\u06cc\u0634 \u0627\u0632 \u0646\u06cc\u0645\u06cc \u0627\u0632 \u0647\u0645\u0647 \u062c\u0646\u06af\u0644\u200c\u0647\u0627\u06cc \u0628\u0627\u0631\u0627\u0646\u06cc \u0628\u0627\u0642\u06cc\u200c\u0645\u0627\u0646\u062f\u0647 \u062f\u0631 \u062c\u0647\u0627\u0646 \u062f\u0631 \u0622\u0645\u0627\u0632\u0648\u0646 \u0642\u0631\u0627\u0631 \u062f\u0627\u0631\u062f.","\u0645\u0633\u0627\u062d\u062a \u062c\u0646\u06af\u0644\u200c\u0647\u0627\u06cc \u0622\u0645\u0627\u0632\u0648\u0646 \u06f5\u066b\u06f5 \u0645\u06cc\u0644\u06cc\u0648\u0646 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631 \u0645\u0631\u0628\u0639 \u0627\u0633\u062a \u06a9\u0647 \u0628\u06cc\u0646 \u06f9 \u06a9\u0634\u0648\u0631 \u062a\u0642\u0633\u06cc\u0645 \u0634\u062f\u0647\u200c\u0627\u0633\u062a."].join("\n")}]],["translation",["\u0628\u06cc\u0634\u062a\u0631 \u0645\u0633\u0627\u062d\u062a \u062c\u0646\u06af\u0644\u200c\u0647\u0627\u06cc \u0622\u0645\u0627\u0632\u0648\u0646 \u062f\u0631 \u062d\u0648\u0636\u0647 \u0622\u0628\u0631\u06cc\u0632 \u0631\u0648\u062f \u0622\u0645\u0627\u0632\u0648\u0646 \u0648 \u06f1\u06f1\u06f0\u06f0 \u0634\u0627\u062e\u0647 \u0622\u0646 \u0648\u0627\u0642\u0639 \u0634\u062f\u0647\u200c\u0627\u0633\u062a.","\u0645\u0631\u062f\u0645\u0627\u0646 \u0646\u064e\u0628\u064e\u0637\u06cc \u0627\u0632 \u0647\u0632\u0627\u0631\u0647\u200c\u0647\u0627\u06cc \u06cc\u06a9\u0645 \u0648 \u062f\u0648\u0645 \u067e\u06cc\u0634 \u0627\u0632 \u0645\u06cc\u0644\u0627\u062f \u062f\u0631 \u0627\u06cc\u0646 \u0645\u0646\u0637\u0642\u0647 \u0632\u0646\u062f\u06af\u06cc \u0645\u06cc\u200c\u06a9\u0631\u062f\u0646\u062f."]],["summarization",[["\u0634\u0627\u0647\u0646\u0627\u0645\u0647 \u0627\u062b\u0631 \u062d\u06a9\u06cc\u0645 \u0627\u0628\u0648\u0627\u0644\u0642\u0627\u0633\u0645 \u0641\u0631\u062f\u0648\u0633\u06cc \u062a\u0648\u0633\u06cc\u060c \u062d\u0645\u0627\u0633\u0647\u200c\u0627\u06cc \u0645\u0646\u0638\u0648\u0645\u060c \u0628\u0631 \u062d\u0633\u0628 \u062f\u0633\u062a \u0646\u0648\u0634\u062a\u0647\u200c\u0647\u0627\u06cc ","\u0645\u0648\u062c\u0648\u062f \u062f\u0631\u0628\u0631\u06af\u06cc\u0631\u0646\u062f\u0647 \u0646\u0632\u062f\u06cc\u06a9 \u0628\u0647 \u06f5\u06f0\u066c\u06f0\u06f0\u06f0 \u0628\u06cc\u062a \u062a\u0627 \u0646\u0632\u062f\u06cc\u06a9 \u0628\u0647 \u06f6\u06f1\u066c\u06f0\u06f0\u06f0 \u0628\u06cc\u062a \u0648 \u06cc\u06a9\u06cc \u0627\u0632 ","\u0628\u0632\u0631\u06af\u200c\u062a\u0631\u06cc\u0646 \u0648 \u0628\u0631\u062c\u0633\u062a\u0647\u200c\u062a\u0631\u06cc\u0646 \u0633\u0631\u0648\u062f\u0647\u200c\u0647\u0627\u06cc \u062d\u0645\u0627\u0633\u06cc \u062c\u0647\u0627\u0646 \u0627\u0633\u062a \u06a9\u0647 \u0633\u0631\u0627\u06cc\u0634 \u0622\u0646 \u062f\u0633\u062a\u200c\u0622\u0648\u0631\u062f\u0650 ","\u062f\u0633\u062a\u200c\u06a9\u0645 \u0633\u06cc \u0633\u0627\u0644 \u06a9\u0627\u0631\u0650 \u067e\u06cc\u0648\u0633\u062a\u0647\u0654 \u0627\u06cc\u0646 \u0633\u062e\u0646\u200c\u0633\u0631\u0627\u06cc \u0646\u0627\u0645\u062f\u0627\u0631 \u0627\u06cc\u0631\u0627\u0646\u06cc \u0627\u0633\u062a. \u0645\u0648\u0636\u0648\u0639 \u0627\u06cc\u0646 \u0634\u0627\u0647\u06a9\u0627\u0631 \u0627\u062f\u0628\u06cc\u060c"," \u0627\u0641\u0633\u0627\u0646\u0647\u200c\u0647\u0627 \u0648 \u062a\u0627\u0631\u06cc\u062e \u0627\u06cc\u0631\u0627\u0646 \u0627\u0632 \u0622\u063a\u0627\u0632 \u062a\u0627 \u062d\u0645\u0644\u0647\u0654 \u0639\u0631\u0628\u200c\u0647\u0627 \u0628\u0647 \u0627\u06cc\u0631\u0627\u0646 \u062f\u0631 \u0633\u062f\u0647\u0654 \u0647\u0641\u062a\u0645 \u0645\u06cc\u0644\u0627\u062f\u06cc \u0627\u0633\u062a","  (\u0634\u0627\u0647\u0646\u0627\u0645\u0647 \u0627\u0632 \u0633\u0647 \u0628\u062e\u0634 \u0627\u0633\u0637\u0648\u0631\u0647\u060c \u067e\u0647\u0644\u0648\u0627\u0646\u06cc \u0648 \u062a\u0627\u0631\u06cc\u062e\u06cc \u062a\u0634\u06a9\u06cc\u0644 \u0634\u062f\u0647\u200c\u0627\u0633\u062a) \u06a9\u0647 \u062f\u0631 \u0686\u0647\u0627\u0631","   \u062f\u0648\u062f\u0645\u0627\u0646 \u067e\u0627\u062f\u0634\u0627\u0647\u06cc\u0650 \u067e\u06cc\u0634\u062f\u0627\u062f\u06cc\u0627\u0646\u060c \u06a9\u06cc\u0627\u0646\u06cc\u0627\u0646\u060c \u0627\u0634\u06a9\u0627\u0646\u06cc\u0627\u0646 \u0648 \u0633\u0627\u0633\u0627\u0646\u06cc\u0627\u0646 \u06af\u0646\u062c\u0627\u0646\u062f\u0647 \u0645\u06cc\u200c\u0634\u0648\u062f.","    \u0634\u0627\u0647\u0646\u0627\u0645\u0647 \u0628\u0631 \u0648\u0632\u0646 \xab\u0641\u064e\u0639\u0648\u0644\u064f\u0646 \u0641\u0639\u0648\u0644\u0646 \u0641\u0639\u0648\u0644\u0646 \u0641\u064e\u0639\u064e\u0644\u0652\xbb\u060c \u062f\u0631 \u0628\u062d\u0631\u0650 \u0645\u064f\u062a\u064e\u0642\u0627\u0631\u0650\u0628\u0650 \u0645\u062b\u0645\u064e\u0651\u0646\u0650 \u0645\u062d\u0630\u0648\u0641 \u0646\u06af\u0627\u0634\u062a\u0647 \u0634\u062f\u0647\u200c\u0627\u0633\u062a.","\u0647\u0646\u06af\u0627\u0645\u06cc \u06a9\u0647 \u0632\u0628\u0627\u0646 \u062f\u0627\u0646\u0634 \u0648 \u0627\u062f\u0628\u06cc\u0627\u062a \u062f\u0631 \u0627\u06cc\u0631\u0627\u0646 \u0632\u0628\u0627\u0646 \u0639\u0631\u0628\u06cc \u0628\u0648\u062f\u060c \u0641\u0631\u062f\u0648\u0633\u06cc\u060c \u0628\u0627 \u0633\u0631\u0648\u062f\u0646 \u0634\u0627\u0647\u0646\u0627\u0645\u0647"," \u0628\u0627 \u0648\u06cc\u0698\u06af\u06cc\u200c\u0647\u0627\u06cc \u0647\u062f\u0641\u200c\u0645\u0646\u062f\u06cc \u06a9\u0647 \u062f\u0627\u0634\u062a\u060c \u0632\u0628\u0627\u0646 \u067e\u0627\u0631\u0633\u06cc \u0631\u0627 \u0632\u0646\u062f\u0647 \u0648 \u067e\u0627\u06cc\u062f\u0627\u0631 \u06a9\u0631\u062f. \u06cc\u06a9\u06cc \u0627\u0632 "," \u0628\u0646\u200c\u0645\u0627\u06cc\u0647\u200c\u0647\u0627\u06cc \u0645\u0647\u0645\u06cc \u06a9\u0647 \u0641\u0631\u062f\u0648\u0633\u06cc \u0628\u0631\u0627\u06cc \u0633\u0631\u0648\u062f\u0646 \u0634\u0627\u0647\u0646\u0627\u0645\u0647 \u0627\u0632 \u0622\u0646 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0631\u062f\u060c","  \u0634\u0627\u0647\u0646\u0627\u0645\u0647\u0654 \u0627\u0628\u0648\u0645\u0646\u0635\u0648\u0631\u06cc \u0628\u0648\u062f. \u0634\u0627\u0647\u0646\u0627\u0645\u0647 \u0646\u0641\u0648\u0630 \u0628\u0633\u06cc\u0627\u0631\u06cc \u062f\u0631 \u062c\u0647\u062a\u200c\u06af\u06cc\u0631\u06cc ","  \u0641\u0631\u0647\u0646\u06af \u0641\u0627\u0631\u0633\u06cc \u0648 \u0646\u06cc\u0632 \u0628\u0627\u0632\u062a\u0627\u0628\u200c\u0647\u0627\u06cc \u0634\u06a9\u0648\u0647\u200c\u0645\u0646\u062f\u06cc \u062f\u0631 \u0627\u062f\u0628\u06cc\u0627\u062a \u062c\u0647\u0627\u0646 \u062f\u0627\u0634\u062a\u0647\u200c\u0627\u0633\u062a \u0648 \u0634\u0627\u0639\u0631\u0627\u0646 ","  \u0628\u0632\u0631\u06af\u06cc \u0645\u0627\u0646\u0646\u062f \u06af\u0648\u062a\u0647 \u0648 \u0648\u06cc\u06a9\u062a\u0648\u0631 \u0647\u0648\u06af\u0648 \u0627\u0632 \u0622\u0646 \u0628\u0647 \u0646\u06cc\u06a9\u06cc \u06cc\u0627\u062f \u06a9\u0631\u062f\u0647\u200c\u0627\u0646\u062f."].join("\n")]],["text-generation",["\u0627\u0633\u0645 \u0645\u0646 \u0646\u0627\u0632\u0646\u06cc\u0646 \u0627\u0633\u062a \u0648 \u0645\u0646","\u0631\u0648\u0632\u06cc \u0631\u0648\u0632\u06af\u0627\u0631\u06cc"]],["fill-mask",["\u0632\u0646\u062f\u06af\u06cc \u06cc\u06a9 \u0633\u0648\u0627\u0644 \u0627\u0633\u062a \u0648 \u0627\u06cc\u0646 \u06a9\u0647 \u0686\u06af\u0648\u0646\u0647 <mask> \u06a9\u0646\u06cc\u0645 \u067e\u0627\u0633\u062e \u0627\u06cc\u0646 \u0633\u0648\u0627\u0644!","\u0632\u0646\u062f\u06af\u06cc \u0627\u0632 \u0645\u0631\u06af \u067e\u0631\u0633\u06cc\u062f: \u0686\u0631\u0627 \u0647\u0645\u0647 \u0645\u0646 \u0631\u0627 <mask> \u062f\u0627\u0631\u0646\u062f \u0627\u0645\u0627 \u0627\u0632 \u062a\u0648 \u0645\u062a\u0646\u0641\u0631\u0646\u062f\u061f"]]]),Zg=new Map([["text-classification",["\u0623\u062d\u0628\u0643. \u0623\u0647\u0648\u0627\u0643"]],["token-classification",["\u0625\u0633\u0645\u064a \u0645\u062d\u0645\u062f \u0648\u0623\u0633\u0643\u0646 \u0641\u064a \u0628\u0631\u0644\u064a\u0646","\u0625\u0633\u0645\u064a \u0633\u0627\u0631\u0647 \u0648\u0623\u0633\u0643\u0646 \u0641\u064a \u0644\u0646\u062f\u0646","\u0625\u0633\u0645\u064a \u0633\u0627\u0645\u064a \u0648\u0623\u0633\u0643\u0646 \u0641\u064a \u0627\u0644\u0642\u062f\u0633 \u0641\u064a \u0641\u0644\u0633\u0637\u064a\u0646."]],["question-answering",[{text:"\u0623\u064a\u0646 \u0623\u0633\u0643\u0646\u061f",context:"\u0625\u0633\u0645\u064a \u0645\u062d\u0645\u062f \u0648\u0623\u0633\u0643\u0646 \u0641\u064a \u0628\u064a\u0631\u0648\u062a"},{text:"\u0623\u064a\u0646 \u0623\u0633\u0643\u0646\u061f",context:"\u0625\u0633\u0645\u064a \u0633\u0627\u0631\u0647 \u0648\u0623\u0633\u0643\u0646 \u0641\u064a \u0644\u0646\u062f\u0646"},{text:"\u0645\u0627 \u0627\u0633\u0645\u064a\u061f",context:"\u0627\u0633\u0645\u064a \u0633\u0639\u064a\u062f \u0648\u0623\u0633\u0643\u0646 \u0641\u064a \u062d\u064a\u0641\u0627."},{text:"\u0645\u0627 \u0644\u0642\u0628 \u062e\u0627\u0644\u062f \u0628\u0646 \u0627\u0644\u0648\u0644\u064a\u062f \u0628\u0627\u0644\u0639\u0631\u0628\u064a\u0629\u061f",context:"\u062e\u0627\u0644\u062f \u0628\u0646 \u0627\u0644\u0648\u0644\u064a\u062f \u0645\u0646 \u0623\u0628\u0637\u0627\u0644 \u0648\u0642\u0627\u062f\u0629 \u0627\u0644\u0641\u062a\u062d \u0627\u0644\u0625\u0633\u0644\u0627\u0645\u064a \u0648\u0642\u062f \u062a\u062d\u062f\u062b\u062a \u0639\u0646\u0647 \u0627\u0644\u0644\u063a\u0627\u062a \u0627\u0644\u0625\u0646\u062c\u0644\u064a\u0632\u064a\u0629 \u0648\u0627\u0644\u0641\u0631\u0646\u0633\u064a\u0629 \u0648\u0627\u0644\u0625\u0633\u0628\u0627\u0646\u064a\u0629 \u0648\u0644\u0642\u0628 \u0628\u0633\u064a\u0641 \u0627\u0644\u0644\u0647 \u0627\u0644\u0645\u0633\u0644\u0648\u0644."}]],["translation",["\u0625\u0633\u0645\u064a \u0645\u062d\u0645\u062f \u0648\u0623\u0633\u0643\u0646 \u0641\u064a \u0628\u0631\u0644\u064a\u0646","\u0625\u0633\u0645\u064a \u0633\u0627\u0631\u0647 \u0648\u0623\u0633\u0643\u0646 \u0641\u064a \u0644\u0646\u062f\u0646"]],["summarization",["\u062a\u0642\u0639 \u0627\u0644\u0623\u0647\u0631\u0627\u0645\u0627\u062a \u0641\u064a \u0627\u0644\u062c\u064a\u0632\u0629 \u0642\u0631\u0628 \u0627\u0644\u0642\u0627\u0647\u0631\u0629 \u0641\u064a \u0645\u0635\u0631 \u0648\u0642\u062f \u0628\u0646\u064a\u062a \u0645\u0646\u0630 \u0639\u062f\u0629 \u0642\u0631\u0648\u0646\u060c \u0648\u0642\u064a\u0644 \u0625\u0646\u0647\u0627 \u0643\u0627\u0646\u062a \u0642\u0628\u0648\u0631\u0627 \u0644\u0644\u0641\u0631\u0627\u0639\u0646\u0629 \u0648\u062a\u0645 \u0628\u0646\u0627\u0624\u0647\u0627 \u0628\u0639\u0645\u0644\u064a\u0629 \u0647\u0646\u062f\u0633\u064a\u0629 \u0631\u0627\u0626\u0639\u0629 \u0648\u0627\u0633\u062a\u0642\u062f\u0645\u062a \u062d\u062c\u0627\u0631\u062a\u0647\u0627 \u0645\u0646 \u062c\u0628\u0644 \u0627\u0644\u0645\u0642\u0637\u0645 \u0648\u062a\u0645 \u0646\u0642\u0644\u0647\u0627 \u0628\u0627\u0644\u0633\u0641\u0646 \u0623\u0648 \u0639\u0644\u0649 \u0627\u0644\u0631\u0645\u0644\u060c \u0648\u0645\u0627 \u062a\u0632\u0627\u0644 \u0634\u0627\u0645\u062e\u0629 \u0648\u064a\u0642\u0635\u062f\u0647\u0627 \u0627\u0644\u0633\u064a\u0627\u062d \u0645\u0646 \u0643\u0627\u0641\u0629 \u0623\u0631\u062c\u0627\u0621 \u0627\u0644\u0645\u0639\u0645\u0648\u0631\u0629."]],["text-generation",["\u0625\u0633\u0645\u064a \u0645\u062d\u0645\u062f \u0648\u0623\u062d\u0628 \u0623\u0646","\u062f\u0639 \u0627\u0644\u0645\u0643\u0627\u0631\u0645 \u0644\u0627 \u062a\u0631\u062d\u0644 \u0644\u0628\u063a\u064a\u062a\u0647\u0627 - \u0648\u0627\u0642\u0639\u062f \u0641\u0625\u0646\u0643 \u0623\u0646\u062a \u0627\u0644\u0637\u0627\u0639\u0645 \u0627\u0644\u0643\u0627\u0633\u064a.","\u0644\u0645\u0627\u0630\u0627 \u0646\u062d\u0646 \u0647\u0646\u0627\u061f","\u0627\u0644\u0642\u062f\u0633 \u0645\u062f\u064a\u0646\u0629 \u062a\u0627\u0631\u064a\u062e\u064a\u0629\u060c \u0628\u0646\u0627\u0647\u0627 \u0627\u0644\u0643\u0646\u0639\u0627\u0646\u064a\u0648\u0646 \u0641\u064a","\u0643\u0627\u0646 \u064a\u0627 \u0645\u0627 \u0643\u0627\u0646 \u0641\u064a \u0642\u062f\u064a\u0645 \u0627\u0644\u0632\u0645\u0627\u0646"]],["fill-mask",["\u0628\u0627\u0631\u064a\u0633 <mask> \u0641\u0631\u0646\u0633\u0627.","\u0641\u0644\u0633\u0641\u0629 \u0627\u0644\u062d\u064a\u0627\u0629 \u0647\u064a <mask>."]],["sentence-similarity",[{source_sentence:"\u0647\u0630\u0627 \u0634\u062e\u0635 \u0633\u0639\u064a\u062f",sentences:["\u0647\u0630\u0627 \u0643\u0644\u0628 \u0633\u0639\u064a\u062f","\u0647\u0630\u0627 \u0634\u062e\u0635 \u0633\u0639\u064a\u062f \u062c\u062f\u0627","\u0627\u0644\u064a\u0648\u0645 \u0647\u0648 \u064a\u0648\u0645 \u0645\u0634\u0645\u0633"]}]]]),ey=new Map([["text-classification",["\u09ac\u09be\u0999\u09be\u09b2\u09bf\u09b0 \u0998\u09b0\u09c7 \u0998\u09b0\u09c7 \u0986\u099c \u09a8\u09ac\u09be\u09a8\u09cd\u09a8 \u0989\u09ce\u09b8\u09ac\u0964"]],["token-classification",["\u0986\u09ae\u09be\u09b0 \u09a8\u09be\u09ae \u099c\u09be\u09b9\u09bf\u09a6 \u098f\u09ac\u0982 \u0986\u09ae\u09bf \u09a2\u09be\u0995\u09be\u09df \u09ac\u09be\u09b8 \u0995\u09b0\u09bf\u0964","\u09a4\u09bf\u09a8\u09bf \u0997\u09c1\u0997\u09b2\u09c7 \u099a\u09be\u0995\u09b0\u09c0 \u0995\u09b0\u09c7\u09a8\u0964","\u0986\u09ae\u09be\u09b0 \u09a8\u09be\u09ae \u09b8\u09c1\u09b8\u09cd\u09ae\u09bf\u09a4\u09be \u098f\u09ac\u0982 \u0986\u09ae\u09bf \u0995\u09b2\u0995\u09be\u09a4\u09be\u09df \u09ac\u09be\u09b8 \u0995\u09b0\u09bf\u0964"]],["translation",["\u0986\u09ae\u09be\u09b0 \u09a8\u09be\u09ae \u099c\u09be\u09b9\u09bf\u09a6, \u0986\u09ae\u09bf \u09b0\u0982\u09aa\u09c1\u09b0\u09c7 \u09ac\u09be\u09b8 \u0995\u09b0\u09bf\u0964","\u0986\u09aa\u09a8\u09bf \u0995\u09c0 \u0986\u099c\u0995\u09c7 \u09ac\u09be\u09b8\u09be\u09df \u0986\u09b8\u09ac\u09c7\u09a8?"]],["summarization",["\u2018\u0987\u0995\u09cb\u09a8\u09ae\u09bf\u09b8\u09cd\u099f\u2019 \u09b2\u09bf\u0996\u09c7\u099b\u09c7, \u0985\u09cd\u09af\u09be\u09a8\u09cd\u099f\u09bf\u09ac\u09a1\u09bf\u09b0 \u099a\u09be\u09b0 \u09ae\u09be\u09b8 \u09b8\u09cd\u09a5\u09be\u09df\u09c0 \u09b9\u0993\u09df\u09be\u09b0 \u0996\u09ac\u09b0\u099f\u09bf \u09a6\u09c1\u0987 \u0995\u09be\u09b0\u09a3\u09c7 \u0986\u09a8\u09a8\u09cd\u09a6\u09c7\u09b0\u0964 \u0985\u09cd\u09af\u09be\u09a8\u09cd\u099f\u09bf\u09ac\u09a1\u09bf \u09af\u09a4 \u09a6\u09bf\u09a8 \u09aa\u09b0\u09cd\u09af\u09a8\u09cd\u09a4 \u09b6\u09b0\u09c0\u09b0\u09c7 \u099f\u09bf\u0995\u09ac\u09c7, \u09a4\u09a4 \u09a6\u09bf\u09a8 \u09b8\u0982\u0995\u09cd\u09b0\u09ae\u09a3 \u09a5\u09c7\u0995\u09c7 \u09b8\u09c1\u09b0\u0995\u09cd\u09b7\u09bf\u09a4 \u09a5\u09be\u0995\u09be \u09b8\u09ae\u09cd\u09ad\u09ac\u0964 \u0985\u09b0\u09cd\u09a5\u09be\u09ce, \u098f\u09ae\u09a8 \u098f\u0995 \u099f\u09bf\u0995\u09be\u09b0 \u09aa\u09cd\u09b0\u09df\u09cb\u099c\u09a8 \u09b9\u09ac\u09c7, \u09af\u09be \u0985\u09cd\u09af\u09be\u09a8\u09cd\u099f\u09bf\u09ac\u09a1\u09bf\u09b0 \u0989\u09a4\u09cd\u09aa\u09be\u09a6\u09a8\u0995\u09c7 \u09aa\u09cd\u09b0\u09b0\u09cb\u099a\u09bf\u09a4 \u0995\u09b0\u09a4\u09c7 \u09aa\u09be\u09b0\u09c7 \u098f\u09ac\u0982 \u09a6\u09c0\u09b0\u09cd\u0998\u09b8\u09cd\u09a5\u09be\u09df\u09c0 \u09b8\u09c1\u09b0\u0995\u09cd\u09b7\u09be \u09a6\u09bf\u09a4\u09c7 \u09aa\u09be\u09b0\u09c7\u0964 \u098f\u0997\u09c1\u09b2\u09cb \u0996\u09c1\u0981\u099c\u09c7 \u09ac\u09c7\u09b0 \u0995\u09b0\u09be\u0993 \u09b8\u09b9\u099c\u0964 \u098f\u099f\u09bf \u0986\u09ad\u09be\u09b8 \u09a6\u09c7\u09df, \u09ac\u09cd\u09af\u09be\u09aa\u0995 \u09b9\u09be\u09b0\u09c7 \u0985\u09cd\u09af\u09be\u09a8\u09cd\u099f\u09bf\u09ac\u09a1\u09bf \u09b6\u09a8\u09be\u0995\u09cd\u09a4\u0995\u09b0\u09a3 \u09ab\u09b2\u09be\u09ab\u09b2 \u09ae\u09cb\u099f\u09be\u09ae\u09c1\u099f\u09bf \u09a8\u09bf\u09b0\u09cd\u09ad\u09c1\u09b2 \u09b9\u0993\u09df\u09be \u0989\u099a\u09bf\u09a4\u0964 \u09a6\u09cd\u09ac\u09bf\u09a4\u09c0\u09df \u0986\u09b0\u09c7\u0995\u099f\u09bf \u0997\u09ac\u09c7\u09b7\u09a3\u09be\u09b0 \u09a8\u09c7\u09a4\u09c3\u09a4\u09cd\u09ac \u09a6\u09bf\u09df\u09c7\u099b\u09c7\u09a8 \u09af\u09c1\u0995\u09cd\u09a4\u09b0\u09be\u099c\u09cd\u09af\u09c7\u09b0 \u09ae\u09c7\u09a1\u09bf\u0995\u09c7\u09b2 \u09b0\u09bf\u09b8\u09be\u09b0\u09cd\u099a \u0995\u09be\u0989\u09a8\u09cd\u09b8\u09bf\u09b2\u09c7\u09b0 (\u098f\u09ae\u0986\u09b0\u09b8\u09bf) \u0987\u09ae\u09bf\u0989\u09a8\u09cb\u09b2\u099c\u09bf\u09b8\u09cd\u099f \u09a4\u09be\u0993 \u09a6\u0982\u0964 \u09a4\u09bf\u09a8\u09bf \u099f\u09bf-\u09b8\u09c7\u09b2 \u09b6\u09a8\u09be\u0995\u09cd\u09a4\u0995\u09b0\u09a3\u09c7 \u0995\u09be\u099c \u0995\u09b0\u09c7\u099b\u09c7\u09a8\u0964 \u099f\u09bf-\u09b8\u09c7\u09b2 \u09b6\u09a8\u09be\u0995\u09cd\u09a4\u0995\u09b0\u09a3\u09c7\u09b0 \u09aa\u09cd\u09b0\u0995\u09cd\u09b0\u09bf\u09df\u09be \u0985\u09ac\u09b6\u09cd\u09af \u0985\u09cd\u09af\u09be\u09a8\u09cd\u099f\u09bf\u09ac\u09a1\u09bf\u09b0 \u09ae\u09a4\u09cb \u098f\u09a4 \u0986\u09b2\u09cb\u099a\u09bf\u09a4 \u09a8\u09df\u0964 \u09a4\u09ac\u09c7 \u09b8\u0982\u0995\u09cd\u09b0\u09ae\u09a3\u09c7\u09b0 \u09ac\u09bf\u09b0\u09c1\u09a6\u09cd\u09a7\u09c7 \u09b2\u09dc\u09be\u0987 \u098f\u09ac\u0982 \u09a6\u09c0\u09b0\u09cd\u0998\u09ae\u09c7\u09df\u09be\u09a6\u09bf \u09b8\u09c1\u09b0\u0995\u09cd\u09b7\u09be\u09df \u09b8\u09ae\u09be\u09a8 \u0997\u09c1\u09b0\u09c1\u09a4\u09cd\u09ac\u09aa\u09c2\u09b0\u09cd\u09a3 \u09ad\u09c2\u09ae\u09bf\u0995\u09be \u09aa\u09be\u09b2\u09a8 \u0995\u09b0\u09c7\u0964 \u0997\u09ac\u09c7\u09b7\u09a3\u09be\u09b8\u0982\u0995\u09cd\u09b0\u09be\u09a8\u09cd\u09a4 \u09a8\u09bf\u09ac\u09a8\u09cd\u09a7 \u09aa\u09cd\u09b0\u0995\u09be\u09b6\u09bf\u09a4 \u09b9\u09df\u09c7\u099b\u09c7 \u2018\u09a8\u09c7\u099a\u09be\u09b0 \u0987\u09ae\u09bf\u0989\u09a8\u09cb\u09b2\u099c\u09bf\u2019 \u09b8\u09be\u09ae\u09df\u09bf\u0995\u09c0\u09a4\u09c7\u0964 \u09a4\u09be\u0981\u09b0\u09be \u09ac\u09b2\u099b\u09c7\u09a8, \u0997\u09ac\u09c7\u09b7\u09a3\u09be\u09b0 \u0995\u09cd\u09b7\u09c7\u09a4\u09cd\u09b0\u09c7 \u0995\u09cb\u09ad\u09bf\u09a1-\u09e7\u09ef \u09ae\u09c3\u09a6\u09c1 \u09b8\u0982\u0995\u09cd\u09b0\u09ae\u09a3\u09c7\u09b0 \u09b6\u09bf\u0995\u09be\u09b0 \u09e8\u09ee \u09ac\u09cd\u09af\u0995\u09cd\u09a4\u09bf\u09b0 \u09b0\u0995\u09cd\u09a4\u09c7\u09b0 \u09a8\u09ae\u09c1\u09a8\u09be, \u09e7\u09ea \u099c\u09a8 \u0997\u09c1\u09b0\u09c1\u09a4\u09b0 \u0985\u09b8\u09c1\u09b8\u09cd\u09a5 \u0993 \u09e7\u09ec \u099c\u09a8 \u09b8\u09c1\u09b8\u09cd\u09a5 \u09ac\u09cd\u09af\u0995\u09cd\u09a4\u09bf\u09b0 \u09b0\u0995\u09cd\u09a4\u09c7\u09b0 \u09a8\u09ae\u09c1\u09a8\u09be \u09aa\u09b0\u09c0\u0995\u09cd\u09b7\u09be \u0995\u09b0\u09c7\u099b\u09c7\u09a8\u0964 \u0997\u09ac\u09c7\u09b7\u09a3\u09be \u09a8\u09bf\u09ac\u09a8\u09cd\u09a7\u09c7 \u09ac\u09b2\u09be \u09b9\u09df, \u09b8\u0982\u0995\u09cd\u09b0\u09ae\u09bf\u09a4 \u09ac\u09cd\u09af\u0995\u09cd\u09a4\u09bf\u09a6\u09c7\u09b0 \u0995\u09cd\u09b7\u09c7\u09a4\u09cd\u09b0\u09c7 \u099f\u09bf-\u09b8\u09c7\u09b2\u09c7\u09b0 \u09a4\u09c0\u09ac\u09cd\u09b0 \u09aa\u09cd\u09b0\u09a4\u09bf\u0995\u09cd\u09b0\u09bf\u09df\u09be \u09a4\u09be\u0981\u09b0\u09be \u09a6\u09c7\u0996\u09c7\u099b\u09c7\u09a8\u0964 \u098f \u0995\u09cd\u09b7\u09c7\u09a4\u09cd\u09b0\u09c7 \u09ae\u09c3\u09a6\u09c1 \u0993 \u0997\u09c1\u09b0\u09c1\u09a4\u09b0 \u0985\u09b8\u09c1\u09b8\u09cd\u09a5 \u09ac\u09cd\u09af\u0995\u09cd\u09a4\u09bf\u09a6\u09c7\u09b0 \u0995\u09cd\u09b7\u09c7\u09a4\u09cd\u09b0\u09c7 \u09aa\u09cd\u09b0\u09a4\u09bf\u0995\u09cd\u09b0\u09bf\u09df\u09be\u09b0 \u09ad\u09bf\u09a8\u09cd\u09a8\u09a4\u09be \u09aa\u09be\u0993\u09df\u09be \u0997\u09c7\u099b\u09c7\u0964"]],["text-generation",["\u0986\u09ae\u09bf \u09b0\u09a4\u09a8 \u098f\u09ac\u0982 \u0986\u09ae\u09bf","\u09a4\u09c1\u09ae\u09bf \u09af\u09a6\u09bf \u099a\u09be\u0993 \u09a4\u09ac\u09c7","\u09ae\u09bf\u09a5\u09bf\u09b2\u09be \u0986\u099c\u0995\u09c7 \u09ac\u09a1\u09cd\u09a1"]],["fill-mask",["\u0986\u09ae\u09bf \u09ac\u09be\u0982\u09b2\u09be\u09df <mask> \u0997\u09be\u0987\u0964","\u0986\u09ae\u09bf <mask> \u0996\u09c1\u09ac \u09ad\u09be\u09b2\u09cb\u09ac\u09be\u09b8\u09bf\u0964 "]],["question-answering",[{text:"\u09aa\u09cd\u09b0\u09a5\u09ae \u098f\u09b6\u09bf\u09af\u09bc\u09be \u0995\u09be\u09aa \u0995\u09cd\u09b0\u09bf\u0995\u09c7\u099f \u099f\u09c1\u09b0\u09cd\u09a8\u09be\u09ae\u09c7\u09a8\u09cd\u099f \u0995\u09cb\u09a5\u09be\u09df \u0985\u09a8\u09c1\u09b7\u09cd\u09a0\u09bf\u09a4 \u09b9\u09df ?",context:"\u09aa\u09cd\u09b0\u09a5\u09ae \u099f\u09c1\u09b0\u09cd\u09a8\u09be\u09ae\u09c7\u09a8\u09cd\u099f \u0985\u09a8\u09c1\u09b7\u09cd\u09a0\u09bf\u09a4 \u09b9\u09af\u09bc \u09e7\u09ef\u09ee\u09ea \u09b8\u09be\u09b2\u09c7 \u09b8\u0982\u09af\u09c1\u0995\u09cd\u09a4 \u0986\u09b0\u09ac \u0986\u09ae\u09bf\u09b0\u09be\u09a4 \u098f\u09b0 \u09b6\u09be\u09b0\u099c\u09be\u09b9 \u09a4\u09c7 \u09af\u09c7\u0996\u09be\u09a8\u09c7 \u0995\u09be\u0989\u09a8\u09cd\u09b8\u09bf\u09b2\u09c7\u09b0 \u09ae\u09c2\u09b2 \u0985\u09ab\u09bf\u09b8 \u099b\u09bf\u09b2 (\u09e7\u09ef\u09ef\u09eb \u09aa\u09b0\u09cd\u09af\u09a8\u09cd\u09a4)\u0964 \u09ad\u09be\u09b0\u09a4 \u09b6\u09cd\u09b0\u09c0\u09b2\u0999\u09cd\u0995\u09be\u09b0 \u09b8\u09be\u09a5\u09c7 \u0986\u09a8\u09cd\u09a4\u09b0\u09bf\u0995\u09a4\u09be\u09b9\u09c0\u09a8 \u0995\u09cd\u09b0\u09bf\u0995\u09c7\u099f \u09b8\u09ae\u09cd\u09aa\u09b0\u09cd\u0995\u09c7\u09b0 \u0995\u09be\u09b0\u09a3\u09c7 \u09e7\u09ef\u09ee\u09ec \u09b8\u09be\u09b2\u09c7\u09b0 \u099f\u09c1\u09b0\u09cd\u09a8\u09be\u09ae\u09c7\u09a8\u09cd\u099f \u09ac\u09b0\u09cd\u099c\u09a8 \u0995\u09b0\u09c7\u0964 \u09e7\u09ef\u09ef\u09e9 \u09b8\u09be\u09b2\u09c7 \u09ad\u09be\u09b0\u09a4 \u0993 \u09aa\u09be\u0995\u09bf\u09b8\u09cd\u09a4\u09be\u09a8 \u098f\u09b0 \u09ae\u09a7\u09cd\u09af\u09c7 \u09b0\u09be\u099c\u09a8\u09c8\u09a4\u09bf\u0995 \u0985\u09b8\u09cd\u09a5\u09bf\u09b0\u09a4\u09be\u09b0 \u0995\u09be\u09b0\u09a3\u09c7 \u098f\u099f\u09bf \u09ac\u09be\u09a4\u09bf\u09b2 \u09b9\u09af\u09bc\u09c7 \u09af\u09be\u09af\u09bc\u0964 \u09b6\u09cd\u09b0\u09c0\u09b2\u0999\u09cd\u0995\u09be \u098f\u09b6\u09bf\u09af\u09bc\u09be \u0995\u09be\u09aa \u09b6\u09c1\u09b0\u09c1 \u09a5\u09c7\u0995\u09c7 \u0985\u0982\u09b6 \u0997\u09cd\u09b0\u09b9\u09a3 \u0995\u09b0\u09c7 \u0986\u09b8\u099b\u09c7\u0964 \u0986\u09a8\u09cd\u09a4\u09b0\u09cd\u099c\u09be\u09a4\u09bf\u0995 \u0995\u09cd\u09b0\u09bf\u0995\u09c7\u099f \u0995\u09be\u0989\u09a8\u09cd\u09b8\u09bf\u09b2 \u09a8\u09bf\u09af\u09bc\u09ae \u0995\u09b0\u09c7 \u09a6\u09bf\u09af\u09bc\u09c7\u099b\u09c7 \u09af\u09c7 \u098f\u09b6\u09bf\u09af\u09bc\u09be \u0995\u09be\u09aa\u09c7\u09b0 \u09b8\u0995\u09b2 \u0996\u09c7\u09b2\u09be \u0985\u09a8\u09c1\u09b7\u09cd\u09a0\u09bf\u09a4 \u09b9\u09ac\u09c7 \u0985\u09ab\u09bf\u09b8\u09bf\u09af\u09bc\u09be\u09b2 \u098f\u0995\u09a6\u09bf\u09a8\u09c7\u09b0 \u0986\u09a8\u09cd\u09a4\u09b0\u09cd\u099c\u09be\u09a4\u09bf\u0995 \u0995\u09cd\u09b0\u09bf\u0995\u09c7\u099f \u09b9\u09bf\u09b8\u09c7\u09ac\u09c7\u0964 \u098f\u09b8\u09bf\u09b8\u09bf \u0998\u09cb\u09b7\u09a8\u09be \u0985\u09a8\u09c1\u09af\u09be\u09af\u09bc\u09c0 \u09aa\u09cd\u09b0\u09a4\u09bf \u09a6\u09c1\u0987 \u09ac\u099b\u09b0 \u09aa\u09b0 \u09aa\u09b0 \u099f\u09c1\u09b0\u09cd\u09a8\u09be\u09ae\u09c7\u09a8\u09cd\u099f \u0985\u09a8\u09c1\u09b7\u09cd\u09a0\u09bf\u09a4 \u09b9\u09af\u09bc \u09e8\u09e6\u09e6\u09ee \u09b8\u09be\u09b2 \u09a5\u09c7\u0995\u09c7\u0964"},{text:"\u09ad\u09be\u09b0\u09a4\u09c0\u09af\u09bc \u09ac\u09be\u0999\u09be\u09b2\u09bf \u0995\u09a5\u09be\u09b8\u09be\u09b9\u09bf\u09a4\u09cd\u09af\u09bf\u0995 \u09ae\u09b9\u09be\u09b6\u09cd\u09ac\u09c7\u09a4\u09be \u09a6\u09c7\u09ac\u09c0\u09b0 \u09ae\u09c3\u09a4\u09cd\u09af\u09c1 \u0995\u09ac\u09c7 \u09b9\u09df ?",context:"\u09e8\u09e6\u09e7\u09ec \u09b8\u09be\u09b2\u09c7\u09b0 \u09e8\u09e9 \u099c\u09c1\u09b2\u09be\u0987 \u09b9\u09c3\u09a6\u09b0\u09cb\u0997\u09c7 \u0986\u0995\u09cd\u09b0\u09be\u09a8\u09cd\u09a4 \u09b9\u09af\u09bc\u09c7 \u09ae\u09b9\u09be\u09b6\u09cd\u09ac\u09c7\u09a4\u09be \u09a6\u09c7\u09ac\u09c0 \u0995\u09b2\u0995\u09be\u09a4\u09be\u09b0 \u09ac\u09c7\u09b2 \u09ad\u09bf\u0989 \u0995\u09cd\u09b2\u09bf\u09a8\u09bf\u0995\u09c7 \u09ad\u09b0\u09cd\u09a4\u09bf \u09b9\u09a8\u0964 \u09b8\u09c7\u0987 \u09ac\u099b\u09b0\u0987 \u09e8\u09ee \u099c\u09c1\u09b2\u09be\u0987 \u098f\u0995\u09be\u09a7\u09bf\u0995 \u0985\u0999\u09cd\u0997 \u09ac\u09bf\u0995\u09b2 \u09b9\u09af\u09bc\u09c7 \u09a4\u09be\u0981\u09b0 \u09ae\u09c3\u09a4\u09cd\u09af\u09c1 \u0998\u099f\u09c7\u0964 \u09a4\u09bf\u09a8\u09bf \u09ae\u09a7\u09c1\u09ae\u09c7\u09b9, \u09b8\u09c7\u09aa\u09cd\u099f\u09bf\u09b8\u09c7\u09ae\u09bf\u09af\u09bc\u09be \u0993 \u09ae\u09c2\u09a4\u09cd\u09b0 \u09b8\u0982\u0995\u09cd\u09b0\u09ae\u09a3 \u09b0\u09cb\u0997\u09c7\u0993 \u09ad\u09c1\u0997\u099b\u09bf\u09b2\u09c7\u09a8\u0964"},{text:"\u09ae\u09be\u09b8\u09cd\u099f\u09be\u09b0\u09a6\u09be \u09b8\u09c2\u09b0\u09cd\u09af\u0995\u09c1\u09ae\u09be\u09b0 \u09b8\u09c7\u09a8\u09c7\u09b0 \u09ac\u09be\u09ac\u09be\u09b0 \u09a8\u09be\u09ae \u0995\u09c0 \u099b\u09bf\u09b2 ?",context:"\u09b8\u09c2\u09b0\u09cd\u09af \u09b8\u09c7\u09a8 \u09e7\u09ee\u09ef\u09ea \u09b8\u09be\u09b2\u09c7\u09b0 \u09e8\u09e8 \u09ae\u09be\u09b0\u09cd\u099a \u099a\u099f\u09cd\u099f\u0997\u09cd\u09b0\u09be\u09ae\u09c7\u09b0 \u09b0\u09be\u0989\u099c\u09be\u09a8 \u09a5\u09be\u09a8\u09be\u09b0 \u09a8\u09cb\u09af\u09bc\u09be\u09aa\u09be\u09a1\u09bc\u09be\u09af\u09bc \u0985\u09b0\u09cd\u09a5\u09a8\u09c8\u09a4\u09bf\u0995 \u09ad\u09be\u09ac\u09c7 \u0985\u09b8\u09cd\u09ac\u099a\u09cd\u099b\u09b2 \u09aa\u09b0\u09bf\u09ac\u09be\u09b0\u09c7 \u099c\u09a8\u09cd\u09ae\u0997\u09cd\u09b0\u09b9\u09a3 \u0995\u09b0\u09c7\u09a8\u0964 \u09a4\u09be\u0981\u09b0 \u09aa\u09bf\u09a4\u09be\u09b0 \u09a8\u09be\u09ae \u09b0\u09be\u099c\u09ae\u09a8\u09bf \u09b8\u09c7\u09a8 \u098f\u09ac\u0982 \u09ae\u09be\u09a4\u09be\u09b0 \u09a8\u09be\u09ae \u09b6\u09b6\u09c0 \u09ac\u09be\u09b2\u09be \u09b8\u09c7\u09a8\u0964 \u09b0\u09be\u099c\u09ae\u09a8\u09bf \u09b8\u09c7\u09a8\u09c7\u09b0 \u09a6\u09c1\u0987 \u099b\u09c7\u09b2\u09c7 \u0986\u09b0 \u099a\u09be\u09b0 \u09ae\u09c7\u09af\u09bc\u09c7\u0964 \u09b8\u09c2\u09b0\u09cd\u09af \u09b8\u09c7\u09a8 \u09a4\u09be\u0981\u09a6\u09c7\u09b0 \u09aa\u09b0\u09bf\u09ac\u09be\u09b0\u09c7\u09b0 \u099a\u09a4\u09c1\u09b0\u09cd\u09a5 \u09b8\u09a8\u09cd\u09a4\u09be\u09a8\u0964 \u09a6\u09c1\u0987 \u099b\u09c7\u09b2\u09c7\u09b0 \u09a8\u09be\u09ae \u09b8\u09c2\u09b0\u09cd\u09af \u0993 \u0995\u09ae\u09b2\u0964 \u099a\u09be\u09b0 \u09ae\u09c7\u09af\u09bc\u09c7\u09b0 \u09a8\u09be\u09ae \u09ac\u09b0\u09a6\u09be\u09b8\u09c1\u09a8\u09cd\u09a6\u09b0\u09c0, \u09b8\u09be\u09ac\u09bf\u09a4\u09cd\u09b0\u09c0, \u09ad\u09be\u09a8\u09c1\u09ae\u09a4\u09c0 \u0993 \u09aa\u09cd\u09b0\u09ae\u09bf\u09b2\u09be\u0964 \u09b6\u09c8\u09b6\u09ac\u09c7 \u09aa\u09bf\u09a4\u09be \u09ae\u09be\u09a4\u09be\u0995\u09c7 \u09b9\u09be\u09b0\u09be\u09a8\u09cb \u09b8\u09c2\u09b0\u09cd\u09af \u09b8\u09c7\u09a8 \u0995\u09be\u0995\u09be \u0997\u09cc\u09b0\u09ae\u09a8\u09bf \u09b8\u09c7\u09a8\u09c7\u09b0 \u0995\u09be\u099b\u09c7 \u09ae\u09be\u09a8\u09c1\u09b7 \u09b9\u09af\u09bc\u09c7\u099b\u09c7\u09a8\u0964 \u09b8\u09c2\u09b0\u09cd\u09af \u09b8\u09c7\u09a8 \u099b\u09c7\u09b2\u09c7\u09ac\u09c7\u09b2\u09be \u09a5\u09c7\u0995\u09c7\u0987 \u0996\u09c1\u09ac \u09ae\u09a8\u09cb\u09af\u09cb\u0997\u09c0 \u09ad\u09be\u09b2 \u099b\u09be\u09a4\u09cd\u09b0 \u099b\u09bf\u09b2\u09c7\u09a8 \u098f\u09ac\u0982 \u09a7\u09b0\u09cd\u09ae\u09ad\u09be\u09ac\u09be\u09aa\u09a8\u09cd\u09a8 \u0997\u09ae\u09cd\u09ad\u09c0\u09b0 \u09aa\u09cd\u09b0\u0995\u09c3\u09a4\u09bf\u09b0 \u099b\u09bf\u09b2\u09c7\u09a8\u0964"}]],["sentence-similarity",[{source_sentence:"\u09b8\u09c7 \u098f\u0995\u099c\u09a8 \u09b8\u09c1\u0996\u09c0 \u09ac\u09cd\u09af\u0995\u09cd\u09a4\u09bf",sentences:["\u09b8\u09c7 \u09b9\u09cd\u09af\u09be\u09aa\u09bf \u0995\u09c1\u0995\u09c1\u09b0","\u09b8\u09c7 \u0996\u09c1\u09ac \u09b8\u09c1\u0996\u09c0 \u09ae\u09be\u09a8\u09c1\u09b7","\u0986\u099c \u098f\u0995\u099f\u09bf \u09b0\u09cc\u09a6\u09cd\u09b0\u09cb\u099c\u09cd\u099c\u09cd\u09ac\u09b2 \u09a6\u09bf\u09a8"]}]]]),ty=new Map([["text-classification",["\u0411\u0438 \u0447\u0430\u043c\u0434 \u0445\u0430\u0439\u0440\u0442\u0430\u0439"]],["token-classification",["\u041d\u0430\u043c\u0430\u0439\u0433 \u0414\u043e\u0440\u0436 \u0433\u044d\u0434\u044d\u0433. \u0411\u0438 \u0423\u043b\u0430\u0430\u043d\u0431\u0430\u0430\u0442\u0430\u0440\u0442 \u0430\u043c\u044c\u0434\u0430\u0440\u0434\u0430\u0433.","\u041d\u0430\u043c\u0430\u0439\u0433 \u0413\u0430\u043d\u0431\u0430\u0442 \u0433\u044d\u0434\u044d\u0433. \u0411\u0438 \u0423\u0432\u0441 \u0430\u0439\u043c\u0430\u0433\u0442 \u0442\u04e9\u0440\u0441\u04e9\u043d.","\u041c\u0430\u043d\u0430\u0439 \u0443\u043b\u0441 \u0442\u0430\u0432\u0430\u043d \u0445\u043e\u0448\u0443\u0443 \u043c\u0430\u043b\u0442\u0430\u0439."]],["question-answering",[{text:"\u0422\u0430 \u0445\u0430\u0430\u043d\u0430 \u0430\u043c\u044c\u0434\u0430\u0440\u0434\u0430\u0433 \u0432\u044d?",context:"\u041d\u0430\u043c\u0430\u0439\u0433 \u0414\u043e\u0440\u0436 \u0433\u044d\u0434\u044d\u0433. \u0411\u0438 \u0423\u043b\u0430\u0430\u043d\u0431\u0430\u0430\u0442\u0430\u0440\u0442 \u0430\u043c\u044c\u0434\u0430\u0440\u0434\u0430\u0433."},{text:"\u0422\u0430\u043d\u044b\u0433 \u0445\u044d\u043d \u0433\u044d\u0434\u044d\u0433 \u0432\u044d?",context:"\u041d\u0430\u043c\u0430\u0439\u0433 \u0414\u043e\u0440\u0436 \u0433\u044d\u0434\u044d\u0433. \u0411\u0438 \u0423\u043b\u0430\u0430\u043d\u0431\u0430\u0430\u0442\u0430\u0440\u0442 \u0430\u043c\u044c\u0434\u0430\u0440\u0434\u0430\u0433."},{text:"\u041c\u0438\u043d\u0438\u0439 \u043d\u044d\u0440\u0438\u0439\u0433 \u0445\u044d\u043d \u0433\u044d\u0434\u044d\u0433 \u0432\u044d?",context:"\u041d\u0430\u043c\u0430\u0439\u0433 \u0413\u0430\u043d\u0431\u0430\u0442 \u0433\u044d\u0434\u044d\u0433. \u0411\u0438 \u0423\u0432\u0441 \u0430\u0439\u043c\u0430\u0433\u0442 \u0442\u04e9\u0440\u0441\u04e9\u043d."}]],["translation",["\u041d\u0430\u043c\u0430\u0439\u0433 \u0414\u043e\u0440\u0436 \u0433\u044d\u0434\u044d\u0433. \u0411\u0438 \u0423\u043b\u0430\u0430\u043d\u0431\u0430\u0430\u0442\u0430\u0440\u0442 \u0430\u043c\u044c\u0434\u0430\u0440\u0434\u0430\u0433.","\u041d\u0430\u043c\u0430\u0439\u0433 \u0413\u0430\u043d\u0431\u0430\u0442 \u0433\u044d\u0434\u044d\u0433. \u0411\u0438 \u0423\u0432\u0441 \u0430\u0439\u043c\u0430\u0433\u0442 \u0442\u04e9\u0440\u0441\u04e9\u043d."]],["summarization",["\u041c\u043e\u043d\u0433\u043e\u043b \u0423\u043b\u0441 (1992 \u043e\u043d\u043e\u043e\u0441 \u0445\u043e\u0439\u0448) \u2014 \u0434\u043e\u0440\u043d\u043e \u0431\u043e\u043b\u043e\u043d \u0442\u04e9\u0432 \u0410\u0437\u0438\u0434 \u043e\u0440\u0448\u0434\u043e\u0433 \u0431\u04af\u0440\u044d\u043d \u044d\u0440\u0445\u0442 \u0443\u043b\u0441. \u0425\u043e\u0439\u0434 \u0442\u0430\u043b\u0430\u0430\u0440\u0430\u0430 \u041e\u0440\u043e\u0441, \u0431\u0443\u0441\u0430\u0434 \u0442\u0430\u043b\u0430\u0430\u0440\u0430\u0430 \u0425\u044f\u0442\u0430\u0434 \u0443\u043b\u0441\u0442\u0430\u0439 \u0445\u0438\u043b\u043b\u044d\u0434\u044d\u0433 \u0434\u0430\u043b\u0430\u0439\u0434 \u0433\u0430\u0440\u0446\u0433\u04af\u0439 \u043e\u0440\u043e\u043d. \u041d\u0438\u0439\u0441\u043b\u044d\u043b \u2014 \u0423\u043b\u0430\u0430\u043d\u0431\u0430\u0430\u0442\u0430\u0440 \u0445\u043e\u0442. \u0410\u043b\u0442\u0430\u0439\u043d \u043d\u0443\u0440\u0443\u0443\u043d\u0430\u0430\u0441 \u0425\u044f\u043d\u0433\u0430\u043d, \u0421\u043e\u0451\u043d\u043e\u043e\u0441 \u0413\u043e\u0432\u044c \u0445\u04af\u0440\u0441\u044d\u043d 1 \u0441\u0430\u044f 566 \u043c\u044f\u043d\u0433\u0430\u043d \u043a\u043c2 \u0443\u0443\u0434\u0430\u043c \u043d\u0443\u0442\u0430\u0433\u0442\u0430\u0439, \u0434\u044d\u043b\u0445\u0438\u0439\u0434 \u043d\u0443\u0442\u0430\u0433 \u0434\u044d\u0432\u0441\u0433\u044d\u0440\u0438\u0439\u043d \u0445\u044d\u043c\u0436\u044d\u044d\u0433\u044d\u044d\u0440 19-\u0440\u0442 \u0436\u0430\u0433\u0441\u0434\u0430\u0433. 2015 \u043e\u043d\u044b \u044d\u0445\u044d\u043d\u0434 \u041c\u043e\u043d\u0433\u043e\u043b \u0423\u043b\u0441\u044b\u043d \u0445\u04af\u043d \u0430\u043c 3 \u0441\u0430\u044f \u0445\u04af\u0440\u0441\u044d\u043d (135-\u0440 \u043e\u043b\u043e\u043d). \u04ae\u043d\u0434\u0441\u044d\u043d\u0434\u044d\u044d \u043c\u043e\u043d\u0433\u043e\u043b \u04af\u043d\u0434\u044d\u0441\u0442\u044d\u043d (95 \u0445\u0443\u0432\u044c), \u043c\u04e9\u043d \u0445\u0430\u0441\u0430\u0433, \u0442\u0443\u0432\u0430 \u0445\u04af\u043d \u0431\u0430\u0439\u043d\u0430. 16-\u0440 \u0437\u0443\u0443\u043d\u0430\u0430\u0441 \u0445\u043e\u0439\u0448 \u0431\u0443\u0434\u0434\u044b\u043d \u0448\u0430\u0448\u0438\u043d, 20-\u0440 \u0437\u0443\u0443\u043d\u0430\u0430\u0441 \u0448\u0430\u0448\u0438\u043d\u0433\u04af\u0439 \u0431\u0430\u0439\u0434\u0430\u043b \u0434\u044d\u043b\u0433\u044d\u0440\u0441\u044d\u043d \u0431\u0430 \u0430\u043b\u0431\u0430\u043d \u0445\u044d\u0440\u044d\u0433\u0442 \u043c\u043e\u043d\u0433\u043e\u043b \u0445\u044d\u043b\u044d\u044d\u0440 \u0445\u0430\u0440\u0438\u043b\u0446\u0430\u043d\u0430."]],["text-generation",["\u041d\u0430\u043c\u0430\u0439\u0433 \u0414\u043e\u0440\u0436 \u0433\u044d\u0434\u044d\u0433. \u0411\u0438","\u0425\u0430\u043c\u0433\u0438\u0439\u043d \u0441\u0430\u0439\u043d \u0434\u0443\u0443\u0447\u0438\u043d \u0431\u043e\u043b","\u041c\u0438\u043d\u0438\u0439 \u0434\u0443\u0440\u0442\u0430\u0439 \u0445\u0430\u043c\u0442\u043b\u0430\u0433 \u0431\u043e\u043b","\u042d\u0440\u0442 \u0443\u0440\u044c\u0434\u044b\u043d \u0446\u0430\u0433\u0442"]],["fill-mask",["\u041c\u043e\u043d\u0433\u043e\u043b \u0443\u043b\u0441\u044b\u043d <mask> \u0423\u043b\u0430\u0430\u043d\u0431\u0430\u0430\u0442\u0430\u0440 \u0445\u043e\u0442\u043e\u043e\u0441 \u044f\u0440\u044c\u0436 \u0431\u0430\u0439\u043d\u0430.","\u041c\u0438\u043d\u0438\u0439 \u0430\u043c\u044c\u0434\u0440\u0430\u043b\u044b\u043d \u0437\u043e\u0440\u0438\u043b\u0433\u043e \u0431\u043e\u043b <mask>."]],["automatic-speech-recognition",[{label:"Common Voice Train Example",src:"https://cdn-media.huggingface.co/common_voice/train/common_voice_mn_18577472.wav"},{label:"Common Voice Test Example",src:"https://cdn-media.huggingface.co/common_voice/test/common_voice_mn_18577346.wav"}]],["text-to-speech",["\u0411\u0438 \u041c\u043e\u043d\u0433\u043e\u043b \u0443\u043b\u0441\u044b\u043d \u0438\u0440\u0433\u044d\u043d.","\u042d\u043d\u044d\u0445\u04af\u04af \u0436\u0438\u0448\u044d\u044d \u043d\u044c \u0446\u0430\u0430\u043d\u0430\u0430 \u044f\u043c\u0430\u0440 \u0447 \u0443\u0442\u0433\u0430 \u0430\u0433\u0443\u0443\u043b\u0430\u0430\u0433\u04af\u0439 \u0431\u043e\u043b\u043d\u043e","\u0421\u0430\u0440 \u0448\u0438\u043d\u044d\u0434\u044d\u044d \u0441\u0430\u0439\u0445\u0430\u043d \u0448\u0438\u043d\u044d\u043b\u044d\u0436 \u0431\u0430\u0439\u043d\u0430 \u0443\u0443?"]],["sentence-similarity",[{source_sentence:"\u042d\u043d\u044d \u0431\u043e\u043b \u0430\u0437 \u0436\u0430\u0440\u0433\u0430\u043b\u0442\u0430\u0439 \u0445\u04af\u043d \u044e\u043c",sentences:["\u042d\u043d\u044d \u0431\u043e\u043b \u0430\u0437 \u0436\u0430\u0440\u0433\u0430\u043b\u0442\u0430\u0439 \u043d\u043e\u0445\u043e\u0439 \u044e\u043c","\u042d\u043d\u044d \u0431\u043e\u043b \u043c\u0430\u0448 \u0438\u0445 \u0430\u0437 \u0436\u0430\u0440\u0433\u0430\u043b\u0442\u0430\u0439 \u0445\u04af\u043d \u044e\u043c","\u04e8\u043d\u04e9\u04e9\u0434\u04e9\u0440 \u043d\u0430\u0440\u043b\u0430\u0433 \u04e9\u0434\u04e9\u0440 \u0431\u0430\u0439\u043d\u0430"]}]]]),ny=new Map([["translation",["\u0dc3\u0dd2\u0d82\u0dc4\u0dbd \u0d89\u0dad\u0dcf \u0d85\u0dbd\u0d82\u0d9a\u0dcf\u0dbb \u0db7\u0dcf\u0dc2\u0dcf\u0dc0\u0d9a\u0dd2.","\u0db8\u0dd9\u0db8 \u0dad\u0dcf\u0d9a\u0dca\u0dc2\u0dab\u0dba \u0db7\u0dcf\u0dc0\u0dd2\u0dad\u0dcf \u0d9a\u0dbb\u0db1 \u0d94\u0db6\u0da7 \u0dc3\u0dca\u0dad\u0dd6\u0dad\u0dd2\u0dba\u0dd2."]],["fill-mask",["\u0db8\u0db8 \u0d9c\u0dd9\u0daf\u0dbb <mask>.","<mask> \u0d89\u0d9c\u0dd9\u0db1\u0dd3\u0db8\u0da7 \u0d9c\u0dd2\u0dba\u0dcf\u0dba."]]]),ry=new Map([["question-answering",[{text:"Wo wohne ich?",context:"Mein Name ist Wolfgang und ich lebe in Berlin"},{text:"Welcher Name wird auch verwendet, um den Amazonas-Regenwald auf Englisch zu beschreiben?",context:'Der Amazonas-Regenwald, auf Englisch auch als Amazonien oder Amazonas-Dschungel bekannt, ist ein feuchter Laubwald, der den gr\xf6\xdften Teil des Amazonas-Beckens S\xfcdamerikas bedeckt. Dieses Becken umfasst 7.000.000 Quadratkilometer (2.700.000 Quadratmeilen), von denen 5.500.000 Quadratkilometer (2.100.000 Quadratmeilen) vom Regenwald bedeckt sind. Diese Region umfasst Gebiete von neun Nationen. Der gr\xf6\xdfte Teil des Waldes befindet sich in Brasilien mit 60% des Regenwaldes, gefolgt von Peru mit 13%, Kolumbien mit 10% und geringen Mengen in Venezuela, Ecuador, Bolivien, Guyana, Suriname und Franz\xf6sisch-Guayana. Staaten oder Abteilungen in vier Nationen enthalten "Amazonas" in ihren Namen. Der Amazonas repr\xe4sentiert mehr als die H\xe4lfte der verbleibenden Regenw\xe4lder des Planeten und umfasst den gr\xf6\xdften und artenreichsten tropischen Regenwald der Welt mit gesch\xe4tzten 390 Milliarden Einzelb\xe4umen, die in 16.000 Arten unterteilt sind.'}]],["sentence-similarity",[{source_sentence:"Das ist eine gl\xfcckliche Person",sentences:["Das ist ein gl\xfccklicher Hund","Das ist eine sehr gl\xfcckliche Person","Heute ist ein sonniger Tag"]}]]]),iy=new Map([["text-classification",["\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0782\u07b0 \u078e\u07a6\u0794\u07a7\u0788\u07ad. \u0787\u07a6\u0780\u07a6\u0783\u07ac\u0782\u07b0 \u078d\u07af\u0784\u07a8\u0788\u07ad"]],["token-classification",["\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0782\u07b0\u078e\u07ac \u0782\u07a6\u0789\u07a6\u0786\u07a9 \u0787\u07a6\u0780\u07aa\u0789\u07a6\u078b\u07aa \u0787\u07a6\u078b\u07a8 \u0787\u07a6\u0780\u07a6\u0783\u07ac\u0782\u07b0 \u078b\u07a8\u0783\u07a8\u0787\u07aa\u0785\u07ac\u0782\u07a9 \u0789\u07a7\u078d\u07ad\u078e\u07a6","\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0782\u07b0\u078e\u07ac \u0782\u07a6\u0789\u07a6\u0786\u07a9 \u0790\u07a7\u0783\u07a7 \u0787\u07a6\u078b\u07a8 \u0787\u07a6\u0780\u07a6\u0783\u07ac\u0782\u07b0 \u078b\u07a8\u0783\u07a8\u0787\u07aa\u0785\u07ac\u0782\u07a9 \u0787\u07aa\u078c\u07a9\u0789\u07aa\u078e\u07a6","\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0782\u07b0\u078e\u07ac \u0782\u07a6\u0789\u07a6\u0786\u07a9 \u0787\u07a6\u0787\u07a8\u079d\u07a7 \u0787\u07a6\u078b\u07a8 \u0787\u07a6\u0780\u07a6\u0783\u07ac\u0782\u07b0 \u078b\u07a8\u0783\u07a8\u0787\u07aa\u0785\u07ac\u0782\u07a9 \u078a\u07ad\u078b\u07ab\u060c \u0787\u07a6\u0787\u07b0\u0791\u07ab\u078e\u07a6"]],["question-answering",[{text:"\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0782\u07b0 \u078b\u07a8\u0783\u07a8\u0787\u07aa\u0785\u07ac\u0782\u07a9 \u0786\u07ae\u0782\u07b0\u078c\u07a7\u0786\u07aa\u061f",context:"\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0782\u07b0\u078e\u07ac \u0782\u07a6\u0789\u07a6\u0786\u07a9 \u0787\u07a6\u0780\u07aa\u0789\u07a6\u078b\u07aa \u0787\u07a6\u078b\u07a8 \u0787\u07a6\u0780\u07a6\u0783\u07ac\u0782\u07b0 \u078b\u07a8\u0783\u07a8\u0787\u07aa\u0785\u07ac\u0782\u07a9 \u0789\u07a7\u078d\u07ad\u078e\u07a6"},{text:"\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0782\u07b0 \u078b\u07a8\u0783\u07a8\u0787\u07aa\u0785\u07ac\u0782\u07a9 \u0786\u07ae\u0782\u07b0\u078c\u07a7\u0786\u07aa\u061f",context:"\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0782\u07b0\u078e\u07ac \u0782\u07a6\u0789\u07a6\u0786\u07a9 \u0790\u07a7\u0783\u07a7 \u0787\u07a6\u078b\u07a8 \u0787\u07a6\u0780\u07a6\u0783\u07ac\u0782\u07b0 \u078b\u07a8\u0783\u07a8\u0787\u07aa\u0785\u07ac\u0782\u07a9 \u0787\u07aa\u078c\u07a9\u0789\u07aa\u078e\u07a6"},{text:"\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0782\u07b0\u078e\u07ac \u0782\u07a6\u0789\u07a6\u0786\u07a9 \u0786\u07ae\u0784\u07a7\u061f",context:"\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0782\u07b0\u078e\u07ac \u0782\u07a6\u0789\u07a6\u0786\u07a9 \u0787\u07a6\u0787\u07a8\u079d\u07a7 \u0787\u07a6\u078b\u07a8 \u0787\u07a6\u0780\u07a6\u0783\u07ac\u0782\u07b0 \u078b\u07a8\u0783\u07a8\u0787\u07aa\u0785\u07ac\u0782\u07a9 \u078a\u07ad\u078b\u07ab\u078e\u07a6"},{text:"\u0787\u07ac\u0789\u07ad\u0792\u07a6\u0782\u07b0 \u0783\u07ac\u0787\u07a8\u0782\u07b0\u078a\u07ae\u0783\u07ac\u0790\u07b0\u0793\u07b0 \u0790\u07a8\u078a\u07a6\u0786\u07ae\u0781\u07b0\u078b\u07a8\u0782\u07aa\u0789\u07a6\u0781\u07b0 \u0787\u07a8\u0782\u078e\u07a8\u0783\u07ad\u0790\u07a8 \u0784\u07a6\u0780\u07aa\u0782\u07b0 \u0784\u07ad\u0782\u07aa\u0782\u07b0\u0786\u07aa\u0783\u07a7\u0782\u07a9 \u0786\u07ae\u0782\u07b0\u0782\u07a6\u0789\u07ac\u0787\u07b0\u061f",context:'\u0787\u07ac\u0789\u07ad\u0792\u07a6\u0782\u07b0 \u0783\u07ac\u0787\u07a8\u0782\u07b0\u078a\u07ae\u0783\u07ac\u0790\u07b0\u0793\u07b0 (\u0795\u07af\u0797\u07aa\u0796\u07a9\u0792\u07b0: \u078a\u07b0\u078d\u07ae\u0783\u07ac\u0790\u07b0\u0793\u07a7 \u0787\u07ac\u0789\u07a6\u0790\u07ae\u0782\u07a8\u0786\u07a7 \u0782\u07aa\u0788\u07a6\u078c\u07a6 \u0787\u07ac\u0789\u07a6\u0790\u07ae\u0782\u07a8\u0787\u07a7\u061b \u0790\u07b0\u0795\u07ac\u0782\u07a8\u079d\u07b0: \u0790\u07ac\u078d\u07b0\u0788\u07a7 \u0787\u07ac\u0789\u07a6\u0790\u07ae\u0782\u07a8\u0786\u07a7, \u0787\u07ac\u0789\u07a6\u0790\u07ae\u0782\u07a8\u0787\u07a7 \u0782\u07ab\u0782\u07a9 \u0787\u07a7\u0782\u07b0\u0789\u07aa\u0786\u07ae\u0781\u07b0 \u0787\u07ac\u0789\u07a6\u0792\u07af\u0782\u07a8\u0787\u07a7\u061b \u078a\u07b0\u0783\u07ac\u0782\u07b0\u0797\u07b0: \u078a\u07ae\u0783\u07ad \u0787\u07ac\u0789\u07ac\u0792\u07ae\u0782\u07a8\u0787\u07ac\u0782\u07b0\u061b \u0791\u07a6\u0797\u07b0: \u0787\u07ac\u0789\u07ac\u0792\u07af\u0782\u07b0\u0783\u07ad\u078e\u07ac\u0788\u07a6\u0787\u07aa\u0791\u07b0)\u060c \u0787\u07a8\u078e\u07a8\u0783\u07ad\u0790\u07a8 \u0784\u07a6\u0780\u07aa\u0782\u07b0 \u0784\u07aa\u0782\u07a7 \u0787\u07ac\u0789\u07ac\u0792\u07af\u0782\u07a8\u0787\u07a7 \u0782\u07aa\u0788\u07a6\u078c\u07a6 \u078b\u07a6 \u0787\u07ac\u0789\u07ad\u0792\u07a6\u0782\u07b0 \u0796\u07a6\u0782\u07b0\u078e\u07a6\u078d\u07b0 \u0787\u07a6\u0786\u07a9, \u0790\u07a6\u0787\u07aa\u078c\u07aa \u0787\u07ac\u0789\u07ac\u0783\u07a8\u0786\u07a7\u078e\u07ac \u0787\u07ac\u0789\u07ad\u0792\u07a6\u0782\u07b0 \u0784\u07ad\u0790\u07a8\u0782\u07b0 \u0790\u07a6\u0783\u07a6\u0780\u07a6\u0787\u07b0\u078b\u07aa\u078e\u07ac \u0784\u07ae\u0791\u07aa\u0784\u07a6\u0787\u07ac\u0787\u07b0\u078e\u07a6\u0787\u07a8 \u0780\u07a8\u0789\u07ac\u0782\u07ad \u0789\u07ae\u0787\u07a8\u0790\u07b0\u0793\u07b0 \u0784\u07ae\u0783\u07af\u0791\u07b0\u078d\u07a9\u078a\u07b0 \u078a\u07ae\u0783\u07ac\u0790\u07b0\u0793\u07ac\u0787\u07ac\u0786\u07ac\u0788\u07ac. \u0787\u07ac\u0789\u07ad\u0792\u07a6\u0782\u07b0 \u0784\u07ad\u0790\u07a8\u0782\u07b0 \u0790\u07a6\u0783\u07a6\u0780\u07a6\u0787\u07b0\u078b\u07aa\u078e\u07ac \u0784\u07ae\u0791\u07aa \u0789\u07a8\u0782\u07a6\u0786\u07a9 7 \u0789\u07a8\u078d\u07a8\u0787\u07a6\u0782\u07b0 \u0787\u07a6\u0786\u07a6 \u0786\u07a8\u078d\u07af\u0789\u07a9\u0793\u07a6\u0783 (2.7 \u0789\u07a8\u078d\u07a8\u0787\u07a6\u0782\u07b0 \u0787\u07a6\u0786\u07a6 \u0789\u07a6\u0787\u07a8\u078d\u07b0(. \u0789\u07a9\u078e\u07ac \u078c\u07ac\u0783\u07ac\u0787\u07a8\u0782\u07b0 5.5 \u0789\u07a8\u078d\u07a8\u0787\u07a6\u0782\u07b0 \u0787\u07a6\u0786\u07a6 \u0786\u07a8\u078d\u07af\u0789\u07a9\u0793\u07a6\u0783 (2.1 \u0789\u07a8\u078d\u07a8\u0787\u07a6\u0782\u07b0 \u0787\u07a6\u0786\u07a6 \u0789\u07a6\u0787\u07a8\u078d\u07b0) \u0787\u07a6\u0786\u07a9 \u0789\u07a8 \u078a\u07ae\u0783\u07ac\u0790\u07b0\u0793\u07ac\u0788\u07ac. \u0789\u07a8 \u0790\u07a6\u0783\u07a6\u0780\u07a6\u0787\u07b0\u078b\u07aa\u078e\u07a6\u0787\u07a8 9 \u078e\u07a6\u0787\u07aa\u0789\u07a6\u0786\u07a6\u0781\u07b0 \u0782\u07a8\u0790\u07b0\u0784\u07a6\u078c\u07b0\u0788\u07a7 \u0793\u07ac\u0783\u07a8\u0793\u07a6\u0783\u07a9 \u0780\u07a8\u0789\u07ac\u0782\u07ac\u0787\u07ac\u0788\u07ac.  60% \u0787\u07a7\u0787\u07a8\u0787\u07ac\u0786\u07ac \u0787\u07ac\u0782\u07b0\u0789\u07ac \u0784\u07ae\u0791\u07aa \u0784\u07a6\u0787\u07ac\u0787\u07b0 \u0782\u07a8\u0790\u07b0\u0784\u07a6\u078c\u07b0\u0788\u07a6\u0782\u07a9 \u0784\u07b0\u0783\u07ac\u0792\u07a8\u078d\u07b0\u0787\u07a6\u0781\u07ac\u0788\u07ac. \u0787\u07ad\u078e\u07ac \u078a\u07a6\u0780\u07aa\u078c\u07aa\u0782\u07b0 13% \u0787\u07a7\u0787\u07ac\u0786\u07aa \u0795\u07ac\u0783\u07ab \u0787\u07a7\u0787\u07a8 10% \u0787\u07a7\u0787\u07ac\u0786\u07aa \u0786\u07ae\u078d\u07a6\u0789\u07b0\u0784\u07a8\u0787\u07a7 \u0787\u07a6\u078b\u07a8 \u0786\u07aa\u0791\u07a6 \u0784\u07a6\u0787\u07ac\u0787\u07b0 \u0780\u07a8\u0789\u07ac\u0782\u07ad \u078e\u07ae\u078c\u07aa\u0782\u07b0 \u0788\u07ac\u0782\u07ac\u0792\u07aa\u0787\u07ac\u078d\u07a7, \u0787\u07ac\u0786\u07b0\u0787\u07a6\u0791\u07af, \u0784\u07ae\u078d\u07a8\u0788\u07a8\u0787\u07a7, \u078e\u07aa\u0794\u07a7\u0782\u07a7, \u0790\u07aa\u0783\u07a8\u0782\u07a7\u0789\u07b0 \u0787\u07a6\u078b\u07a8 \u078a\u07b0\u0783\u07ac\u0782\u07b0\u0797\u07b0 \u078e\u07b0\u0787\u07a7\u0782\u07a7 \u0787\u07a6\u0781\u07b0 \u0788\u07ac\u0790\u07b0 \u0782\u07a8\u0790\u07b0\u0784\u07a6\u078c\u07b0\u0788\u07ac\u0787\u07ac\u0788\u07ac. \u0789\u07a9\u078e\u07ac \u078c\u07ac\u0783\u07ac\u0787\u07a8\u0782\u07b0 4 \u078e\u07a6\u0787\u07aa\u0789\u07ac\u0787\u07b0\u078e\u07a6\u0787\u07a8 "\u0787\u07ac\u0789\u07ac\u0792\u07ae\u0782\u07a7\u0790\u07b0" \u0780\u07a8\u0789\u07a6\u0782\u07a6\u0787\u07a8\u078e\u07ac\u0782\u07b0 \u0790\u07b0\u0793\u07ad\u0793\u07b0 \u0782\u07aa\u0788\u07a6\u078c\u07a6 \u0791\u07a8\u0795\u07a7\u0793\u07b0\u0789\u07a6\u0782\u07b0\u0793\u07b0 \u0787\u07a6\u0786\u07a6\u0781\u07b0 \u0782\u07a6\u0782\u07b0\u078b\u07a9\u078a\u07a6\u0787\u07a8\u0788\u07ac\u0787\u07ac\u0788\u07ac. \u0789\u07aa\u0785\u07a8 \u078b\u07aa\u0782\u07a8\u0794\u07ad\u078e\u07a6\u0787\u07a8 \u0784\u07a7\u0786\u07a9 \u0780\u07aa\u0783\u07a8 \u0783\u07ac\u0787\u07a8\u0782\u07b0\u078a\u07ae\u0783\u07ac\u0790\u07b0\u0793\u07b0\u078e\u07ac \u078c\u07ac\u0783\u07ac\u0787\u07a8\u0782\u07b0 \u078b\u07ac\u0784\u07a6\u0787\u07a8\u0786\u07aa\u0785\u07a6 \u0787\u07ac\u0787\u07b0\u0784\u07a6\u0794\u07a6\u0781\u07b0\u0788\u07aa\u0783\u07ac\u0784\u07ae\u0791\u07aa\u0788\u07a6\u0783\u07ac\u0787\u07b0 \u0787\u07ac\u0789\u07ad\u0792\u07ae\u0782\u07b0 \u0783\u07ac\u0787\u07a8\u0782\u07b0\u078a\u07ae\u0783\u07ac\u0790\u07b0\u0793\u07b0 \u0780\u07a8\u0787\u07b0\u0790\u07a7\u0786\u07aa\u0783\u07ac\u0787\u07ac\u0788\u07ac. \u0789\u07a8\u0787\u07a9 \u0789\u07aa\u0785\u07a8 \u078b\u07aa\u0782\u07a8\u0794\u07ac\u0787\u07a8\u0782\u07b0 \u0787\u07ac\u0782\u07b0\u0789\u07ae \u0784\u07ae\u0791\u07aa \u0787\u07a6\u078b\u07a8 \u0787\u07ac\u0782\u07b0\u0789\u07ac \u0784\u07a6\u0787\u07ae\u0791\u07a6\u0787\u07a8\u0788\u07a6\u0783\u0790\u07b0 \u0783\u07ac\u0787\u07a8\u0782\u07b0\u078a\u07ae\u0783\u07ac\u0790\u07b0\u0793\u07b0 \u0793\u07b0\u0783\u07ac\u0786\u07b0\u0793\u07ac\u0788\u07ac. \u078d\u07a6\u078a\u07a7\u0786\u07aa\u0783\u07ac\u0788\u07ad \u078e\u07ae\u078c\u07aa\u0782\u07b0 16 \u0780\u07a7\u0790\u07b0 \u0790\u07b0\u0795\u07a9\u079d\u07a9\u0790\u07b0\u0787\u07a6\u0781\u07b0 \u0784\u07ac\u0780\u07a8\u078e\u07ac\u0782\u07b0\u0788\u07a7 390 \u0789\u07a8\u078d\u07a8\u0787\u07a6\u0782\u07b0 \u0788\u07a6\u0787\u07b0\u078c\u07a6\u0783\u07aa\u078e\u07ac \u078e\u07a6\u0790\u07b0 \u0789\u07a8\u078c\u07a7\u078e\u07a6\u0787\u07a8 \u0780\u07a8\u0789\u07ac\u0782\u07ac\u0787\u07ac\u0788\u07ac'}]],["translation",["\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0782\u07b0\u078e\u07ac \u0782\u07a6\u0789\u07a6\u0786\u07a9 \u0787\u07a6\u0780\u07aa\u0789\u07a6\u078b\u07aa \u0787\u07a6\u078b\u07a8 \u0787\u07a6\u0780\u07a6\u0783\u07ac\u0782\u07b0 \u078b\u07a8\u0783\u07a8\u0787\u07aa\u0785\u07ac\u0782\u07a9 \u0789\u07a7\u078d\u07ad\u078e\u07a6","\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0782\u07b0\u078e\u07ac \u0782\u07a6\u0789\u07a6\u0786\u07a9 \u0790\u07a7\u0783\u07a7 \u0787\u07a6\u078b\u07a8 \u0787\u07a6\u0780\u07a6\u0783\u07ac\u0782\u07b0 \u078b\u07a8\u0783\u07a8\u0787\u07aa\u0785\u07ac\u0782\u07a9 \u0787\u07aa\u078c\u07a9\u0789\u07aa\u078e\u07a6"]],["summarization",["\u0793\u07a6\u0788\u07a6\u0783\u07aa\u078e\u07ac \u0787\u07aa\u0790\u07b0\u0789\u07a8\u0782\u07a6\u0786\u07a9 324 \u0789\u07a9\u0793\u07a6\u0783\u07aa\u060c \u0787\u07ac\u0787\u07a9 \u078e\u07a7\u078c\u07b0\u078e\u07a6\u0782\u0791\u07a6\u0786\u07a6\u0781\u07b0 81 \u0784\u07aa\u0783\u07a9\u078e\u07ac \u0787\u07a8\u0789\u07a7\u0783\u07a7\u078c\u07a6\u0786\u07a7\u0787\u07a8 \u0787\u07ac\u0787\u07b0\u0788\u07a6\u0783\u07ac\u0788\u07ac. \u0787\u07ac\u0787\u07a9 \u0795\u07ac\u0783\u07a8\u0790\u07b0\u078e\u07a6\u0787\u07a8 \u0780\u07aa\u0783\u07a8 \u0787\u07ac\u0782\u07b0\u0789\u07ac \u0787\u07aa\u0790\u07b0 \u0787\u07a8\u0789\u07a7\u0783\u07a7\u078c\u07ac\u0788\u07ac. \u0787\u07ad\u078e\u07ac \u0780\u07a6\u078c\u07a6\u0783\u07ac\u0790\u07b0\u0786\u07a6\u0782\u07a6\u0781\u07b0 \u0780\u07aa\u0783\u07a8 \u0784\u07aa\u0791\u07aa\u078e\u07ac \u078b\u07a8\u078e\u07aa\u0789\u07a8\u0782\u07a6\u0786\u07a9 \u0786\u07ae\u0782\u07b0\u0789\u07ac \u078a\u07a6\u0783\u07a7\u078c\u07a6\u0786\u07aa\u0782\u07b0 125 \u0789\u07a9\u0793\u07a6\u0783\u07ac\u0788\u07ac. (410 \u078a\u07ab\u0793\u07aa) \u0787\u07a6\u0787\u07a8\u078a\u07a8\u078d\u07b0 \u0793\u07a6\u0788\u07a6\u0783\u07aa \u0784\u07a8\u0782\u07a7\u0786\u07aa\u0783\u07a8 \u0787\u07a8\u0783\u07aa\u060c \u0788\u07ae\u079d\u07a8\u0782\u07b0\u078e\u07b0\u0793\u07a6\u0782\u07b0 \u0789\u07ae\u0782\u07a8\u0787\u07aa\u0789\u07ac\u0782\u07b0\u0793\u07b0\u078e\u07ac \u0787\u07aa\u0790\u07b0\u0789\u07a8\u0782\u07b0 \u078a\u07a6\u0780\u07a6\u0782\u07a6\u0787\u07a6\u0785\u07a7 \u078e\u07ae\u0790\u07b0\u060c \u078b\u07aa\u0782\u07a8\u0794\u07ad\u078e\u07a6\u0787\u07a8 \u0789\u07a9\u0780\u07aa\u0782\u07b0 \u0787\u07aa\u078a\u07ac\u0787\u07b0\u078b\u07a8 \u078c\u07a6\u0782\u07b0\u078c\u07a6\u0782\u07aa\u078e\u07ac \u078c\u07ac\u0783\u07ac\u0787\u07a8\u0782\u07b0 \u0787\u07ac\u0782\u07b0\u0789\u07ac \u0787\u07aa\u0790\u07b0 \u078c\u07a6\u0782\u07aa\u078e\u07ac \u078d\u07a6\u078e\u07a6\u0784\u07aa \u078d\u07a8\u0784\u07aa\u0782\u07ac\u0788\u07ac. \u0787\u07a6\u078b\u07a8 1930 \u078e\u07a6\u0787\u07a8 \u0782\u07a8\u0787\u07aa \u0794\u07af\u0786\u07b0\u078e\u07ac \u0786\u07b0\u0783\u07a6\u0787\u07a8\u0790\u07b0\u078d\u07a6\u0783 \u0784\u07a8\u078d\u07b0\u0791\u07a8\u0782\u07b0\u078e\u07b0 \u0784\u07a8\u0782\u07a7\u0786\u07aa\u0783\u07aa\u0789\u07a7\u0787\u07a8 \u0780\u07a6\u0789\u07a6\u0787\u07a6\u0781\u07b0 41 \u0787\u07a6\u0780\u07a6\u0783\u07aa \u0788\u07a6\u0782\u07b0\u078b\u07ac\u0782\u07b0 \u0789\u07a8\u078d\u07a6\u078e\u07a6\u0784\u07aa \u0780\u07a8\u078a\u07ac\u0780\u07ac\u0787\u07b0\u0793\u07a8\u0787\u07ac\u0788\u07ac. \u0789\u07a8\u0787\u07a9 300 \u0789\u07a9\u0793\u07a6\u0783\u07a6\u0781\u07b0 \u0788\u07aa\u0783\u07ac \u0787\u07aa\u0790\u07b0\u0786\u07ae\u0781\u07b0 \u0787\u07a8\u0789\u07a7\u0783\u07a7\u078c\u07b0\u0786\u07aa\u0783\u07ac\u0788\u07aa\u0782\u07aa \u078a\u07aa\u0783\u07a6\u078c\u07a6\u0789\u07a6 \u078c\u07a6\u0782\u07ac\u0788\u07ac. 1957 \u078e\u07a6\u0787\u07a8 \u0793\u07a6\u0788\u07a6\u0783\u07aa\u078e\u07ac \u0787\u07ac\u0782\u07b0\u0789\u07ac \u0789\u07a6\u078c\u07a9\u078e\u07a6\u0787\u07a8 \u0780\u07a6\u0783\u07aa\u0786\u07aa\u0783\u07ac\u0788\u07aa\u0782\u07aa \u0784\u07b0\u0783\u07af\u0791\u07b0\u0786\u07a7\u0790\u07b0\u0793\u07a8\u0782\u07b0\u078e \u0787\u07ad\u0783\u07a8\u0787\u07a6\u078d\u07b0\u078e\u07ac \u0790\u07a6\u0784\u07a6\u0784\u07aa\u0782\u07b0 \u0789\u07a8\u0780\u07a7\u0783\u07aa \u0789\u07a8 \u0793\u07a6\u0788\u07a6\u0783\u07aa \u0786\u07b0\u0783\u07a6\u0787\u07a8\u0790\u07b0\u078d\u07a6\u0783 \u0784\u07a8\u078d\u07b0\u0791\u07a8\u0782\u07b0\u078e\u0787\u07a6\u0781\u07b0 \u0788\u07aa\u0783\u07ac 5.2 \u0789\u07a9\u0793\u07a6\u0783 (17 \u078a\u07ab\u0793\u07aa) \u0787\u07aa\u0780\u07ac\u0788\u07ac. \u0789\u07a8 \u0793\u07b0\u0783\u07a7\u0782\u07b0\u0790\u07b0\u0789\u07a8\u0793\u07a6\u0783\u07aa \u0782\u07aa\u078d\u07a7\u060c \u0787\u07a6\u0787\u07a8\u078a\u07a8\u078d\u07b0 \u0793\u07a6\u0788\u07a6\u0783\u07a6\u0786\u07a9\u060c \u0789\u07a8\u078d\u07a7\u0787\u07aa \u0788\u07a8\u0787\u07a7\u0791\u07a6\u0786\u07b0\u0793\u07a6\u0781\u07b0 \u078a\u07a6\u0780\u07aa \u078a\u07b0\u0783\u07a7\u0782\u07b0\u0790\u07b0\u078e\u07a6\u0787\u07a8 \u0780\u07aa\u0783\u07a8 2 \u0788\u07a6\u0782\u07a6\u0787\u07a6\u0781\u07b0 \u0787\u07ac\u0782\u07b0\u0789\u07ac \u0787\u07aa\u0790\u07b0 \u078a\u07b0\u0783\u07a9\u0790\u07b0\u0793\u07ad\u0782\u07b0\u0791\u07a8\u0782\u07b0\u078e \u0787\u07a8\u0789\u07a7\u0783\u07a7\u078c\u07ac\u0788\u07ac"]],["text-generation",["\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0782\u07b0\u078e\u07ac \u0782\u07a6\u0789\u07a6\u0786\u07a9 \u0794\u07ab\u0790\u07aa\u078a\u07b0 \u0787\u07a6\u078b\u07a8 \u0787\u07a6\u0780\u07a6\u0783\u07ac\u0782\u07b0\u078e\u07ac \u0789\u07a6\u0787\u07a8\u078e\u07a6\u0782\u0791\u07aa","\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0782\u07b0\u078e\u07ac \u0782\u07a6\u0789\u07a6\u0786\u07a9 \u0789\u07a6\u0783\u07a8\u0787\u07a6\u0789\u07b0\u060c \u0787\u07a6\u0780\u07a6\u0783\u07ac\u0782\u07b0 \u0787\u07ac\u0782\u07b0\u0789\u07ac \u078e\u07a6\u0794\u07a7\u0788\u07a7","\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0782\u07b0\u078e\u07ac \u0782\u07a6\u0789\u07a6\u0786\u07a9 \u078a\u07a7\u078c\u07aa\u0789\u07a6\u078c\u07aa \u0787\u07a6\u078b\u07a8 \u0787\u07a6\u0780\u07a6\u0783\u07ac\u0782\u07b0","\u060c\u0787\u07ac\u0787\u07b0 \u0792\u07a6\u0789\u07a7\u0782\u07ac\u0787\u07b0\u078e\u07a6\u0787\u07a8"]],["fill-mask",[".<mask> \u0789\u07a7\u078d\u07ac \u0787\u07a6\u0786\u07a9 \u078b\u07a8\u0788\u07ac\u0780\u07a8\u0783\u07a7\u0787\u07b0\u0796\u07ad\u078e\u07ac","\u078e\u07a6\u0783\u07aa\u078b\u07a8\u0794\u07a6\u0787\u07a6\u0786\u07a9 \u078b\u07a8\u0788\u07ac\u0780\u07a8\u0782\u07b0\u078e\u07ac \u0789\u07ac\u078b\u07aa\u078e\u07a6\u0787\u07a8 <mask> \u0786\u07ac\u0787\u07aa\u0789\u07ac\u0787\u07b0."]]]),ay=(new Map([["en",Hg],["zh",Qg],["fr",Wg],["es",Gg],["ru",Kg],["uk",Xg],["it",Jg],["fa",Yg],["ar",Zg],["bn",ey],["mn",ty],["si",ny],["de",ry],["dv",iy]]),{"text-classification":{name:"Text Classification",subtasks:[{type:"acceptability-classification",name:"Acceptability Classification"},{type:"entity-linking-classification",name:"Entity Linking Classification"},{type:"fact-checking",name:"Fact Checking"},{type:"intent-classification",name:"Intent Classification"},{type:"language-identification",name:"Language Identification"},{type:"multi-class-classification",name:"Multi Class Classification"},{type:"multi-label-classification",name:"Multi Label Classification"},{type:"multi-input-text-classification",name:"Multi-input Text Classification"},{type:"natural-language-inference",name:"Natural Language Inference"},{type:"semantic-similarity-classification",name:"Semantic Similarity Classification"},{type:"sentiment-classification",name:"Sentiment Classification"},{type:"topic-classification",name:"Topic Classification"},{type:"semantic-similarity-scoring",name:"Semantic Similarity Scoring"},{type:"sentiment-scoring",name:"Sentiment Scoring"},{type:"sentiment-analysis",name:"Sentiment Analysis"},{type:"hate-speech-detection",name:"Hate Speech Detection"},{type:"text-scoring",name:"Text Scoring"}],modality:"nlp"},"token-classification":{name:"Token Classification",subtasks:[{type:"named-entity-recognition",name:"Named Entity Recognition"},{type:"part-of-speech",name:"Part of Speech"},{type:"parsing",name:"Parsing"},{type:"lemmatization",name:"Lemmatization"},{type:"word-sense-disambiguation",name:"Word Sense Disambiguation"},{type:"coreference-resolution",name:"Coreference-resolution"}],modality:"nlp"},"table-question-answering":{name:"Table Question Answering",modality:"nlp"},"question-answering":{name:"Question Answering",subtasks:[{type:"extractive-qa",name:"Extractive QA"},{type:"open-domain-qa",name:"Open Domain QA"},{type:"closed-domain-qa",name:"Closed Domain QA"}],modality:"nlp"},"zero-shot-classification":{name:"Zero-Shot Classification",modality:"nlp"},translation:{name:"Translation",modality:"nlp"},summarization:{name:"Summarization",subtasks:[{type:"news-articles-summarization",name:"News Articles Summarization"},{type:"news-articles-headline-generation",name:"News Articles Headline Generation"}],modality:"nlp"},"feature-extraction":{name:"Feature Extraction",modality:"nlp"},"text-generation":{name:"Text Generation",subtasks:[{type:"dialogue-modeling",name:"Dialogue Modeling"},{type:"dialogue-generation",name:"Dialogue Generation"},{type:"conversational",name:"Conversational"},{type:"language-modeling",name:"Language Modeling"},{type:"text-simplification",name:"Text simplification"},{type:"explanation-generation",name:"Explanation Generation"},{type:"abstractive-qa",name:"Abstractive QA"},{type:"open-domain-abstractive-qa",name:"Open Domain Abstractive QA"},{type:"closed-domain-qa",name:"Closed Domain QA"},{type:"open-book-qa",name:"Open Book QA"},{type:"closed-book-qa",name:"Closed Book QA"},{type:"text2text-generation",name:"Text2Text Generation"}],modality:"nlp"},"fill-mask":{name:"Fill-Mask",subtasks:[{type:"slot-filling",name:"Slot Filling"},{type:"masked-language-modeling",name:"Masked Language Modeling"}],modality:"nlp"},"sentence-similarity":{name:"Sentence Similarity",modality:"nlp"},"text-to-speech":{name:"Text-to-Speech",modality:"audio"},"text-to-audio":{name:"Text-to-Audio",modality:"audio"},"automatic-speech-recognition":{name:"Automatic Speech Recognition",modality:"audio"},"audio-to-audio":{name:"Audio-to-Audio",modality:"audio"},"audio-classification":{name:"Audio Classification",subtasks:[{type:"keyword-spotting",name:"Keyword Spotting"},{type:"speaker-identification",name:"Speaker Identification"},{type:"audio-intent-classification",name:"Audio Intent Classification"},{type:"audio-emotion-recognition",name:"Audio Emotion Recognition"},{type:"audio-language-identification",name:"Audio Language Identification"}],modality:"audio"},"audio-text-to-text":{name:"Audio-Text-to-Text",modality:"multimodal",hideInDatasets:!0},"voice-activity-detection":{name:"Voice Activity Detection",modality:"audio"},"depth-estimation":{name:"Depth Estimation",modality:"cv"},"image-classification":{name:"Image Classification",subtasks:[{type:"multi-label-image-classification",name:"Multi Label Image Classification"},{type:"multi-class-image-classification",name:"Multi Class Image Classification"}],modality:"cv"},"object-detection":{name:"Object Detection",subtasks:[{type:"face-detection",name:"Face Detection"},{type:"vehicle-detection",name:"Vehicle Detection"}],modality:"cv"},"image-segmentation":{name:"Image Segmentation",subtasks:[{type:"instance-segmentation",name:"Instance Segmentation"},{type:"semantic-segmentation",name:"Semantic Segmentation"},{type:"panoptic-segmentation",name:"Panoptic Segmentation"}],modality:"cv"},"text-to-image":{name:"Text-to-Image",modality:"cv"},"image-to-text":{name:"Image-to-Text",subtasks:[{type:"image-captioning",name:"Image Captioning"}],modality:"cv"},"image-to-image":{name:"Image-to-Image",subtasks:[{type:"image-inpainting",name:"Image Inpainting"},{type:"image-colorization",name:"Image Colorization"},{type:"super-resolution",name:"Super Resolution"}],modality:"cv"},"image-to-video":{name:"Image-to-Video",modality:"cv"},"unconditional-image-generation":{name:"Unconditional Image Generation",modality:"cv"},"video-classification":{name:"Video Classification",modality:"cv"},"reinforcement-learning":{name:"Reinforcement Learning",modality:"rl"},robotics:{name:"Robotics",modality:"rl",subtasks:[{type:"grasping",name:"Grasping"},{type:"task-planning",name:"Task Planning"}]},"tabular-classification":{name:"Tabular Classification",modality:"tabular",subtasks:[{type:"tabular-multi-class-classification",name:"Tabular Multi Class Classification"},{type:"tabular-multi-label-classification",name:"Tabular Multi Label Classification"}]},"tabular-regression":{name:"Tabular Regression",modality:"tabular",subtasks:[{type:"tabular-single-column-regression",name:"Tabular Single Column Regression"}]},"tabular-to-text":{name:"Tabular to Text",modality:"tabular",subtasks:[{type:"rdf-to-text",name:"RDF to text"}],hideInModels:!0},"table-to-text":{name:"Table to Text",modality:"nlp",hideInModels:!0},"multiple-choice":{name:"Multiple Choice",subtasks:[{type:"multiple-choice-qa",name:"Multiple Choice QA"},{type:"multiple-choice-coreference-resolution",name:"Multiple Choice Coreference Resolution"}],modality:"nlp",hideInModels:!0},"text-ranking":{name:"Text Ranking",modality:"nlp"},"text-retrieval":{name:"Text Retrieval",subtasks:[{type:"document-retrieval",name:"Document Retrieval"},{type:"utterance-retrieval",name:"Utterance Retrieval"},{type:"entity-linking-retrieval",name:"Entity Linking Retrieval"},{type:"fact-checking-retrieval",name:"Fact Checking Retrieval"}],modality:"nlp",hideInModels:!0},"time-series-forecasting":{name:"Time Series Forecasting",modality:"tabular",subtasks:[{type:"univariate-time-series-forecasting",name:"Univariate Time Series Forecasting"},{type:"multivariate-time-series-forecasting",name:"Multivariate Time Series Forecasting"}]},"text-to-video":{name:"Text-to-Video",modality:"cv"},"image-text-to-text":{name:"Image-Text-to-Text",modality:"multimodal"},"visual-question-answering":{name:"Visual Question Answering",subtasks:[{type:"visual-question-answering",name:"Visual Question Answering"}],modality:"multimodal"},"document-question-answering":{name:"Document Question Answering",subtasks:[{type:"document-question-answering",name:"Document Question Answering"}],modality:"multimodal",hideInDatasets:!0},"zero-shot-image-classification":{name:"Zero-Shot Image Classification",modality:"cv"},"graph-ml":{name:"Graph Machine Learning",modality:"other"},"mask-generation":{name:"Mask Generation",modality:"cv"},"zero-shot-object-detection":{name:"Zero-Shot Object Detection",modality:"cv"},"text-to-3d":{name:"Text-to-3D",modality:"cv"},"image-to-3d":{name:"Image-to-3D",modality:"cv"},"image-feature-extraction":{name:"Image Feature Extraction",modality:"cv"},"video-text-to-text":{name:"Video-Text-to-Text",modality:"multimodal",hideInDatasets:!1},"keypoint-detection":{name:"Keypoint Detection",subtasks:[{type:"pose-estimation",name:"Pose Estimation"}],modality:"cv",hideInDatasets:!0},"visual-document-retrieval":{name:"Visual Document Retrieval",modality:"multimodal"},"any-to-any":{name:"Any-to-Any",modality:"multimodal"},"video-to-video":{name:"Video-to-Video",modality:"cv",hideInDatasets:!0},other:{name:"Other",modality:"other",hideInModels:!0,hideInDatasets:!0}}),oy=Object.keys(ay),sy=(Object.values(ay).flatMap(e=>"subtasks"in e?e.subtasks:[]).map(e=>e.type),new Set(oy),{datasets:[{description:"A benchmark of 10 different audio tasks.",id:"s3prl/superb"},{description:"A dataset of YouTube clips and their sound categories.",id:"agkphysics/AudioSet"}],demo:{inputs:[{filename:"audio.wav",type:"audio"}],outputs:[{data:[{label:"Up",score:.2},{label:"Down",score:.8}],type:"chart"}]},metrics:[{description:"",id:"accuracy"},{description:"",id:"recall"},{description:"",id:"precision"},{description:"",id:"f1"}],models:[{description:"An easy-to-use model for command recognition.",id:"speechbrain/google_speech_command_xvector"},{description:"An emotion recognition model.",id:"ehcalabres/wav2vec2-lg-xlsr-en-speech-emotion-recognition"},{description:"A language identification model.",id:"facebook/mms-lid-126"}],spaces:[{description:"An application that can classify music into different genre.",id:"kurianbenoy/audioclassification"}],summary:"Audio classification is the task of assigning a label or class to a given audio. It can be used for recognizing which command a user is giving or the emotion of a statement, as well as identifying a speaker.",widgetModels:["MIT/ast-finetuned-audioset-10-10-0.4593"],youtubeId:"KWwzcmG98Ds"}),ly={datasets:[{description:"512-element X-vector embeddings of speakers from CMU ARCTIC dataset.",id:"Matthijs/cmu-arctic-xvectors"}],demo:{inputs:[{filename:"input.wav",type:"audio"}],outputs:[{filename:"label-0.wav",type:"audio"},{filename:"label-1.wav",type:"audio"}]},metrics:[{description:"The Signal-to-Noise ratio is the relationship between the target signal level and the background noise level. It is calculated as the logarithm of the target signal divided by the background noise, in decibels.",id:"snri"},{description:"The Signal-to-Distortion ratio is the relationship between the target signal and the sum of noise, interference, and artifact errors",id:"sdri"}],models:[{description:"A speech enhancement model.",id:"ResembleAI/resemble-enhance"},{description:"A model that can change the voice in a speech recording.",id:"microsoft/speecht5_vc"}],spaces:[{description:"An application for speech separation.",id:"younver/speechbrain-speech-separation"},{description:"An application for audio style transfer.",id:"nakas/audio-diffusion_style_transfer"}],summary:"Audio-to-Audio is a family of tasks in which the input is an audio and the output is one or multiple generated audios. Some example tasks are speech enhancement and source separation.",widgetModels:["speechbrain/sepformer-wham"],youtubeId:"iohj7nCCYoM"},cy={datasets:[{description:"31,175 hours of multilingual audio-text dataset in 108 languages.",id:"mozilla-foundation/common_voice_17_0"},{description:"Multilingual and diverse audio dataset with 101k hours of audio.",id:"amphion/Emilia-Dataset"},{description:"A dataset with 44.6k hours of English speaker data and 6k hours of other language speakers.",id:"parler-tts/mls_eng"},{description:"A multilingual audio dataset with 370K hours of audio.",id:"espnet/yodas"}],demo:{inputs:[{filename:"input.flac",type:"audio"}],outputs:[{label:"Transcript",content:"Going along slushy country roads and speaking to damp audiences in...",type:"text"}]},metrics:[{description:"",id:"wer"},{description:"",id:"cer"}],models:[{description:"A powerful ASR model by OpenAI.",id:"openai/whisper-large-v3"},{description:"A good generic speech model by MetaAI for fine-tuning.",id:"facebook/w2v-bert-2.0"},{description:"An end-to-end model that performs ASR and Speech Translation by MetaAI.",id:"facebook/seamless-m4t-v2-large"},{description:"A powerful multilingual ASR and Speech Translation model by Nvidia.",id:"nvidia/canary-1b"},{description:"Powerful speaker diarization model.",id:"pyannote/speaker-diarization-3.1"}],spaces:[{description:"A powerful general-purpose speech recognition application.",id:"hf-audio/whisper-large-v3"},{description:"Latest ASR model from Useful Sensors.",id:"mrfakename/Moonshinex"},{description:"A high quality speech and text translation model by Meta.",id:"facebook/seamless_m4t"},{description:"A powerful multilingual ASR and Speech Translation model by Nvidia",id:"nvidia/canary-1b"}],summary:"Automatic Speech Recognition (ASR), also known as Speech to Text (STT), is the task of transcribing a given audio to text. It has many applications, such as voice user interfaces.",widgetModels:["openai/whisper-large-v3"],youtubeId:"TksaY_FDgnk"},uy={datasets:[{description:"Largest document understanding dataset.",id:"HuggingFaceM4/Docmatix"},{description:"Dataset from the 2020 DocVQA challenge. The documents are taken from the UCSF Industry Documents Library.",id:"eliolio/docvqa"}],demo:{inputs:[{label:"Question",content:"What is the idea behind the consumer relations efficiency team?",type:"text"},{filename:"document-question-answering-input.png",type:"img"}],outputs:[{label:"Answer",content:"Balance cost efficiency with quality customer service",type:"text"}]},metrics:[{description:"The evaluation metric for the DocVQA challenge is the Average Normalized Levenshtein Similarity (ANLS). This metric is flexible to character regognition errors and compares the predicted answer with the ground truth answer.",id:"anls"},{description:"Exact Match is a metric based on the strict character match of the predicted answer and the right answer. For answers predicted correctly, the Exact Match will be 1. Even if only one character is different, Exact Match will be 0",id:"exact-match"}],models:[{description:"A robust document question answering model.",id:"impira/layoutlm-document-qa"},{description:"A document question answering model specialized in invoices.",id:"impira/layoutlm-invoices"},{description:"A special model for OCR-free document question answering.",id:"microsoft/udop-large"},{description:"A powerful model for document question answering.",id:"google/pix2struct-docvqa-large"}],spaces:[{description:"A robust document question answering application.",id:"impira/docquery"},{description:"An application that can answer questions from invoices.",id:"impira/invoices"},{description:"An application to compare different document question answering models.",id:"merve/compare_docvqa_models"}],summary:"Document Question Answering (also known as Document Visual Question Answering) is the task of answering questions on document images. Document question answering models take a (document, question) pair as input and return an answer in natural language. Models usually rely on multi-modal features, combining text, position of words (bounding-boxes) and image.",widgetModels:["impira/layoutlm-invoices"],youtubeId:""},dy={datasets:[{description:"Wikipedia dataset containing cleaned articles of all languages. Can be used to train `feature-extraction` models.",id:"wikipedia"}],demo:{inputs:[{label:"Input",content:"India, officially the Republic of India, is a country in South Asia.",type:"text"}],outputs:[{table:[["Dimension 1","Dimension 2","Dimension 3"],["2.583383083343506","2.757075071334839","0.9023529887199402"],["8.29393482208252","1.1071064472198486","2.03399395942688"],["-0.7754912972450256","-1.647324562072754","-0.6113331913948059"],["0.07087723910808563","1.5942802429199219","1.4610432386398315"]],type:"tabular"}]},metrics:[],models:[{description:"A powerful feature extraction model for natural language processing tasks.",id:"thenlper/gte-large"},{description:"A strong feature extraction model for retrieval.",id:"Alibaba-NLP/gte-Qwen1.5-7B-instruct"}],spaces:[{description:"A leaderboard to rank text feature extraction models based on a benchmark.",id:"mteb/leaderboard"},{description:"A leaderboard to rank best feature extraction models based on human feedback.",id:"mteb/arena"}],summary:"Feature extraction is the task of extracting features learnt in a model.",widgetModels:["facebook/bart-base"]},hy={datasets:[{description:"A common dataset that is used to train models for many languages.",id:"wikipedia"},{description:"A large English dataset with text crawled from the web.",id:"c4"}],demo:{inputs:[{label:"Input",content:"The <mask> barked at me",type:"text"}],outputs:[{type:"chart",data:[{label:"wolf",score:.487},{label:"dog",score:.061},{label:"cat",score:.058},{label:"fox",score:.047},{label:"squirrel",score:.025}]}]},metrics:[{description:"Cross Entropy is a metric that calculates the difference between two probability distributions. Each probability distribution is the distribution of predicted words",id:"cross_entropy"},{description:"Perplexity is the exponential of the cross-entropy loss. It evaluates the probabilities assigned to the next word by the model. Lower perplexity indicates better performance",id:"perplexity"}],models:[{description:"State-of-the-art masked language model.",id:"answerdotai/ModernBERT-large"},{description:"A multilingual model trained on 100 languages.",id:"FacebookAI/xlm-roberta-base"}],spaces:[],summary:"Masked language modeling is the task of masking some of the words in a sentence and predicting which words should replace those masks. These models are useful when we want to get a statistical understanding of the language in which the model is trained in.",widgetModels:["distilroberta-base"],youtubeId:"mqElG5QJWUg"},py={datasets:[{description:"Benchmark dataset used for image classification with images that belong to 100 classes.",id:"cifar100"},{description:"Dataset consisting of images of garments.",id:"fashion_mnist"}],demo:{inputs:[{filename:"image-classification-input.jpeg",type:"img"}],outputs:[{type:"chart",data:[{label:"Egyptian cat",score:.514},{label:"Tabby cat",score:.193},{label:"Tiger cat",score:.068}]}]},metrics:[{description:"",id:"accuracy"},{description:"",id:"recall"},{description:"",id:"precision"},{description:"",id:"f1"}],models:[{description:"A strong image classification model.",id:"google/vit-base-patch16-224"},{description:"A robust image classification model.",id:"facebook/deit-base-distilled-patch16-224"},{description:"A strong image classification model.",id:"facebook/convnext-large-224"}],spaces:[{description:"A leaderboard to evaluate different image classification models.",id:"timm/leaderboard"}],summary:"Image classification is the task of assigning a label or class to an entire image. Images are expected to have only one class for each image. Image classification models take an image as input and return a prediction about which class the image belongs to.",widgetModels:["google/vit-base-patch16-224"],youtubeId:"tjAIM7BOYhw"},fy={datasets:[{description:"ImageNet-1K is a image classification dataset in which images are used to train image-feature-extraction models.",id:"imagenet-1k"}],demo:{inputs:[{filename:"mask-generation-input.png",type:"img"}],outputs:[{table:[["Dimension 1","Dimension 2","Dimension 3"],["0.21236686408519745","1.0919708013534546","0.8512550592422485"],["0.809657871723175","-0.18544459342956543","-0.7851548194885254"],["1.3103108406066895","-0.2479034662246704","-0.9107287526130676"],["1.8536205291748047","-0.36419737339019775","0.09717650711536407"]],type:"tabular"}]},metrics:[],models:[{description:"A powerful image feature extraction model.",id:"timm/vit_large_patch14_dinov2.lvd142m"},{description:"A strong image feature extraction model.",id:"nvidia/MambaVision-T-1K"},{description:"A robust image feature extraction model.",id:"facebook/dino-vitb16"},{description:"Cutting-edge image feature extraction model.",id:"apple/aimv2-large-patch14-336-distilled"},{description:"Strong image feature extraction model that can be used on images and documents.",id:"OpenGVLab/InternViT-6B-448px-V1-2"}],spaces:[{description:"A leaderboard to evaluate different image-feature-extraction models on classification performances",id:"timm/leaderboard"}],summary:"Image feature extraction is the task of extracting features learnt in a computer vision model.",widgetModels:[]},my={datasets:[{description:"Synthetic dataset, for image relighting",id:"VIDIT"},{description:"Multiple images of celebrities, used for facial expression translation",id:"huggan/CelebA-faces"},{description:"12M image-caption pairs.",id:"Spawning/PD12M"}],demo:{inputs:[{filename:"image-to-image-input.jpeg",type:"img"}],outputs:[{filename:"image-to-image-output.png",type:"img"}]},isPlaceholder:!1,metrics:[{description:"Peak Signal to Noise Ratio (PSNR) is an approximation of the human perception, considering the ratio of the absolute intensity with respect to the variations. Measured in dB, a high value indicates a high fidelity.",id:"PSNR"},{description:"Structural Similarity Index (SSIM) is a perceptual metric which compares the luminance, contrast and structure of two images. The values of SSIM range between -1 and 1, and higher values indicate closer resemblance to the original image.",id:"SSIM"},{description:"Inception Score (IS) is an analysis of the labels predicted by an image classification model when presented with a sample of the generated images.",id:"IS"}],models:[{description:"An image-to-image model to improve image resolution.",id:"fal/AuraSR-v2"},{description:"A model that increases the resolution of an image.",id:"keras-io/super-resolution"},{description:"A model for applying edits to images through image controls.",id:"Yuanshi/OminiControl"},{description:"A model that generates images based on segments in the input image and the text prompt.",id:"mfidabel/controlnet-segment-anything"},{description:"Strong model for inpainting and outpainting.",id:"black-forest-labs/FLUX.1-Fill-dev"},{description:"Strong model for image editing using depth maps.",id:"black-forest-labs/FLUX.1-Depth-dev-lora"}],spaces:[{description:"Image enhancer application for low light.",id:"keras-io/low-light-image-enhancement"},{description:"Style transfer application.",id:"keras-io/neural-style-transfer"},{description:"An application that generates images based on segment control.",id:"mfidabel/controlnet-segment-anything"},{description:"Image generation application that takes image control and text prompt.",id:"hysts/ControlNet"},{description:"Colorize any image using this app.",id:"ioclab/brightness-controlnet"},{description:"Edit images with instructions.",id:"timbrooks/instruct-pix2pix"}],summary:"Image-to-image is the task of transforming an input image through a variety of possible manipulations and enhancements, such as super-resolution, image inpainting, colorization, and more.",widgetModels:["stabilityai/stable-diffusion-2-inpainting"],youtubeId:""},gy={datasets:[{description:"Dataset from 12M image-text of Reddit",id:"red_caps"},{description:"Dataset from 3.3M images of Google",id:"datasets/conceptual_captions"}],demo:{inputs:[{filename:"savanna.jpg",type:"img"}],outputs:[{label:"Detailed description",content:"a herd of giraffes and zebras grazing in a field",type:"text"}]},metrics:[],models:[{description:"A robust image captioning model.",id:"Salesforce/blip2-opt-2.7b"},{description:"A powerful and accurate image-to-text model that can also localize concepts in images.",id:"microsoft/kosmos-2-patch14-224"},{description:"A strong optical character recognition model.",id:"facebook/nougat-base"},{description:"A powerful model that lets you have a conversation with the image.",id:"llava-hf/llava-1.5-7b-hf"}],spaces:[{description:"An application that compares various image captioning models.",id:"nielsr/comparing-captioning-models"},{description:"A robust image captioning application.",id:"flax-community/image-captioning"},{description:"An application that transcribes handwritings into text.",id:"nielsr/TrOCR-handwritten"},{description:"An application that can caption images and answer questions about a given image.",id:"Salesforce/BLIP"},{description:"An application that can caption images and answer questions with a conversational agent.",id:"Salesforce/BLIP2"},{description:"An image captioning application that demonstrates the effect of noise on captions.",id:"johko/capdec-image-captioning"}],summary:"Image to text models output a text from a given image. Image captioning or optical character recognition can be considered as the most common applications of image to text.",widgetModels:["Salesforce/blip-image-captioning-large"],youtubeId:""},yy={datasets:[{description:"Instructions composed of image and text.",id:"liuhaotian/LLaVA-Instruct-150K"},{description:"Collection of image-text pairs on scientific topics.",id:"DAMO-NLP-SG/multimodal_textbook"},{description:"A collection of datasets made for model fine-tuning.",id:"HuggingFaceM4/the_cauldron"},{description:"Screenshots of websites with their HTML/CSS codes.",id:"HuggingFaceM4/WebSight"}],demo:{inputs:[{filename:"image-text-to-text-input.png",type:"img"},{label:"Text Prompt",content:"Describe the position of the bee in detail.",type:"text"}],outputs:[{label:"Answer",content:"The bee is sitting on a pink flower, surrounded by other flowers. The bee is positioned in the center of the flower, with its head and front legs sticking out.",type:"text"}]},metrics:[],models:[{description:"Small and efficient yet powerful vision language model.",id:"HuggingFaceTB/SmolVLM-Instruct"},{description:"A screenshot understanding model used to control computers.",id:"microsoft/OmniParser-v2.0"},{description:"Cutting-edge vision language model.",id:"allenai/Molmo-7B-D-0924"},{description:"Small yet powerful model.",id:"vikhyatk/moondream2"},{description:"Strong image-text-to-text model.",id:"Qwen/Qwen2.5-VL-7B-Instruct"},{description:"Image-text-to-text model with agentic capabilities.",id:"microsoft/Magma-8B"},{description:"Strong image-text-to-text model focused on documents.",id:"allenai/olmOCR-7B-0225-preview"},{description:"Small yet strong image-text-to-text model.",id:"ibm-granite/granite-vision-3.2-2b"}],spaces:[{description:"Leaderboard to evaluate vision language models.",id:"opencompass/open_vlm_leaderboard"},{description:"Vision language models arena, where models are ranked by votes of users.",id:"WildVision/vision-arena"},{description:"Powerful vision-language model assistant.",id:"akhaliq/Molmo-7B-D-0924"},{description:"Powerful vision language assistant that can understand multiple images.",id:"HuggingFaceTB/SmolVLM2"},{description:"An application for chatting with an image-text-to-text model.",id:"GanymedeNil/Qwen2-VL-7B"},{description:"An application that parses screenshots into actions.",id:"showlab/ShowUI"},{description:"An application that detects gaze.",id:"moondream/gaze-demo"}],summary:"Image-text-to-text models take in an image and text prompt and output text. These models are also called vision-language models, or VLMs. The difference from image-to-text models is that these models take an additional text input, not restricting the model to certain use cases like image captioning, and may also be trained to accept a conversation as input.",widgetModels:["Qwen/Qwen2-VL-7B-Instruct"],youtubeId:"IoGaGfU1CIg"},vy={datasets:[{description:"Scene segmentation dataset.",id:"scene_parse_150"}],demo:{inputs:[{filename:"image-segmentation-input.jpeg",type:"img"}],outputs:[{filename:"image-segmentation-output.png",type:"img"}]},metrics:[{description:"Average Precision (AP) is the Area Under the PR Curve (AUC-PR). It is calculated for each semantic class separately",id:"Average Precision"},{description:"Mean Average Precision (mAP) is the overall average of the AP values",id:"Mean Average Precision"},{description:"Intersection over Union (IoU) is the overlap of segmentation masks. Mean IoU is the average of the IoU of all semantic classes",id:"Mean Intersection over Union"},{description:"AP\u03b1 is the Average Precision at the IoU threshold of a \u03b1 value, for example, AP50 and AP75",id:"AP\u03b1"}],models:[{description:"Solid semantic segmentation model trained on ADE20k.",id:"openmmlab/upernet-convnext-small"},{description:"Background removal model.",id:"briaai/RMBG-1.4"},{description:"A multipurpose image segmentation model for high resolution images.",id:"ZhengPeng7/BiRefNet"},{description:"Powerful human-centric image segmentation model.",id:"facebook/sapiens-seg-1b"},{description:"Panoptic segmentation model trained on the COCO (common objects) dataset.",id:"facebook/mask2former-swin-large-coco-panoptic"}],spaces:[{description:"A semantic segmentation application that can predict unseen instances out of the box.",id:"facebook/ov-seg"},{description:"One of the strongest segmentation applications.",id:"jbrinkma/segment-anything"},{description:"A human-centric segmentation model.",id:"facebook/sapiens-pose"},{description:"An instance segmentation application to predict neuronal cell types from microscopy images.",id:"rashmi/sartorius-cell-instance-segmentation"},{description:"An application that segments videos.",id:"ArtGAN/Segment-Anything-Video"},{description:"An panoptic segmentation application built for outdoor environments.",id:"segments/panoptic-segment-anything"}],summary:"Image Segmentation divides an image into segments where each pixel in the image is mapped to an object. This task has multiple variants such as instance segmentation, panoptic segmentation and semantic segmentation.",widgetModels:["nvidia/segformer-b0-finetuned-ade-512-512"],youtubeId:"dKE8SIt9C-w"},by={datasets:[{description:"A benchmark dataset for reference image controlled video generation.",id:"ali-vilab/VACE-Benchmark"},{description:"A dataset of video generation style preferences.",id:"Rapidata/sora-video-generation-style-likert-scoring"},{description:"A dataset with videos and captions throughout the videos.",id:"BestWishYsh/ChronoMagic"}],demo:{inputs:[{filename:"image-to-video-input.jpg",type:"img"},{label:"Optional Text Prompt",content:"This penguin is dancing",type:"text"}],outputs:[{filename:"image-to-video-output.gif",type:"img"}]},metrics:[{description:"Fr\xe9chet Video Distance (FVD) measures the perceptual similarity between the distributions of generated videos and a set of real videos, assessing overall visual quality and temporal coherence of the video generated from an input image.",id:"fvd"},{description:"CLIP Score measures the semantic similarity between a textual prompt (if provided alongside the input image) and the generated video frames. It evaluates how well the video's generated content and motion align with the textual description, conditioned on the initial image.",id:"clip_score"},{description:"First Frame Fidelity, often measured using LPIPS (Learned Perceptual Image Patch Similarity), PSNR, or SSIM, quantifies how closely the first frame of the generated video matches the input conditioning image.",id:"lpips"},{description:"Identity Preservation Score measures the consistency of identity (e.g., a person's face or a specific object's characteristics) between the input image and throughout the generated video frames, often calculated using features from specialized models like face recognition (e.g., ArcFace) or re-identification models.",id:"identity_preservation"},{description:"Motion Score evaluates the quality, realism, and temporal consistency of motion in the video generated from a static image. This can be based on optical flow analysis (e.g., smoothness, magnitude), consistency of object trajectories, or specific motion plausibility assessments.",id:"motion_score"}],models:[{description:"LTX-Video, a 13B parameter model for high quality video generation",id:"Lightricks/LTX-Video-0.9.7-dev"},{description:"A 14B parameter model for reference image controlled video generation",id:"Wan-AI/Wan2.1-VACE-14B"},{description:"An image-to-video generation model using FramePack F1 methodology with Hunyuan-DiT architecture",id:"lllyasviel/FramePack_F1_I2V_HY_20250503"},{description:"A distilled version of the LTX-Video-0.9.7-dev model for faster inference",id:"Lightricks/LTX-Video-0.9.7-distilled"},{description:"An image-to-video generation model by Skywork AI, 14B parameters, producing 720p videos.",id:"Skywork/SkyReels-V2-I2V-14B-720P"},{description:"Image-to-video variant of Tencent's HunyuanVideo.",id:"tencent/HunyuanVideo-I2V"},{description:"A 14B parameter model for 720p image-to-video generation by Wan-AI.",id:"Wan-AI/Wan2.1-I2V-14B-720P"},{description:"A Diffusers version of the Wan2.1-I2V-14B-720P model for 720p image-to-video generation.",id:"Wan-AI/Wan2.1-I2V-14B-720P-Diffusers"}],spaces:[{description:"An application to generate videos fast.",id:"Lightricks/ltx-video-distilled"},{description:"Generate videos with the FramePack-F1",id:"linoyts/FramePack-F1"},{description:"Generate videos with the FramePack",id:"lisonallen/framepack-i2v"},{description:"Wan2.1 with CausVid LoRA",id:"multimodalart/wan2-1-fast"},{description:"A demo for Stable Video Diffusion",id:"multimodalart/stable-video-diffusion"}],summary:"Image-to-video models take a still image as input and generate a video. These models can be guided by text prompts to influence the content and style of the output video.",widgetModels:[],youtubeId:void 0},wy={datasets:[{description:"Widely used benchmark dataset for multiple Vision tasks.",id:"merve/coco2017"},{description:"Medical Imaging dataset of the Human Brain for segmentation and mask generating tasks",id:"rocky93/BraTS_segmentation"}],demo:{inputs:[{filename:"mask-generation-input.png",type:"img"}],outputs:[{filename:"mask-generation-output.png",type:"img"}]},metrics:[{description:"IoU is used to measure the overlap between predicted mask and the ground truth mask.",id:"Intersection over Union (IoU)"}],models:[{description:"Small yet powerful mask generation model.",id:"Zigeng/SlimSAM-uniform-50"},{description:"Very strong mask generation model.",id:"facebook/sam2-hiera-large"}],spaces:[{description:"An application that combines a mask generation model with a zero-shot object detection model for text-guided image segmentation.",id:"merve/OWLSAM2"},{description:"An application that compares the performance of a large and a small mask generation model.",id:"merve/slimsam"},{description:"An application based on an improved mask generation model.",id:"SkalskiP/segment-anything-model-2"},{description:"An application to remove objects from videos using mask generation models.",id:"SkalskiP/SAM_and_ProPainter"}],summary:"Mask generation is the task of generating masks that identify a specific object or region of interest in a given image. Masks are often used in segmentation tasks, where they provide a precise way to isolate the object of interest for further processing or analysis.",widgetModels:[],youtubeId:""},_y={datasets:[{description:"Widely used benchmark dataset for multiple vision tasks.",id:"merve/coco2017"},{description:"Multi-task computer vision benchmark.",id:"merve/pascal-voc"}],demo:{inputs:[{filename:"object-detection-input.jpg",type:"img"}],outputs:[{filename:"object-detection-output.jpg",type:"img"}]},metrics:[{description:"The Average Precision (AP) metric is the Area Under the PR Curve (AUC-PR). It is calculated for each class separately",id:"Average Precision"},{description:"The Mean Average Precision (mAP) metric is the overall average of the AP values",id:"Mean Average Precision"},{description:"The AP\u03b1 metric is the Average Precision at the IoU threshold of a \u03b1 value, for example, AP50 and AP75",id:"AP\u03b1"}],models:[{description:"Solid object detection model pre-trained on the COCO 2017 dataset.",id:"facebook/detr-resnet-50"},{description:"Accurate object detection model.",id:"IDEA-Research/dab-detr-resnet-50"},{description:"Fast and accurate object detection model.",id:"PekingU/rtdetr_v2_r50vd"},{description:"Object detection model for low-lying objects.",id:"StephanST/WALDO30"}],spaces:[{description:"Leaderboard to compare various object detection models across several metrics.",id:"hf-vision/object_detection_leaderboard"},{description:"An application that contains various object detection models to try from.",id:"Gradio-Blocks/Object-Detection-With-DETR-and-YOLOS"},{description:"A cutting-edge object detection application.",id:"sunsmarterjieleaf/yolov12"},{description:"An object tracking, segmentation and inpainting application.",id:"VIPLab/Track-Anything"},{description:"Very fast object tracking application based on object detection.",id:"merve/RT-DETR-tracking-coco"}],summary:"Object Detection models allow users to identify objects of certain defined classes. Object detection models receive an image as input and output the images with bounding boxes and labels on detected objects.",widgetModels:["facebook/detr-resnet-50"],youtubeId:"WdAeKSOpxhw"},ky={datasets:[{description:"NYU Depth V2 Dataset: Video dataset containing both RGB and depth sensor data.",id:"sayakpaul/nyu_depth_v2"},{description:"Monocular depth estimation benchmark based without noise and errors.",id:"depth-anything/DA-2K"}],demo:{inputs:[{filename:"depth-estimation-input.jpg",type:"img"}],outputs:[{filename:"depth-estimation-output.png",type:"img"}]},metrics:[],models:[{description:"Cutting-edge depth estimation model.",id:"depth-anything/Depth-Anything-V2-Large"},{description:"A strong monocular depth estimation model.",id:"jingheya/lotus-depth-g-v1-0"},{description:"A depth estimation model that predicts depth in videos.",id:"tencent/DepthCrafter"},{description:"A robust depth estimation model.",id:"apple/DepthPro-hf"}],spaces:[{description:"An application that predicts the depth of an image and then reconstruct the 3D model as voxels.",id:"radames/dpt-depth-estimation-3d-voxels"},{description:"An application for bleeding-edge depth estimation.",id:"akhaliq/depth-pro"},{description:"An application on cutting-edge depth estimation in videos.",id:"tencent/DepthCrafter"},{description:"A human-centric depth estimation application.",id:"facebook/sapiens-depth"}],summary:"Depth estimation is the task of predicting depth of the objects present in an image.",widgetModels:[""],youtubeId:""},xy={datasets:[],demo:{inputs:[],outputs:[]},isPlaceholder:!0,metrics:[],models:[],spaces:[],summary:"",widgetModels:[],youtubeId:void 0,canonicalId:void 0},Sy={datasets:[{description:"A curation of widely used datasets for Data Driven Deep Reinforcement Learning (D4RL)",id:"edbeeching/decision_transformer_gym_replay"}],demo:{inputs:[{label:"State",content:"Red traffic light, pedestrians are about to pass.",type:"text"}],outputs:[{label:"Action",content:"Stop the car.",type:"text"},{label:"Next State",content:"Yellow light, pedestrians have crossed.",type:"text"}]},metrics:[{description:"Accumulated reward across all time steps discounted by a factor that ranges between 0 and 1 and determines how much the agent optimizes for future relative to immediate rewards. Measures how good is the policy ultimately found by a given algorithm considering uncertainty over the future.",id:"Discounted Total Reward"},{description:"Average return obtained after running the policy for a certain number of evaluation episodes. As opposed to total reward, mean reward considers how much reward a given algorithm receives while learning.",id:"Mean Reward"},{description:"Measures how good a given algorithm is after a predefined time. Some algorithms may be guaranteed to converge to optimal behavior across many time steps. However, an agent that reaches an acceptable level of optimality after a given time horizon may be preferable to one that ultimately reaches optimality but takes a long time.",id:"Level of Performance After Some Time"}],models:[{description:"A Reinforcement Learning model trained on expert data from the Gym Hopper environment",id:"edbeeching/decision-transformer-gym-hopper-expert"},{description:"A PPO agent playing seals/CartPole-v0 using the stable-baselines3 library and the RL Zoo.",id:"HumanCompatibleAI/ppo-seals-CartPole-v0"}],spaces:[{description:"An application for a cute puppy agent learning to catch a stick.",id:"ThomasSimonini/Huggy"},{description:"An application to play Snowball Fight with a reinforcement learning agent.",id:"ThomasSimonini/SnowballFight"}],summary:"Reinforcement learning is the computational approach of learning from action by interacting with an environment through trial and error and receiving rewards (negative or positive) as feedback",widgetModels:[],youtubeId:"q0BiUn5LiBc"},Ty={datasets:[{description:"A famous question answering dataset based on English articles from Wikipedia.",id:"squad_v2"},{description:"A dataset of aggregated anonymized actual queries issued to the Google search engine.",id:"natural_questions"}],demo:{inputs:[{label:"Question",content:"Which name is also used to describe the Amazon rainforest in English?",type:"text"},{label:"Context",content:"The Amazon rainforest, also known in English as Amazonia or the Amazon Jungle",type:"text"}],outputs:[{label:"Answer",content:"Amazonia",type:"text"}]},metrics:[{description:"Exact Match is a metric based on the strict character match of the predicted answer and the right answer. For answers predicted correctly, the Exact Match will be 1. Even if only one character is different, Exact Match will be 0",id:"exact-match"},{description:" The F1-Score metric is useful if we value both false positives and false negatives equally. The F1-Score is calculated on each word in the predicted sequence against the correct answer",id:"f1"}],models:[{description:"A robust baseline model for most question answering domains.",id:"deepset/roberta-base-squad2"},{description:"Small yet robust model that can answer questions.",id:"distilbert/distilbert-base-cased-distilled-squad"},{description:"A special model that can answer questions from tables.",id:"google/tapas-base-finetuned-wtq"}],spaces:[{description:"An application that can answer a long question from Wikipedia.",id:"deepset/wikipedia-assistant"}],summary:"Question Answering models can retrieve the answer to a question from a given text, which is useful for searching for an answer in a document. Some question answering models can generate answers without context!",widgetModels:["deepset/roberta-base-squad2"],youtubeId:"ajPx5LwJD-I"},Iy={datasets:[{description:"Bing queries with relevant passages from various web sources.",id:"microsoft/ms_marco"}],demo:{inputs:[{label:"Source sentence",content:"Machine learning is so easy.",type:"text"},{label:"Sentences to compare to",content:"Deep learning is so straightforward.",type:"text"},{label:"",content:"This is so difficult, like rocket science.",type:"text"},{label:"",content:"I can't believe how much I struggled with this.",type:"text"}],outputs:[{type:"chart",data:[{label:"Deep learning is so straightforward.",score:.623},{label:"This is so difficult, like rocket science.",score:.413},{label:"I can't believe how much I struggled with this.",score:.256}]}]},metrics:[{description:"Reciprocal Rank is a measure used to rank the relevancy of documents given a set of documents. Reciprocal Rank is the reciprocal of the rank of the document retrieved, meaning, if the rank is 3, the Reciprocal Rank is 0.33. If the rank is 1, the Reciprocal Rank is 1",id:"Mean Reciprocal Rank"},{description:"The similarity of the embeddings is evaluated mainly on cosine similarity. It is calculated as the cosine of the angle between two vectors. It is particularly useful when your texts are not the same length",id:"Cosine Similarity"}],models:[{description:"This model works well for sentences and paragraphs and can be used for clustering/grouping and semantic searches.",id:"sentence-transformers/all-mpnet-base-v2"},{description:"A multilingual robust sentence similarity model.",id:"BAAI/bge-m3"},{description:"A robust sentence similarity model.",id:"HIT-TMG/KaLM-embedding-multilingual-mini-instruct-v1.5"}],spaces:[{description:"An application that leverages sentence similarity to answer questions from YouTube videos.",id:"Gradio-Blocks/Ask_Questions_To_YouTube_Videos"},{description:"An application that retrieves relevant PubMed abstracts for a given online article which can be used as further references.",id:"Gradio-Blocks/pubmed-abstract-retriever"},{description:"An application that leverages sentence similarity to summarize text.",id:"nickmuchi/article-text-summarizer"},{description:"A guide that explains how Sentence Transformers can be used for semantic search.",id:"sentence-transformers/Sentence_Transformers_for_semantic_search"}],summary:"Sentence Similarity is the task of determining how similar two texts are. Sentence similarity models convert input texts into vectors (embeddings) that capture semantic information and calculate how close (similar) they are between them. This task is particularly useful for information retrieval and clustering/grouping.",widgetModels:["BAAI/bge-small-en-v1.5"],youtubeId:"VCZq5AkbNEU"},Ey={canonicalId:"text-generation",datasets:[{description:"News articles in five different languages along with their summaries. Widely used for benchmarking multilingual summarization models.",id:"mlsum"},{description:"English conversations and their summaries. Useful for benchmarking conversational agents.",id:"samsum"}],demo:{inputs:[{label:"Input",content:"The tower is 324 metres (1,063 ft) tall, about the same height as an 81-storey building, and the tallest structure in Paris. Its base is square, measuring 125 metres (410 ft) on each side. It was the first structure to reach a height of 300 metres. Excluding transmitters, the Eiffel Tower is the second tallest free-standing structure in France after the Millau Viaduct.",type:"text"}],outputs:[{label:"Output",content:"The tower is 324 metres (1,063 ft) tall, about the same height as an 81-storey building. It was the first structure to reach a height of 300 metres.",type:"text"}]},metrics:[{description:"The generated sequence is compared against its summary, and the overlap of tokens are counted. ROUGE-N refers to overlap of N subsequent tokens, ROUGE-1 refers to overlap of single tokens and ROUGE-2 is the overlap of two subsequent tokens.",id:"rouge"}],models:[{description:"A strong summarization model trained on English news articles. Excels at generating factual summaries.",id:"facebook/bart-large-cnn"},{description:"A summarization model trained on medical articles.",id:"Falconsai/medical_summarization"}],spaces:[{description:"An application that can summarize long paragraphs.",id:"pszemraj/summarize-long-text"},{description:"A much needed summarization application for terms and conditions.",id:"ml6team/distilbart-tos-summarizer-tosdr"},{description:"An application that summarizes long documents.",id:"pszemraj/document-summarization"},{description:"An application that can detect errors in abstractive summarization.",id:"ml6team/post-processing-summarization"}],summary:"Summarization is the task of producing a shorter version of a document while preserving its important information. Some models can extract text from the original input, while other models can generate entirely new text.",widgetModels:["facebook/bart-large-cnn"],youtubeId:"yHnr5Dk2zCI"},Ay={datasets:[{description:"The WikiTableQuestions dataset is a large-scale dataset for the task of question answering on semi-structured tables.",id:"wikitablequestions"},{description:"WikiSQL is a dataset of 80654 hand-annotated examples of questions and SQL queries distributed across 24241 tables from Wikipedia.",id:"wikisql"}],demo:{inputs:[{table:[["Rank","Name","No.of reigns","Combined days"],["1","lou Thesz","3","3749"],["2","Ric Flair","8","3103"],["3","Harley Race","7","1799"]],type:"tabular"},{label:"Question",content:"What is the number of reigns for Harley Race?",type:"text"}],outputs:[{label:"Result",content:"7",type:"text"}]},metrics:[{description:"Checks whether the predicted answer(s) is the same as the ground-truth answer(s).",id:"Denotation Accuracy"}],models:[{description:"A table question answering model that is capable of neural SQL execution, i.e., employ TAPEX to execute a SQL query on a given table.",id:"microsoft/tapex-base"},{description:"A robust table question answering model.",id:"google/tapas-base-finetuned-wtq"}],spaces:[{description:"An application that answers questions based on table CSV files.",id:"katanaml/table-query"}],summary:"Table Question Answering (Table QA) is the answering a question about an information on a given table.",widgetModels:["google/tapas-base-finetuned-wtq"]},Cy={datasets:[{description:"A comprehensive curation of datasets covering all benchmarks.",id:"inria-soda/tabular-benchmark"}],demo:{inputs:[{table:[["Glucose","Blood Pressure ","Skin Thickness","Insulin","BMI"],["148","72","35","0","33.6"],["150","50","30","0","35.1"],["141","60","29","1","39.2"]],type:"tabular"}],outputs:[{table:[["Diabetes"],["1"],["1"],["0"]],type:"tabular"}]},metrics:[{description:"",id:"accuracy"},{description:"",id:"recall"},{description:"",id:"precision"},{description:"",id:"f1"}],models:[{description:"Breast cancer prediction model based on decision trees.",id:"scikit-learn/cancer-prediction-trees"}],spaces:[{description:"An application that can predict defective products on a production line.",id:"scikit-learn/tabular-playground"},{description:"An application that compares various tabular classification techniques on different datasets.",id:"scikit-learn/classification"}],summary:"Tabular classification is the task of classifying a target category (a group) based on set of attributes.",widgetModels:["scikit-learn/tabular-playground"],youtubeId:""},Ny={datasets:[{description:"A comprehensive curation of datasets covering all benchmarks.",id:"inria-soda/tabular-benchmark"}],demo:{inputs:[{table:[["Car Name","Horsepower","Weight"],["ford torino","140","3,449"],["amc hornet","97","2,774"],["toyota corolla","65","1,773"]],type:"tabular"}],outputs:[{table:[["MPG (miles per gallon)"],["17"],["18"],["31"]],type:"tabular"}]},metrics:[{description:"",id:"mse"},{description:"Coefficient of determination (or R-squared) is a measure of how well the model fits the data. Higher R-squared is considered a better fit.",id:"r-squared"}],models:[{description:"Fish weight prediction based on length measurements and species.",id:"scikit-learn/Fish-Weight"}],spaces:[{description:"An application that can predict weight of a fish based on set of attributes.",id:"scikit-learn/fish-weight-prediction"}],summary:"Tabular regression is the task of predicting a numerical value given a set of attributes.",widgetModels:["scikit-learn/Fish-Weight"],youtubeId:""},Py={datasets:[{description:"RedCaps is a large-scale dataset of 12M image-text pairs collected from Reddit.",id:"red_caps"},{description:"Conceptual Captions is a dataset consisting of ~3.3M images annotated with captions.",id:"conceptual_captions"},{description:"12M image-caption pairs.",id:"Spawning/PD12M"}],demo:{inputs:[{label:"Input",content:"A city above clouds, pastel colors, Victorian style",type:"text"}],outputs:[{filename:"image.jpeg",type:"img"}]},metrics:[{description:"The Inception Score (IS) measure assesses diversity and meaningfulness. It uses a generated image sample to predict its label. A higher score signifies more diverse and meaningful images.",id:"IS"},{description:"The Fr\xe9chet Inception Distance (FID) calculates the distance between distributions between synthetic and real samples. A lower FID score indicates better similarity between the distributions of real and generated images.",id:"FID"},{description:"R-precision assesses how the generated image aligns with the provided text description. It uses the generated images as queries to retrieve relevant text descriptions. The top 'r' relevant descriptions are selected and used to calculate R-precision as r/R, where 'R' is the number of ground truth descriptions associated with the generated images. A higher R-precision value indicates a better model.",id:"R-Precision"}],models:[{description:"One of the most powerful image generation models that can generate realistic outputs.",id:"black-forest-labs/FLUX.1-dev"},{description:"A powerful yet fast image generation model.",id:"latent-consistency/lcm-lora-sdxl"},{description:"Text-to-image model for photorealistic generation.",id:"Kwai-Kolors/Kolors"},{description:"A powerful text-to-image model.",id:"stabilityai/stable-diffusion-3-medium-diffusers"}],spaces:[{description:"A powerful text-to-image application.",id:"stabilityai/stable-diffusion-3-medium"},{description:"A text-to-image application to generate comics.",id:"jbilcke-hf/ai-comic-factory"},{description:"An application to match multiple custom image generation models.",id:"multimodalart/flux-lora-lab"},{description:"A powerful yet very fast image generation application.",id:"latent-consistency/lcm-lora-for-sdxl"},{description:"A gallery to explore various text-to-image models.",id:"multimodalart/LoraTheExplorer"},{description:"An application for `text-to-image`, `image-to-image` and image inpainting.",id:"ArtGAN/Stable-Diffusion-ControlNet-WebUI"},{description:"An application to generate realistic images given photos of a person and a prompt.",id:"InstantX/InstantID"}],summary:"Text-to-image is the task of generating images from input text. These pipelines can also be used to modify and edit images based on text prompts.",widgetModels:["black-forest-labs/FLUX.1-dev"],youtubeId:""},Ry={canonicalId:"text-to-audio",datasets:[{description:"10K hours of multi-speaker English dataset.",id:"parler-tts/mls_eng_10k"},{description:"Multi-speaker English dataset.",id:"mythicinfinity/libritts_r"},{description:"Multi-lingual dataset.",id:"facebook/multilingual_librispeech"}],demo:{inputs:[{label:"Input",content:"I love audio models on the Hub!",type:"text"}],outputs:[{filename:"audio.wav",type:"audio"}]},metrics:[{description:"The Mel Cepstral Distortion (MCD) metric is used to calculate the quality of generated speech.",id:"mel cepstral distortion"}],models:[{description:"A prompt based, powerful TTS model.",id:"parler-tts/parler-tts-large-v1"},{description:"A powerful TTS model that supports English and Chinese.",id:"SWivid/F5-TTS"},{description:"A massively multi-lingual TTS model.",id:"fishaudio/fish-speech-1.5"},{description:"A powerful TTS model.",id:"OuteAI/OuteTTS-0.1-350M"},{description:"Small yet powerful TTS model.",id:"hexgrad/Kokoro-82M"}],spaces:[{description:"An application for generate high quality speech in different languages.",id:"hexgrad/Kokoro-TTS"},{description:"A multilingual text-to-speech application.",id:"fishaudio/fish-speech-1"},{description:"An application that generates speech in different styles in English and Chinese.",id:"mrfakename/E2-F5-TTS"},{description:"An application that synthesizes emotional speech for diverse speaker prompts.",id:"parler-tts/parler-tts-expresso"},{description:"An application that generates podcast episodes.",id:"ngxson/kokoro-podcast-generator"}],summary:"Text-to-Speech (TTS) is the task of generating natural sounding speech given text input. TTS models can be extended to have a single model that generates speech for multiple speakers and multiple languages.",widgetModels:["suno/bark"],youtubeId:"NW62DpzJ274"},Dy={datasets:[{description:"A widely used dataset useful to benchmark named entity recognition models.",id:"eriktks/conll2003"},{description:"A multilingual dataset of Wikipedia articles annotated for named entity recognition in over 150 different languages.",id:"unimelb-nlp/wikiann"}],demo:{inputs:[{label:"Input",content:"My name is Omar and I live in Z\xfcrich.",type:"text"}],outputs:[{text:"My name is Omar and I live in Z\xfcrich.",tokens:[{type:"PERSON",start:11,end:15},{type:"GPE",start:30,end:36}],type:"text-with-tokens"}]},metrics:[{description:"",id:"accuracy"},{description:"",id:"recall"},{description:"",id:"precision"},{description:"",id:"f1"}],models:[{description:"A robust performance model to identify people, locations, organizations and names of miscellaneous entities.",id:"dslim/bert-base-NER"},{description:"A strong model to identify people, locations, organizations and names in multiple languages.",id:"FacebookAI/xlm-roberta-large-finetuned-conll03-english"},{description:"A token classification model specialized on medical entity recognition.",id:"blaze999/Medical-NER"},{description:"Flair models are typically the state of the art in named entity recognition tasks.",id:"flair/ner-english"}],spaces:[{description:"An application that can recognizes entities, extracts noun chunks and recognizes various linguistic features of each token.",id:"spacy/gradio_pipeline_visualizer"}],summary:"Token classification is a natural language understanding task in which a label is assigned to some tokens in a text. Some popular token classification subtasks are Named Entity Recognition (NER) and Part-of-Speech (PoS) tagging. NER models could be trained to identify specific entities in a text, such as dates, individuals and places; and PoS tagging would identify, for example, which words in a text are verbs, nouns, and punctuation marks.",widgetModels:["FacebookAI/xlm-roberta-large-finetuned-conll03-english"],youtubeId:"wVHdVlPScxA"},Oy={canonicalId:"text-generation",datasets:[{description:"A dataset of copyright-free books translated into 16 different languages.",id:"Helsinki-NLP/opus_books"},{description:"An example of translation between programming languages. This dataset consists of functions in Java and C#.",id:"google/code_x_glue_cc_code_to_code_trans"}],demo:{inputs:[{label:"Input",content:"My name is Omar and I live in Z\xfcrich.",type:"text"}],outputs:[{label:"Output",content:"Mein Name ist Omar und ich wohne in Z\xfcrich.",type:"text"}]},metrics:[{description:"BLEU score is calculated by counting the number of shared single or subsequent tokens between the generated sequence and the reference. Subsequent n tokens are called \u201cn-grams\u201d. Unigram refers to a single token while bi-gram refers to token pairs and n-grams refer to n subsequent tokens. The score ranges from 0 to 1, where 1 means the translation perfectly matched and 0 did not match at all",id:"bleu"},{description:"",id:"sacrebleu"}],models:[{description:"Very powerful model that can translate many languages between each other, especially low-resource languages.",id:"facebook/nllb-200-1.3B"},{description:"A general-purpose Transformer that can be used to translate from English to German, French, or Romanian.",id:"google-t5/t5-base"}],spaces:[{description:"An application that can translate between 100 languages.",id:"Iker/Translate-100-languages"},{description:"An application that can translate between many languages.",id:"Geonmo/nllb-translation-demo"}],summary:"Translation is the task of converting text from one language to another.",widgetModels:["facebook/mbart-large-50-many-to-many-mmt"],youtubeId:"1JvfrvZgi6c"},Ly={datasets:[{description:"A widely used dataset used to benchmark multiple variants of text classification.",id:"nyu-mll/glue"},{description:"A text classification dataset used to benchmark natural language inference models",id:"stanfordnlp/snli"}],demo:{inputs:[{label:"Input",content:"I love Hugging Face!",type:"text"}],outputs:[{type:"chart",data:[{label:"POSITIVE",score:.9},{label:"NEUTRAL",score:.1},{label:"NEGATIVE",score:0}]}]},metrics:[{description:"",id:"accuracy"},{description:"",id:"recall"},{description:"",id:"precision"},{description:"The F1 metric is the harmonic mean of the precision and recall. It can be calculated as: F1 = 2 * (precision * recall) / (precision + recall)",id:"f1"}],models:[{description:"A robust model trained for sentiment analysis.",id:"distilbert/distilbert-base-uncased-finetuned-sst-2-english"},{description:"A sentiment analysis model specialized in financial sentiment.",id:"ProsusAI/finbert"},{description:"A sentiment analysis model specialized in analyzing tweets.",id:"cardiffnlp/twitter-roberta-base-sentiment-latest"},{description:"A model that can classify languages.",id:"papluca/xlm-roberta-base-language-detection"},{description:"A model that can classify text generation attacks.",id:"meta-llama/Prompt-Guard-86M"}],spaces:[{description:"An application that can classify financial sentiment.",id:"IoannisTr/Tech_Stocks_Trading_Assistant"},{description:"A dashboard that contains various text classification tasks.",id:"miesnerjacob/Multi-task-NLP"},{description:"An application that analyzes user reviews in healthcare.",id:"spacy/healthsea-demo"}],summary:"Text Classification is the task of assigning a label or class to a given text. Some use cases are sentiment analysis, natural language inference, and assessing grammatical correctness.",widgetModels:["distilbert/distilbert-base-uncased-finetuned-sst-2-english"],youtubeId:"leNG9fN9FQU"},My={datasets:[{description:"Multilingual dataset used to evaluate text generation models.",id:"CohereForAI/Global-MMLU"},{description:"High quality multilingual data used to train text-generation models.",id:"HuggingFaceFW/fineweb-2"},{description:"Truly open-source, curated and cleaned dialogue dataset.",id:"HuggingFaceH4/ultrachat_200k"},{description:"A reasoning dataset.",id:"open-r1/OpenThoughts-114k-math"},{description:"A multilingual instruction dataset with preference ratings on responses.",id:"allenai/tulu-3-sft-mixture"},{description:"A large synthetic dataset for alignment of text generation models.",id:"HuggingFaceTB/smoltalk"},{description:"A dataset made for training text generation models solving math questions.",id:"HuggingFaceTB/finemath"}],demo:{inputs:[{label:"Input",content:"Once upon a time,",type:"text"}],outputs:[{label:"Output",content:"Once upon a time, we knew that our ancestors were on the verge of extinction. The great explorers and poets of the Old World, from Alexander the Great to Chaucer, are dead and gone. A good many of our ancient explorers and poets have",type:"text"}]},metrics:[{description:"Cross Entropy is a metric that calculates the difference between two probability distributions. Each probability distribution is the distribution of predicted words",id:"Cross Entropy"},{description:"The Perplexity metric is the exponential of the cross-entropy loss. It evaluates the probabilities assigned to the next word by the model. Lower perplexity indicates better performance",id:"Perplexity"}],models:[{description:"A text-generation model trained to follow instructions.",id:"google/gemma-2-2b-it"},{description:"Smaller variant of one of the most powerful models.",id:"deepseek-ai/DeepSeek-R1-Distill-Qwen-1.5B"},{description:"Very powerful text generation model trained to follow instructions.",id:"meta-llama/Meta-Llama-3.1-8B-Instruct"},{description:"Powerful text generation model by Microsoft.",id:"microsoft/phi-4"},{description:"A very powerful model with reasoning capabilities.",id:"simplescaling/s1.1-32B"},{description:"Strong conversational model that supports very long instructions.",id:"Qwen/Qwen2.5-7B-Instruct-1M"},{description:"Text generation model used to write code.",id:"Qwen/Qwen2.5-Coder-32B-Instruct"},{description:"Powerful reasoning based open large language model.",id:"deepseek-ai/DeepSeek-R1"}],spaces:[{description:"A leaderboard to compare different open-source text generation models based on various benchmarks.",id:"open-llm-leaderboard/open_llm_leaderboard"},{description:"A leaderboard for comparing chain-of-thought performance of models.",id:"logikon/open_cot_leaderboard"},{description:"An text generation based application based on a very powerful LLaMA2 model.",id:"ysharma/Explore_llamav2_with_TGI"},{description:"An text generation based application to converse with Zephyr model.",id:"HuggingFaceH4/zephyr-chat"},{description:"A leaderboard that ranks text generation models based on blind votes from people.",id:"lmsys/chatbot-arena-leaderboard"},{description:"An chatbot to converse with a very powerful text generation model.",id:"mlabonne/phixtral-chat"}],summary:"Generating text is the task of generating new text given another text. These models can, for example, fill in incomplete text or paraphrase.",widgetModels:["mistralai/Mistral-Nemo-Instruct-2407"],youtubeId:"e9gNEAlsOvU"},Uy={datasets:[{description:"Bing queries with relevant passages from various web sources.",id:"microsoft/ms_marco"}],demo:{inputs:[{label:"Source sentence",content:"Machine learning is so easy.",type:"text"},{label:"Sentences to compare to",content:"Deep learning is so straightforward.",type:"text"},{label:"",content:"This is so difficult, like rocket science.",type:"text"},{label:"",content:"I can't believe how much I struggled with this.",type:"text"}],outputs:[{type:"chart",data:[{label:"Deep learning is so straightforward.",score:2.2006407},{label:"This is so difficult, like rocket science.",score:-6.2634873},{label:"I can't believe how much I struggled with this.",score:-10.251488}]}]},metrics:[{description:"Discounted Cumulative Gain (DCG) measures the gain, or usefulness, of search results discounted by their position. The normalization is done by dividing the DCG by the ideal DCG, which is the DCG of the perfect ranking.",id:"Normalized Discounted Cumulative Gain"},{description:"Reciprocal Rank is a measure used to rank the relevancy of documents given a set of documents. Reciprocal Rank is the reciprocal of the rank of the document retrieved, meaning, if the rank is 3, the Reciprocal Rank is 0.33. If the rank is 1, the Reciprocal Rank is 1",id:"Mean Reciprocal Rank"},{description:"Mean Average Precision (mAP) is the overall average of the Average Precision (AP) values, where AP is the Area Under the PR Curve (AUC-PR)",id:"Mean Average Precision"}],models:[{description:"An extremely efficient text ranking model trained on a web search dataset.",id:"cross-encoder/ms-marco-MiniLM-L6-v2"},{description:"A strong multilingual text reranker model.",id:"Alibaba-NLP/gte-multilingual-reranker-base"},{description:"An efficient text ranking model that punches above its weight.",id:"Alibaba-NLP/gte-reranker-modernbert-base"}],spaces:[],summary:"Text Ranking is the task of ranking a set of texts based on their relevance to a query. Text ranking models are trained on large datasets of queries and relevant documents to learn how to rank documents based on their relevance to the query. This task is particularly useful for search engines and information retrieval systems.",widgetModels:["cross-encoder/ms-marco-MiniLM-L6-v2"],youtubeId:""},jy={datasets:[{description:"Microsoft Research Video to Text is a large-scale dataset for open domain video captioning",id:"iejMac/CLIP-MSR-VTT"},{description:"UCF101 Human Actions dataset consists of 13,320 video clips from YouTube, with 101 classes.",id:"quchenyuan/UCF101-ZIP"},{description:"A high-quality dataset for human action recognition in YouTube videos.",id:"nateraw/kinetics"},{description:"A dataset of video clips of humans performing pre-defined basic actions with everyday objects.",id:"HuggingFaceM4/something_something_v2"},{description:"This dataset consists of text-video pairs and contains noisy samples with irrelevant video descriptions",id:"HuggingFaceM4/webvid"},{description:"A dataset of short Flickr videos for the temporal localization of events with descriptions.",id:"iejMac/CLIP-DiDeMo"}],demo:{inputs:[{label:"Input",content:"Darth Vader is surfing on the waves.",type:"text"}],outputs:[{filename:"text-to-video-output.gif",type:"img"}]},metrics:[{description:"Inception Score uses an image classification model that predicts class labels and evaluates how distinct and diverse the images are. A higher score indicates better video generation.",id:"is"},{description:"Frechet Inception Distance uses an image classification model to obtain image embeddings. The metric compares mean and standard deviation of the embeddings of real and generated images. A smaller score indicates better video generation.",id:"fid"},{description:"Frechet Video Distance uses a model that captures coherence for changes in frames and the quality of each frame. A smaller score indicates better video generation.",id:"fvd"},{description:"CLIPSIM measures similarity between video frames and text using an image-text similarity model. A higher score indicates better video generation.",id:"clipsim"}],models:[{description:"A strong model for consistent video generation.",id:"tencent/HunyuanVideo"},{description:"A text-to-video model with high fidelity motion and strong prompt adherence.",id:"Lightricks/LTX-Video"},{description:"A text-to-video model focusing on physics-aware applications like robotics.",id:"nvidia/Cosmos-1.0-Diffusion-7B-Text2World"},{description:"A robust model for video generation.",id:"Wan-AI/Wan2.1-T2V-1.3B"}],spaces:[{description:"An application that generates video from text.",id:"VideoCrafter/VideoCrafter"},{description:"Consistent video generation application.",id:"Wan-AI/Wan2.1"},{description:"A cutting edge video generation application.",id:"Pyramid-Flow/pyramid-flow"}],summary:"Text-to-video models can be used in any application that requires generating consistent sequence of images from text. ",widgetModels:["Wan-AI/Wan2.1-T2V-14B"],youtubeId:void 0},Fy={datasets:[{description:"The CIFAR-100 dataset consists of 60000 32x32 colour images in 100 classes, with 600 images per class.",id:"cifar100"},{description:"Multiple images of celebrities, used for facial expression translation.",id:"CelebA"}],demo:{inputs:[{label:"Seed",content:"42",type:"text"},{label:"Number of images to generate:",content:"4",type:"text"}],outputs:[{filename:"unconditional-image-generation-output.jpeg",type:"img"}]},metrics:[{description:"The inception score (IS) evaluates the quality of generated images. It measures the diversity of the generated images (the model predictions are evenly distributed across all possible labels) and their 'distinction' or 'sharpness' (the model confidently predicts a single label for each image).",id:"Inception score (IS)"},{description:"The Fr\xe9chet Inception Distance (FID) evaluates the quality of images created by a generative model by calculating the distance between feature vectors for real and generated images.",id:"Fre\u0107het Inception Distance (FID)"}],models:[{description:"High-quality image generation model trained on the CIFAR-10 dataset. It synthesizes images of the ten classes presented in the dataset using diffusion probabilistic models, a class of latent variable models inspired by considerations from nonequilibrium thermodynamics.",id:"google/ddpm-cifar10-32"},{description:"High-quality image generation model trained on the 256x256 CelebA-HQ dataset. It synthesizes images of faces using diffusion probabilistic models, a class of latent variable models inspired by considerations from nonequilibrium thermodynamics.",id:"google/ddpm-celebahq-256"}],spaces:[{description:"An application that can generate realistic faces.",id:"CompVis/celeba-latent-diffusion"}],summary:"Unconditional image generation is the task of generating images with no condition in any context (like a prompt text or another image). Once trained, the model will create images that resemble its training data distribution.",widgetModels:[""],youtubeId:""},Vy={datasets:[{description:"Benchmark dataset used for video classification with videos that belong to 400 classes.",id:"kinetics400"}],demo:{inputs:[{filename:"video-classification-input.gif",type:"img"}],outputs:[{type:"chart",data:[{label:"Playing Guitar",score:.514},{label:"Playing Tennis",score:.193},{label:"Cooking",score:.068}]}]},metrics:[{description:"",id:"accuracy"},{description:"",id:"recall"},{description:"",id:"precision"},{description:"",id:"f1"}],models:[{description:"Strong Video Classification model trained on the Kinetics 400 dataset.",id:"google/vivit-b-16x2-kinetics400"},{description:"Strong Video Classification model trained on the Kinetics 400 dataset.",id:"microsoft/xclip-base-patch32"}],spaces:[{description:"An application that classifies video at different timestamps.",id:"nateraw/lavila"},{description:"An application that classifies video.",id:"fcakyon/video-classification"}],summary:"Video classification is the task of assigning a label or class to an entire video. Videos are expected to have only one class for each video. Video classification models take a video as input and return a prediction about which class the video belongs to.",widgetModels:[],youtubeId:""},$y={datasets:[{description:"A large dataset used to train visual document retrieval models.",id:"vidore/colpali_train_set"}],demo:{inputs:[{filename:"input.png",type:"img"},{label:"Question",content:"Is the model in this paper the fastest for inference?",type:"text"}],outputs:[{type:"chart",data:[{label:"Page 10",score:.7},{label:"Page 11",score:.06},{label:"Page 9",score:.003}]}]},isPlaceholder:!1,metrics:[{description:"NDCG@k scores ranked recommendation lists for top-k results. 0 is the worst, 1 is the best.",id:"Normalized Discounted Cumulative Gain at K"}],models:[{description:"Very accurate visual document retrieval model for multilingual queries and documents.",id:"vidore/colqwen2-v1.0"},{description:"Very fast and efficient visual document retrieval model that works on five languages.",id:"marco/mcdse-2b-v1"}],spaces:[{description:"A leaderboard of visual document retrieval models.",id:"vidore/vidore-leaderboard"}],summary:"Visual document retrieval is the task of searching for relevant image-based documents, such as PDFs. These models take a text query and multiple documents as input and return the top-most relevant documents and relevancy scores as output.",widgetModels:[""],youtubeId:""},zy={datasets:[{description:"A widely used dataset containing questions (with answers) about images.",id:"Graphcore/vqa"},{description:"A dataset to benchmark visual reasoning based on text in images.",id:"facebook/textvqa"}],demo:{inputs:[{filename:"elephant.jpeg",type:"img"},{label:"Question",content:"What is in this image?",type:"text"}],outputs:[{type:"chart",data:[{label:"elephant",score:.97},{label:"elephants",score:.06},{label:"animal",score:.003}]}]},isPlaceholder:!1,metrics:[{description:"",id:"accuracy"},{description:"Measures how much a predicted answer differs from the ground truth based on the difference in their semantic meaning.",id:"wu-palmer similarity"}],models:[{description:"A visual question answering model trained to convert charts and plots to text.",id:"google/deplot"},{description:"A visual question answering model trained for mathematical reasoning and chart derendering from images.",id:"google/matcha-base"},{description:"A strong visual question answering that answers questions from book covers.",id:"google/pix2struct-ocrvqa-large"}],spaces:[{description:"An application that compares visual question answering models across different tasks.",id:"merve/pix2struct"},{description:"An application that can answer questions based on images.",id:"nielsr/vilt-vqa"},{description:"An application that can caption images and answer questions about a given image. ",id:"Salesforce/BLIP"},{description:"An application that can caption images and answer questions about a given image. ",id:"vumichien/Img2Prompt"}],summary:"Visual Question Answering is the task of answering open-ended questions based on an image. They output natural language responses to natural language questions.",widgetModels:["dandelin/vilt-b32-finetuned-vqa"],youtubeId:""},qy={datasets:[{description:"A widely used dataset used to benchmark multiple variants of text classification.",id:"nyu-mll/glue"},{description:"The Multi-Genre Natural Language Inference (MultiNLI) corpus is a crowd-sourced collection of 433k sentence pairs annotated with textual entailment information.",id:"nyu-mll/multi_nli"},{description:"FEVER is a publicly available dataset for fact extraction and verification against textual sources.",id:"fever/fever"}],demo:{inputs:[{label:"Text Input",content:"Dune is the best movie ever.",type:"text"},{label:"Candidate Labels",content:"CINEMA, ART, MUSIC",type:"text"}],outputs:[{type:"chart",data:[{label:"CINEMA",score:.9},{label:"ART",score:.1},{label:"MUSIC",score:0}]}]},metrics:[],models:[{description:"Powerful zero-shot text classification model.",id:"facebook/bart-large-mnli"},{description:"Cutting-edge zero-shot multilingual text classification model.",id:"MoritzLaurer/ModernBERT-large-zeroshot-v2.0"},{description:"Zero-shot text classification model that can be used for topic and sentiment classification.",id:"knowledgator/gliclass-modern-base-v2.0-init"}],spaces:[],summary:"Zero-shot text classification is a task in natural language processing where a model is trained on a set of labeled examples but is then able to classify new examples from previously unseen classes.",widgetModels:["facebook/bart-large-mnli"]},By={datasets:[{description:"",id:""}],demo:{inputs:[{filename:"image-classification-input.jpeg",type:"img"},{label:"Classes",content:"cat, dog, bird",type:"text"}],outputs:[{type:"chart",data:[{label:"Cat",score:.664},{label:"Dog",score:.329},{label:"Bird",score:.008}]}]},metrics:[{description:"Computes the number of times the correct label appears in top K labels predicted",id:"top-K accuracy"}],models:[{description:"Multilingual image classification model for 80 languages.",id:"visheratin/mexma-siglip"},{description:"Strong zero-shot image classification model.",id:"google/siglip2-base-patch16-224"},{description:"Robust zero-shot image classification model.",id:"intfloat/mmE5-mllama-11b-instruct"},{description:"Powerful zero-shot image classification model supporting 94 languages.",id:"jinaai/jina-clip-v2"},{description:"Strong image classification model for biomedical domain.",id:"microsoft/BiomedCLIP-PubMedBERT_256-vit_base_patch16_224"}],spaces:[{description:"An application that leverages zero-shot image classification to find best captions to generate an image. ",id:"pharma/CLIP-Interrogator"},{description:"An application to compare different zero-shot image classification models. ",id:"merve/compare_clip_siglip"}],summary:"Zero-shot image classification is the task of classifying previously unseen classes during training of a model.",widgetModels:["google/siglip-so400m-patch14-224"],youtubeId:""},Hy={datasets:[],demo:{inputs:[{filename:"zero-shot-object-detection-input.jpg",type:"img"},{label:"Classes",content:"cat, dog, bird",type:"text"}],outputs:[{filename:"zero-shot-object-detection-output.jpg",type:"img"}]},metrics:[{description:"The Average Precision (AP) metric is the Area Under the PR Curve (AUC-PR). It is calculated for each class separately",id:"Average Precision"},{description:"The Mean Average Precision (mAP) metric is the overall average of the AP values",id:"Mean Average Precision"},{description:"The AP\u03b1 metric is the Average Precision at the IoU threshold of a \u03b1 value, for example, AP50 and AP75",id:"AP\u03b1"}],models:[{description:"Solid zero-shot object detection model.",id:"IDEA-Research/grounding-dino-base"},{description:"Cutting-edge zero-shot object detection model.",id:"google/owlv2-base-patch16-ensemble"}],spaces:[{description:"A demo to try the state-of-the-art zero-shot object detection model, OWLv2.",id:"merve/owlv2"},{description:"A demo that combines a zero-shot object detection and mask generation model for zero-shot segmentation.",id:"merve/OWLSAM"}],summary:"Zero-shot object detection is a computer vision task to detect objects and their classes in images, without any prior training or knowledge of the classes. Zero-shot object detection models receive an image as input, as well as a list of candidate classes, and output the bounding boxes and labels where the objects have been detected.",widgetModels:[],youtubeId:""},Qy={datasets:[{description:"A large dataset of over 10 million 3D objects.",id:"allenai/objaverse-xl"},{description:"A dataset of isolated object images for evaluating image-to-3D models.",id:"dylanebert/iso3d"}],demo:{inputs:[{filename:"image-to-3d-image-input.png",type:"img"}],outputs:[{label:"Result",content:"image-to-3d-3d-output-filename.glb",type:"text"}]},metrics:[],models:[{description:"Fast image-to-3D mesh model by Tencent.",id:"TencentARC/InstantMesh"},{description:"Fast image-to-3D mesh model by StabilityAI",id:"stabilityai/TripoSR"},{description:"A scaled up image-to-3D mesh model derived from TripoSR.",id:"hwjiang/Real3D"},{description:"Consistent image-to-3d generation model.",id:"stabilityai/stable-point-aware-3d"}],spaces:[{description:"Leaderboard to evaluate image-to-3D models.",id:"dylanebert/3d-arena"},{description:"Image-to-3D demo with mesh outputs.",id:"TencentARC/InstantMesh"},{description:"Image-to-3D demo.",id:"stabilityai/stable-point-aware-3d"},{description:"Image-to-3D demo with mesh outputs.",id:"hwjiang/Real3D"},{description:"Image-to-3D demo with splat outputs.",id:"dylanebert/LGM-mini"}],summary:"Image-to-3D models take in image input and produce 3D output.",widgetModels:[],youtubeId:""},Wy={datasets:[{description:"A large dataset of over 10 million 3D objects.",id:"allenai/objaverse-xl"},{description:"Descriptive captions for 3D objects in Objaverse.",id:"tiange/Cap3D"}],demo:{inputs:[{label:"Prompt",content:"a cat statue",type:"text"}],outputs:[{label:"Result",content:"text-to-3d-3d-output-filename.glb",type:"text"}]},metrics:[],models:[{description:"Text-to-3D mesh model by OpenAI",id:"openai/shap-e"},{description:"Generative 3D gaussian splatting model.",id:"ashawkey/LGM"}],spaces:[{description:"Text-to-3D demo with mesh outputs.",id:"hysts/Shap-E"},{description:"Text/image-to-3D demo with splat outputs.",id:"ashawkey/LGM"}],summary:"Text-to-3D models take in text input and produce 3D output.",widgetModels:[],youtubeId:""},Gy={datasets:[{description:"A dataset of hand keypoints of over 500k examples.",id:"Vincent-luo/hagrid-mediapipe-hands"}],demo:{inputs:[{filename:"keypoint-detection-input.png",type:"img"}],outputs:[{filename:"keypoint-detection-output.png",type:"img"}]},metrics:[],models:[{description:"A robust keypoint detection model.",id:"magic-leap-community/superpoint"},{description:"A robust keypoint matching model.",id:"magic-leap-community/superglue_outdoor"},{description:"Strong keypoint detection model used to detect human pose.",id:"facebook/sapiens-pose-1b"},{description:"Powerful keypoint detection model used to detect human pose.",id:"usyd-community/vitpose-plus-base"}],spaces:[{description:"An application that detects hand keypoints in real-time.",id:"datasciencedojo/Hand-Keypoint-Detection-Realtime"},{description:"An application to try a universal keypoint detection model.",id:"merve/SuperPoint"}],summary:"Keypoint detection is the task of identifying meaningful distinctive points or features in an image.",widgetModels:[],youtubeId:""},Ky={datasets:[{description:"Multiple-choice questions and answers about videos.",id:"lmms-lab/Video-MME"},{description:"A dataset of instructions and question-answer pairs about videos.",id:"lmms-lab/VideoChatGPT"},{description:"Large video understanding dataset.",id:"HuggingFaceFV/finevideo"}],demo:{inputs:[{filename:"video-text-to-text-input.gif",type:"img"},{label:"Text Prompt",content:"What is happening in this video?",type:"text"}],outputs:[{label:"Answer",content:"The video shows a series of images showing a fountain with water jets and a variety of colorful flowers and butterflies in the background.",type:"text"}]},metrics:[],models:[{description:"A robust video-text-to-text model.",id:"Vision-CAIR/LongVU_Qwen2_7B"},{description:"Strong video-text-to-text model with reasoning capabilities.",id:"GoodiesHere/Apollo-LMMs-Apollo-7B-t32"},{description:"Strong video-text-to-text model.",id:"HuggingFaceTB/SmolVLM2-2.2B-Instruct"}],spaces:[{description:"An application to chat with a video-text-to-text model.",id:"llava-hf/video-llava"},{description:"A leaderboard for various video-text-to-text models.",id:"opencompass/openvlm_video_leaderboard"},{description:"An application to generate highlights from a video.",id:"HuggingFaceTB/SmolVLM2-HighlightGenerator"}],summary:"Video-text-to-text models take in a video and a text prompt and output text. These models are also called video-language models.",widgetModels:[""],youtubeId:""},Xy={"audio-classification":["speechbrain","transformers","transformers.js"],"audio-to-audio":["asteroid","fairseq","speechbrain"],"automatic-speech-recognition":["espnet","nemo","speechbrain","transformers","transformers.js"],"audio-text-to-text":[],"depth-estimation":["transformers","transformers.js"],"document-question-answering":["transformers","transformers.js"],"feature-extraction":["sentence-transformers","transformers","transformers.js"],"fill-mask":["transformers","transformers.js"],"graph-ml":["transformers"],"image-classification":["keras","timm","transformers","transformers.js"],"image-feature-extraction":["timm","transformers"],"image-segmentation":["transformers","transformers.js"],"image-text-to-text":["transformers"],"image-to-image":["diffusers","transformers","transformers.js"],"image-to-text":["transformers","transformers.js"],"image-to-video":["diffusers"],"keypoint-detection":["transformers"],"video-classification":["transformers"],"mask-generation":["transformers"],"multiple-choice":["transformers"],"object-detection":["transformers","transformers.js","ultralytics"],other:[],"question-answering":["adapter-transformers","allennlp","transformers","transformers.js"],robotics:[],"reinforcement-learning":["transformers","stable-baselines3","ml-agents","sample-factory"],"sentence-similarity":["sentence-transformers","spacy","transformers.js"],summarization:["transformers","transformers.js"],"table-question-answering":["transformers"],"table-to-text":["transformers"],"tabular-classification":["sklearn"],"tabular-regression":["sklearn"],"tabular-to-text":["transformers"],"text-classification":["adapter-transformers","setfit","spacy","transformers","transformers.js"],"text-generation":["transformers","transformers.js"],"text-ranking":["sentence-transformers","transformers"],"text-retrieval":[],"text-to-image":["diffusers"],"text-to-speech":["espnet","tensorflowtts","transformers","transformers.js"],"text-to-audio":["transformers","transformers.js"],"text-to-video":["diffusers"],"time-series-forecasting":[],"token-classification":["adapter-transformers","flair","spacy","span-marker","stanza","transformers","transformers.js"],translation:["transformers","transformers.js"],"unconditional-image-generation":["diffusers"],"video-text-to-text":["transformers"],"visual-question-answering":["transformers","transformers.js"],"voice-activity-detection":[],"zero-shot-classification":["transformers","transformers.js"],"zero-shot-image-classification":["transformers","transformers.js"],"zero-shot-object-detection":["transformers","transformers.js"],"text-to-3d":["diffusers"],"image-to-3d":["diffusers"],"any-to-any":["transformers"],"visual-document-retrieval":["transformers"],"video-to-video":["diffusers"]};function Jy(e){return{...arguments.length>1&&void 0!==arguments[1]?arguments[1]:xy,id:e,label:ay[e].name,libraries:Xy[e]}}Jy("any-to-any",{datasets:[{description:"A dataset with multiple modality input and output pairs.",id:"PKU-Alignment/align-anything"}],demo:{inputs:[{filename:"any-to-any-input.jpg",type:"img"},{label:"Text Prompt",content:"What is the significance of this place?",type:"text"}],outputs:[{label:"Generated Text",content:"The place in the picture is Osaka Castle, located in Osaka, Japan. Osaka Castle is a historic castle that was originally built in the 16th century by Toyotomi Hideyoshi, a powerful warlord of the time. It is one of the most famous landmarks in Osaka and is known for its distinctive white walls and black roof tiles. The castle has been rebuilt several times over the centuries and is now a popular tourist attraction, offering visitors a glimpse into Japan's rich history and culture.",type:"text"},{filename:"any-to-any-output.wav",type:"audio"}]},metrics:[],models:[{description:"Strong model that can take in video, audio, image, text and output text and natural speech.",id:"Qwen/Qwen2.5-Omni-7B"},{description:"Robust model that can take in image and text and generate image and text.",id:"deepseek-ai/Janus-Pro-7B"},{description:"Any-to-any model with speech, video, audio, image and text understanding capabilities.",id:"openbmb/MiniCPM-o-2_6"},{description:"A model that can understand image and text and generate image and text.",id:"EPFL-VILAB/4M-21_XL"}],spaces:[{description:"An application to chat with an any-to-any (image & text) model.",id:"deepseek-ai/Janus-Pro-7B"}],summary:"Any-to-any models can understand two or more modalities and output two or more modalities.",widgetModels:[],youtubeId:""}),Jy("audio-classification",sy),Jy("audio-to-audio",ly),Jy("audio-text-to-text",xy),Jy("automatic-speech-recognition",cy),Jy("depth-estimation",ky),Jy("document-question-answering",uy),Jy("visual-document-retrieval",$y),Jy("feature-extraction",dy),Jy("fill-mask",hy),Jy("image-classification",py),Jy("image-feature-extraction",fy),Jy("image-segmentation",vy),Jy("image-to-image",my),Jy("image-text-to-text",yy),Jy("image-to-text",gy),Jy("image-to-video",by),Jy("keypoint-detection",Gy),Jy("mask-generation",wy),Jy("object-detection",_y),Jy("video-classification",Vy),Jy("question-answering",Ty),Jy("reinforcement-learning",Sy),Jy("sentence-similarity",Iy),Jy("summarization",Ey),Jy("table-question-answering",Ay),Jy("tabular-classification",Cy),Jy("tabular-regression",Ny),Jy("text-classification",Ly),Jy("text-generation",My),Jy("text-ranking",Uy),Jy("text-to-image",Py),Jy("text-to-speech",Ry),Jy("text-to-video",jy),Jy("token-classification",Dy),Jy("translation",Oy),Jy("unconditional-image-generation",Fy),Jy("video-text-to-text",Ky),Jy("video-to-video",xy),Jy("visual-question-answering",zy),Jy("zero-shot-classification",qy),Jy("zero-shot-image-classification",By),Jy("zero-shot-object-detection",Hy),Jy("text-to-3d",Wy),Jy("image-to-3d",Qy);const Yy=e=>e.tags.includes("conversational")?"text-generation"===e.pipeline_tag?[{role:"user",content:"What is the capital of France?"}]:[{role:"user",content:[{type:"text",text:"Describe this image in one sentence."},{type:"image_url",image_url:{url:"https://cdn.britannica.com/61/93061-050-99147DCE/Statue-of-Liberty-Island-New-York-Bay.jpg"}}]}]:'"Can you please let us know more details about your "',Zy=()=>'\'{"Height":[11.52,12.48],"Length1":[23.2,24.0],"Length2":[25.4,26.3],"Species": ["Bream","Bream"]}\'',ev={"audio-to-audio":()=>'"sample1.flac"',"audio-classification":()=>'"sample1.flac"',"automatic-speech-recognition":()=>'"sample1.flac"',"document-question-answering":()=>'{\n        "image": "cat.png",\n        "question": "What is in this image?"\n    }',"feature-extraction":()=>'"Today is a sunny day and I will get some ice cream."',"fill-mask":e=>`"The answer to the universe is ${e.mask_token}."`,"image-classification":()=>'"cats.jpg"',"image-to-text":()=>'"cats.jpg"',"image-to-image":()=>'{\n    "image": "cat.png",\n    "prompt": "Turn the cat into a tiger."\n}',"image-to-video":()=>'{\n    "image": "cat.png",\n    "prompt": "The cat starts to dance"\n}',"image-segmentation":()=>'"cats.jpg"',"object-detection":()=>'"cats.jpg"',"question-answering":()=>'{\n    "question": "What is my name?",\n    "context": "My name is Clara and I live in Berkeley."\n}',"sentence-similarity":()=>'{\n    "source_sentence": "That is a happy person",\n    "sentences": [\n        "That is a happy dog",\n        "That is a very happy person",\n        "Today is a sunny day"\n    ]\n}',summarization:()=>'"The tower is 324 metres (1,063 ft) tall, about the same height as an 81-storey building, and the tallest structure in Paris. Its base is square, measuring 125 metres (410 ft) on each side. During its construction, the Eiffel Tower surpassed the Washington Monument to become the tallest man-made structure in the world, a title it held for 41 years until the Chrysler Building in New York City was finished in 1930. It was the first structure to reach a height of 300 metres. Due to the addition of a broadcasting aerial at the top of the tower in 1957, it is now taller than the Chrysler Building by 5.2 metres (17 ft). Excluding transmitters, the Eiffel Tower is the second tallest free-standing structure in France after the Millau Viaduct."',"table-question-answering":()=>'{\n    "query": "How many stars does the transformers repository have?",\n    "table": {\n        "Repository": ["Transformers", "Datasets", "Tokenizers"],\n        "Stars": ["36542", "4512", "3934"],\n        "Contributors": ["651", "77", "34"],\n        "Programming language": [\n            "Python",\n            "Python",\n            "Rust, Python and NodeJS"\n        ]\n    }\n}',"tabular-regression":Zy,"tabular-classification":Zy,"text-classification":()=>'"I like you. I love you"',"text-generation":Yy,"image-text-to-text":Yy,"text-to-image":()=>'"Astronaut riding a horse"',"text-to-video":()=>'"A young man walking on the street"',"text-to-speech":()=>'"The answer to the universe is 42"',"text-to-audio":()=>'"liquid drum and bass, atmospheric synths, airy sounds"',"token-classification":()=>'"My name is Sarah Jessica Parker but you can call me Jessica"',translation:()=>'"\u041c\u0435\u043d\u044f \u0437\u043e\u0432\u0443\u0442 \u0412\u043e\u043b\u044c\u0444\u0433\u0430\u043d\u0433 \u0438 \u044f \u0436\u0438\u0432\u0443 \u0432 \u0411\u0435\u0440\u043b\u0438\u043d\u0435"',"zero-shot-classification":()=>'"Hi, I recently bought a device from your company but it is not working as advertised and I would like to get reimbursed!"',"zero-shot-image-classification":()=>'"cats.jpg"'};function tv(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.pipeline_tag){const r=ev[e.pipeline_tag];if(r){let i=r(e);if("string"===typeof i&&(t&&(i=i.replace(/(?:(?:\r?\n|\r)\t*)|\t+/g," ")),n)){const e=/^"(.+)"$/s,t=i.match(e);i=t?t[1]:i}return i}}return"No input example has been defined for this model task."}function nv(e,t){let n=JSON.stringify(e,null,"\t");return t?.indent&&(n=n.replaceAll("\n",`\n${t.indent}`)),t?.attributeKeyQuotes||(n=n.replace(/"([^"]+)":/g,"$1:")),t?.customContentEscaper&&(n=t.customContentEscaper(n)),n}const rv="custom_code";function iv(e){const t=e.split("/");return 1===t.length?t[0]:t[1]}function av(e){return e.cardData?.base_model?.toString()??"fill-in-base-model"}function ov(e){const t=e.widgetData?.[0]?.text??e.cardData?.instance_prompt;if(t)return n=t,JSON.stringify(n).slice(1,-1);var n}const sv="Astronaut in a jungle, cold color palette, muted colors, detailed, 8k",lv="Turn this cat into a dog",cv="A man with short gray hair plays a red electric guitar.",uv={CausalLM:e=>`\nimport keras_hub\n\n# Load CausalLM model (optional: use half precision for inference)\ncausal_lm = keras_hub.models.CausalLM.from_preset("hf://${e}", dtype="bfloat16")\ncausal_lm.compile(sampler="greedy")  # (optional) specify a sampler\n\n# Generate text\ncausal_lm.generate("Keras: deep learning for", max_length=64)\n`,TextToImage:e=>`\nimport keras_hub\n\n# Load TextToImage model (optional: use half precision for inference)\ntext_to_image = keras_hub.models.TextToImage.from_preset("hf://${e}", dtype="bfloat16")\n\n# Generate images with a TextToImage model.\ntext_to_image.generate("Astronaut in a jungle")\n`,TextClassifier:e=>`\nimport keras_hub\n\n# Load TextClassifier model\ntext_classifier = keras_hub.models.TextClassifier.from_preset(\n    "hf://${e}",\n    num_classes=2,\n)\n# Fine-tune\ntext_classifier.fit(x=["Thilling adventure!", "Total snoozefest."], y=[1, 0])\n# Classify text\ntext_classifier.predict(["Not my cup of tea."])\n`,ImageClassifier:e=>`\nimport keras_hub\nimport keras\n\n# Load ImageClassifier model\nimage_classifier = keras_hub.models.ImageClassifier.from_preset(\n    "hf://${e}",\n    num_classes=2,\n)\n# Fine-tune\nimage_classifier.fit(\n    x=keras.random.randint((32, 64, 64, 3), 0, 256),\n    y=keras.random.randint((32, 1), 0, 2),\n)\n# Classify image\nimage_classifier.predict(keras.random.randint((1, 64, 64, 3), 0, 256))\n`},dv=(e,t)=>`\nimport keras_hub\n\n# Create a ${e} model\ntask = keras_hub.models.${e}.from_preset("hf://${t}")\n`;const hv=e=>{const t=e.tags.find(e=>e.match(/^yolov\d+$/)),n=t?`YOLOv${t.slice(4)}`:"YOLOvXX";return[(t?"":"# Couldn't find a valid YOLO version tag.\n# Replace XX with the correct version.\n")+`from ultralytics import ${n}\n\nmodel = ${n}.from_pretrained("${e.id}")\nsource = 'http://images.cocodataset.org/val2017/000000039769.jpg'\nmodel.predict(source=source, save=True)`]},pv={acestep:{prettyLabel:"ACE-Step",repoName:"ACE-Step",repoUrl:"https://github.com/ace-step/ACE-Step",filter:!1,countDownloads:'path:"ace_step_transformer/config.json"'},"adapter-transformers":{prettyLabel:"Adapters",repoName:"adapters",repoUrl:"https://github.com/Adapter-Hub/adapters",docsUrl:"https://huggingface.co/docs/hub/adapters",snippets:e=>[`from adapters import AutoAdapterModel\n\nmodel = AutoAdapterModel.from_pretrained("${e.config?.adapter_transformers?.model_name}")\nmodel.load_adapter("${e.id}", set_active=True)`],filter:!0,countDownloads:'path:"adapter_config.json"'},allennlp:{prettyLabel:"AllenNLP",repoName:"AllenNLP",repoUrl:"https://github.com/allenai/allennlp",docsUrl:"https://huggingface.co/docs/hub/allennlp",snippets:e=>e.tags.includes("question-answering")?(e=>[`import allennlp_models\nfrom allennlp.predictors.predictor import Predictor\n\npredictor = Predictor.from_path("hf://${e.id}")\npredictor_input = {"passage": "My name is Wolfgang and I live in Berlin", "question": "Where do I live?"}\npredictions = predictor.predict_json(predictor_input)`])(e):(e=>[`import allennlp_models\nfrom allennlp.predictors.predictor import Predictor\n\npredictor = Predictor.from_path("hf://${e.id}")`])(e),filter:!0},anemoi:{prettyLabel:"AnemoI",repoName:"AnemoI",repoUrl:"https://github.com/ecmwf/anemoi-inference",docsUrl:"https://anemoi.readthedocs.io/en/latest/",filter:!1,countDownloads:'path_extension:"ckpt"',snippets:e=>[`from anemoi.inference.runners.default import DefaultRunner\nfrom anemoi.inference.config.run import RunConfiguration\n# Create Configuration\nconfig = RunConfiguration(checkpoint = {"huggingface":"${e.id}"})\n# Load Runner\nrunner = DefaultRunner(config)`]},araclip:{prettyLabel:"AraClip",repoName:"AraClip",repoUrl:"https://huggingface.co/Arabic-Clip/araclip",filter:!1,snippets:e=>[`from araclip import AraClip\n\nmodel = AraClip.from_pretrained("${e.id}")`]},asteroid:{prettyLabel:"Asteroid",repoName:"Asteroid",repoUrl:"https://github.com/asteroid-team/asteroid",docsUrl:"https://huggingface.co/docs/hub/asteroid",snippets:e=>[`from asteroid.models import BaseModel\n\nmodel = BaseModel.from_pretrained("${e.id}")`],filter:!0,countDownloads:'path:"pytorch_model.bin"'},audiocraft:{prettyLabel:"Audiocraft",repoName:"audiocraft",repoUrl:"https://github.com/facebookresearch/audiocraft",snippets:e=>e.tags.includes("musicgen")?(e=>[`from audiocraft.models import MusicGen\n\nmodel = MusicGen.get_pretrained("${e.id}")\n\ndescriptions = ['happy rock', 'energetic EDM', 'sad jazz']\nwav = model.generate(descriptions)  # generates 3 samples.`])(e):e.tags.includes("audiogen")?(e=>[`from audiocraft.models import AudioGen\n\t\nmodel = AudioGen.get_pretrained("${e.id}")\nmodel.set_generation_params(duration=5)  # generate 5 seconds.\ndescriptions = ['dog barking', 'sirene of an emergency vehicle', 'footsteps in a corridor']\nwav = model.generate(descriptions)  # generates 3 samples.`])(e):e.tags.includes("magnet")?(e=>[`from audiocraft.models import MAGNeT\n\t\nmodel = MAGNeT.get_pretrained("${e.id}")\n\ndescriptions = ['disco beat', 'energetic EDM', 'funky groove']\nwav = model.generate(descriptions)  # generates 3 samples.`])(e):["# Type of model unknown."],filter:!1,countDownloads:'path:"state_dict.bin"'},audioseal:{prettyLabel:"AudioSeal",repoName:"audioseal",repoUrl:"https://github.com/facebookresearch/audioseal",filter:!1,countDownloads:'path_extension:"pth"',snippets:e=>[`# Watermark Generator\nfrom audioseal import AudioSeal\n\nmodel = AudioSeal.load_generator("${e.id}")\n# pass a tensor (tensor_wav) of shape (batch, channels, samples) and a sample rate\nwav, sr = tensor_wav, 16000\n\t\nwatermark = model.get_watermark(wav, sr)\nwatermarked_audio = wav + watermark`,`# Watermark Detector\nfrom audioseal import AudioSeal\n\ndetector = AudioSeal.load_detector("${e.id}")\n\t\nresult, message = detector.detect_watermark(watermarked_audio, sr)`]},"bagel-mot":{prettyLabel:"Bagel",repoName:"Bagel",repoUrl:"https://github.com/ByteDance-Seed/Bagel/",filter:!1,countDownloads:'path:"llm_config.json"'},ben2:{prettyLabel:"BEN2",repoName:"BEN2",repoUrl:"https://github.com/PramaLLC/BEN2",snippets:e=>[`import requests\nfrom PIL import Image\nfrom ben2 import AutoModel\n\nurl = "https://huggingface.co/datasets/mishig/sample_images/resolve/main/teapot.jpg"\nimage = Image.open(requests.get(url, stream=True).raw)\n\nmodel = AutoModel.from_pretrained("${e.id}")\nmodel.to("cuda").eval()\nforeground = model.inference(image)\n`],filter:!1},bertopic:{prettyLabel:"BERTopic",repoName:"BERTopic",repoUrl:"https://github.com/MaartenGr/BERTopic",snippets:e=>[`from bertopic import BERTopic\n\nmodel = BERTopic.load("${e.id}")`],filter:!0},big_vision:{prettyLabel:"Big Vision",repoName:"big_vision",repoUrl:"https://github.com/google-research/big_vision",filter:!1,countDownloads:'path_extension:"npz"'},birder:{prettyLabel:"Birder",repoName:"Birder",repoUrl:"https://gitlab.com/birder/birder",filter:!1,countDownloads:'path_extension:"pt"'},birefnet:{prettyLabel:"BiRefNet",repoName:"BiRefNet",repoUrl:"https://github.com/ZhengPeng7/BiRefNet",snippets:e=>[`# Option 1: use with transformers\n\nfrom transformers import AutoModelForImageSegmentation\nbirefnet = AutoModelForImageSegmentation.from_pretrained("${e.id}", trust_remote_code=True)\n`,`# Option 2: use with BiRefNet\n\n# Install from https://github.com/ZhengPeng7/BiRefNet\n\nfrom models.birefnet import BiRefNet\nmodel = BiRefNet.from_pretrained("${e.id}")`],filter:!1},bm25s:{prettyLabel:"BM25S",repoName:"bm25s",repoUrl:"https://github.com/xhluca/bm25s",snippets:e=>[`from bm25s.hf import BM25HF\n\nretriever = BM25HF.load_from_hub("${e.id}")`],filter:!1,countDownloads:'path:"params.index.json"'},champ:{prettyLabel:"Champ",repoName:"Champ",repoUrl:"https://github.com/fudan-generative-vision/champ",countDownloads:'path:"champ/motion_module.pth"'},chatterbox:{prettyLabel:"Chatterbox",repoName:"Chatterbox",repoUrl:"https://github.com/resemble-ai/chatterbox",snippets:()=>['# pip install chatterbox-tts\nimport torchaudio as ta\nfrom chatterbox.tts import ChatterboxTTS\n\nmodel = ChatterboxTTS.from_pretrained(device="cuda")\n\ntext = "Ezreal and Jinx teamed up with Ahri, Yasuo, and Teemo to take down the enemy\'s Nexus in an epic late-game pentakill."\nwav = model.generate(text)\nta.save("test-1.wav", wav, model.sr)\n\n# If you want to synthesize with a different voice, specify the audio prompt\nAUDIO_PROMPT_PATH="YOUR_FILE.wav"\nwav = model.generate(text, audio_prompt_path=AUDIO_PROMPT_PATH)\nta.save("test-2.wav", wav, model.sr)'],countDownloads:'path:"tokenizer.json"',filter:!1},chat_tts:{prettyLabel:"ChatTTS",repoName:"ChatTTS",repoUrl:"https://github.com/2noise/ChatTTS.git",snippets:()=>['import ChatTTS\nimport torchaudio\n\nchat = ChatTTS.Chat()\nchat.load_models(compile=False) # Set to True for better performance\n\ntexts = ["PUT YOUR TEXT HERE",]\n\nwavs = chat.infer(texts, )\n\ntorchaudio.save("output1.wav", torch.from_numpy(wavs[0]), 24000)'],filter:!1,countDownloads:'path:"asset/GPT.pt"'},colpali:{prettyLabel:"ColPali",repoName:"ColPali",repoUrl:"https://github.com/ManuelFay/colpali",filter:!1,countDownloads:'path:"adapter_config.json"'},comet:{prettyLabel:"COMET",repoName:"COMET",repoUrl:"https://github.com/Unbabel/COMET/",countDownloads:'path:"hparams.yaml"'},contexttab:{prettyLabel:"ConTextTab",repoName:"ConTextTab",repoUrl:"https://github.com/SAP-samples/contexttab",countDownloads:'path_extension:"pt"',snippets:()=>["pip install git+https://github.com/SAP-samples/contexttab",'# Run a classification task\nfrom sklearn.datasets import load_breast_cancer\nfrom sklearn.metrics import accuracy_score\nfrom sklearn.model_selection import train_test_split\n\nfrom contexttab import ConTextTabClassifier\n\n# Load sample data\nX, y = load_breast_cancer(return_X_y=True)\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.5, random_state=42)\n\n# Initialize a classifier\n# You can omit checkpoint and checkpoint_revision to use the default model\nclf = ConTextTabClassifier(checkpoint="l2/base.pt", checkpoint_revision="v1.0.0", bagging=1, max_context_size=2048)\n\nclf.fit(X_train, y_train)\n\n# Predict probabilities\nprediction_probabilities = clf.predict_proba(X_test)\n# Predict labels\npredictions = clf.predict(X_test)\nprint("Accuracy", accuracy_score(y_test, predictions))','# Run a regression task\nfrom sklearn.datasets import fetch_openml\nfrom sklearn.metrics import r2_score\nfrom sklearn.model_selection import train_test_split\n\nfrom contexttab import ConTextTabRegressor\n\n\n# Load sample data\ndf = fetch_openml(data_id=531, as_frame=True)\nX = df.data\ny = df.target.astype(float)\n\n# Train-test split\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.5, random_state=42)\n\n# Initialize the regressor\n# You can omit checkpoint and checkpoint_revision to use the default model\nregressor = ConTextTabRegressor(checkpoint="l2/base.pt", checkpoint_revision="v1.0.0", bagging=1, max_context_size=2048)\n\nregressor.fit(X_train, y_train)\n\n# Predict on the test set\npredictions = regressor.predict(X_test)\n\nr2 = r2_score(y_test, predictions)\nprint("R\xb2 Score:", r2)']},cosmos:{prettyLabel:"Cosmos",repoName:"Cosmos",repoUrl:"https://github.com/NVIDIA/Cosmos",countDownloads:'path:"config.json" OR path_extension:"pt"'},"cxr-foundation":{prettyLabel:"CXR Foundation",repoName:"cxr-foundation",repoUrl:"https://github.com/google-health/cxr-foundation",snippets:()=>["# pip install git+https://github.com/Google-Health/cxr-foundation.git#subdirectory=python\n\n# Load image as grayscale (Stillwaterising, CC0, via Wikimedia Commons)\nimport requests\nfrom PIL import Image\nfrom io import BytesIO\nimage_url = \"https://upload.wikimedia.org/wikipedia/commons/c/c8/Chest_Xray_PA_3-8-2010.png\"\nimg = Image.open(requests.get(image_url, headers={'User-Agent': 'Demo'}, stream=True).raw).convert('L')\n\n# Run inference\nfrom clientside.clients import make_hugging_face_client\ncxr_client = make_hugging_face_client('cxr_model')\nprint(cxr_client.get_image_embeddings_from_images([img]))"],filter:!1,countDownloads:'path:"precomputed_embeddings/embeddings.npz" OR path:"pax-elixr-b-text/saved_model.pb"'},deepforest:{prettyLabel:"DeepForest",repoName:"deepforest",docsUrl:"https://deepforest.readthedocs.io/en/latest/",repoUrl:"https://github.com/weecology/DeepForest"},"depth-anything-v2":{prettyLabel:"DepthAnythingV2",repoName:"Depth Anything V2",repoUrl:"https://github.com/DepthAnything/Depth-Anything-V2",snippets:e=>{let t,n,r;return t="<ENCODER>",n="<NUMBER_OF_FEATURES>",r="<OUT_CHANNELS>","depth-anything/Depth-Anything-V2-Small"===e.id?(t="vits",n="64",r="[48, 96, 192, 384]"):"depth-anything/Depth-Anything-V2-Base"===e.id?(t="vitb",n="128",r="[96, 192, 384, 768]"):"depth-anything/Depth-Anything-V2-Large"===e.id&&(t="vitl",n="256",r="[256, 512, 1024, 1024"),[`\n# Install from https://github.com/DepthAnything/Depth-Anything-V2\n\n# Load the model and infer depth from an image\nimport cv2\nimport torch\n\nfrom depth_anything_v2.dpt import DepthAnythingV2\n\n# instantiate the model\nmodel = DepthAnythingV2(encoder="${t}", features=${n}, out_channels=${r})\n\n# load the weights\nfilepath = hf_hub_download(repo_id="${e.id}", filename="depth_anything_v2_${t}.pth", repo_type="model")\nstate_dict = torch.load(filepath, map_location="cpu")\nmodel.load_state_dict(state_dict).eval()\n\nraw_img = cv2.imread("your/image/path")\ndepth = model.infer_image(raw_img) # HxW raw depth map in numpy\n    `]},filter:!1,countDownloads:'path_extension:"pth"'},"depth-pro":{prettyLabel:"Depth Pro",repoName:"Depth Pro",repoUrl:"https://github.com/apple/ml-depth-pro",countDownloads:'path_extension:"pt"',snippets:e=>[`# Download checkpoint\npip install huggingface-hub\nhuggingface-cli download --local-dir checkpoints ${e.id}`,'import depth_pro\n\n# Load model and preprocessing transform\nmodel, transform = depth_pro.create_model_and_transforms()\nmodel.eval()\n\n# Load and preprocess an image.\nimage, _, f_px = depth_pro.load_rgb("example.png")\nimage = transform(image)\n\n# Run inference.\nprediction = model.infer(image, f_px=f_px)\n\n# Results: 1. Depth in meters\ndepth = prediction["depth"]\n# Results: 2. Focal length in pixels\nfocallength_px = prediction["focallength_px"]'],filter:!1},"derm-foundation":{prettyLabel:"Derm Foundation",repoName:"derm-foundation",repoUrl:"https://github.com/google-health/derm-foundation",snippets:()=>['from huggingface_hub import from_pretrained_keras\nimport tensorflow as tf, requests\n\n# Load and format input\nIMAGE_URL = "https://storage.googleapis.com/dx-scin-public-data/dataset/images/3445096909671059178.png"\ninput_tensor = tf.train.Example(\n    features=tf.train.Features(\n        feature={\n            "image/encoded": tf.train.Feature(\n                bytes_list=tf.train.BytesList(value=[requests.get(IMAGE_URL, stream=True).content])\n            )\n        }\n    )\n).SerializeToString()\n\n# Load model and run inference\nloaded_model = from_pretrained_keras("google/derm-foundation")\ninfer = loaded_model.signatures["serving_default"]\nprint(infer(inputs=tf.constant([input_tensor])))'],filter:!1,countDownloads:'path:"scin_dataset_precomputed_embeddings.npz" OR path:"saved_model.pb"'},"describe-anything":{prettyLabel:"Describe Anything",repoName:"Describe Anything",repoUrl:"https://github.com/NVlabs/describe-anything",snippets:e=>[`# pip install git+https://github.com/NVlabs/describe-anything\nfrom huggingface_hub import snapshot_download\nfrom dam import DescribeAnythingModel\n\nsnapshot_download(${e.id}, local_dir="checkpoints")\n\ndam = DescribeAnythingModel(\n\tmodel_path="checkpoints",\n\tconv_mode="v1",\n\tprompt_mode="focal_prompt",\n)`],filter:!1},"dia-tts":{prettyLabel:"Dia",repoName:"Dia",repoUrl:"https://github.com/nari-labs/dia",snippets:e=>[`import soundfile as sf\nfrom dia.model import Dia\n\nmodel = Dia.from_pretrained("${e.id}")\ntext = "[S1] Dia is an open weights text to dialogue model. [S2] You get full control over scripts and voices. [S1] Wow. Amazing. (laughs) [S2] Try it now on Git hub or Hugging Face."\noutput = model.generate(text)\n\nsf.write("simple.mp3", output, 44100)`],filter:!1},diffree:{prettyLabel:"Diffree",repoName:"Diffree",repoUrl:"https://github.com/OpenGVLab/Diffree",filter:!1,countDownloads:'path:"diffree-step=000010999.ckpt"'},diffusers:{prettyLabel:"Diffusers",repoName:"\ud83e\udd17/diffusers",repoUrl:"https://github.com/huggingface/diffusers",docsUrl:"https://huggingface.co/docs/hub/diffusers",snippets:e=>e.tags.includes("controlnet")?(e=>[`from diffusers import ControlNetModel, StableDiffusionControlNetPipeline\n\ncontrolnet = ControlNetModel.from_pretrained("${e.id}")\npipe = StableDiffusionControlNetPipeline.from_pretrained(\n\t"${av(e)}", controlnet=controlnet\n)`])(e):e.tags.includes("lora")?"image-to-image"===e.pipeline_tag?(e=>[`from diffusers import DiffusionPipeline\nfrom diffusers.utils import load_image\n\npipe = DiffusionPipeline.from_pretrained("${av(e)}")\npipe.load_lora_weights("${e.id}")\n\nprompt = "${ov(e)??lv}"\ninput_image = load_image("https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/diffusers/cat.png")\n\nimage = pipe(image=input_image, prompt=prompt).images[0]`])(e):"image-to-video"===e.pipeline_tag?(e=>[`from diffusers import DiffusionPipeline\nfrom diffusers.utils import load_image, export_to_video\n\npipe = DiffusionPipeline.from_pretrained("${av(e)}")\npipe.load_lora_weights("${e.id}")\n\nprompt = "${ov(e)??cv}"\ninput_image = load_image("https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/diffusers/guitar-man.png")\n\nimage = pipe(image=input_image, prompt=prompt).frames[0]\nexport_to_video(output, "output.mp4")`])(e):"text-to-video"===e.pipeline_tag?(e=>[`from diffusers import DiffusionPipeline\nfrom diffusers.utils import export_to_video\n\npipe = DiffusionPipeline.from_pretrained("${av(e)}")\npipe.load_lora_weights("${e.id}")\n\nprompt = "${ov(e)??cv}"\n\noutput = pipe(prompt=prompt).frames[0]\nexport_to_video(output, "output.mp4")`])(e):(e=>[`from diffusers import DiffusionPipeline\n\npipe = DiffusionPipeline.from_pretrained("${av(e)}")\npipe.load_lora_weights("${e.id}")\n\nprompt = "${ov(e)??sv}"\nimage = pipe(prompt).images[0]`])(e):e.tags.includes("textual_inversion")?(e=>[`from diffusers import DiffusionPipeline\n\npipe = DiffusionPipeline.from_pretrained("${av(e)}")\npipe.load_textual_inversion("${e.id}")`])(e):"image-to-video"===e.pipeline_tag?(e=>[`import torch\nfrom diffusers import DiffusionPipeline\nfrom diffusers.utils import load_image, export_to_video\n\npipe = DiffusionPipeline.from_pretrained("${e.id}", torch_dtype=torch.float16)\npipe.to("cuda")\n\nprompt = "${ov(e)??cv}"\nimage = load_image(\n    "https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/diffusers/guitar-man.png"\n)\n\noutput = pipe(image=image, prompt=prompt).frames[0]\nexport_to_video(output, "output.mp4")`])(e):"image-to-image"===e.pipeline_tag?(e=>[`from diffusers import DiffusionPipeline\nfrom diffusers.utils import load_image\n\npipe = DiffusionPipeline.from_pretrained("${e.id}")\n\nprompt = "${ov(e)??lv}"\ninput_image = load_image("https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/diffusers/cat.png")\n\nimage = pipe(image=input_image, prompt=prompt).images[0]`])(e):(e=>[`from diffusers import DiffusionPipeline\n\npipe = DiffusionPipeline.from_pretrained("${e.id}")\n\nprompt = "${ov(e)??sv}"\nimage = pipe(prompt).images[0]`])(e),filter:!0},diffusionkit:{prettyLabel:"DiffusionKit",repoName:"DiffusionKit",repoUrl:"https://github.com/argmaxinc/DiffusionKit",snippets:e=>{const t=`# Pipeline for Stable Diffusion 3\nfrom diffusionkit.mlx import DiffusionPipeline\n\npipeline = DiffusionPipeline(\n\tshift=3.0,\n\tuse_t5=False,\n\tmodel_version=${e.id},\n\tlow_memory_mode=True,\n\ta16=True,\n\tw16=True,\n)`,n=`# Pipeline for Flux\nfrom diffusionkit.mlx import FluxPipeline\n\npipeline = FluxPipeline(\n  shift=1.0,\n  model_version=${e.id},\n  low_memory_mode=True,\n  a16=True,\n  w16=True,\n)`,r=`# Image Generation\nHEIGHT = 512\nWIDTH = 512\nNUM_STEPS = ${e.tags.includes("flux")?4:50}\nCFG_WEIGHT = ${e.tags.includes("flux")?0:5}\n\nimage, _ = pipeline.generate_image(\n  "a photo of a cat",\n  cfg_weight=CFG_WEIGHT,\n  num_steps=NUM_STEPS,\n  latent_size=(HEIGHT // 8, WIDTH // 8),\n)`;return[e.tags.includes("flux")?n:t,r]}},doctr:{prettyLabel:"docTR",repoName:"doctr",repoUrl:"https://github.com/mindee/doctr"},cartesia_pytorch:{prettyLabel:"Cartesia Pytorch",repoName:"Cartesia Pytorch",repoUrl:"https://github.com/cartesia-ai/cartesia_pytorch",snippets:e=>[`# pip install --no-binary :all: cartesia-pytorch\nfrom cartesia_pytorch import ReneLMHeadModel\nfrom transformers import AutoTokenizer\n\nmodel = ReneLMHeadModel.from_pretrained("${e.id}")\ntokenizer = AutoTokenizer.from_pretrained("allenai/OLMo-1B-hf")\n\nin_message = ["Rene Descartes was"]\ninputs = tokenizer(in_message, return_tensors="pt")\n\noutputs = model.generate(inputs.input_ids, max_length=50, top_k=100, top_p=0.99)\nout_message = tokenizer.batch_decode(outputs, skip_special_tokens=True)[0]\n\nprint(out_message)\n)`]},cartesia_mlx:{prettyLabel:"Cartesia MLX",repoName:"Cartesia MLX",repoUrl:"https://github.com/cartesia-ai/cartesia_mlx",snippets:e=>[`import mlx.core as mx\nimport cartesia_mlx as cmx\n\nmodel = cmx.from_pretrained("${e.id}")\nmodel.set_dtype(mx.float32)   \n\nprompt = "Rene Descartes was"\n\nfor text in model.generate(\n    prompt,\n    max_tokens=500,\n    eval_every_n=5,\n    verbose=True,\n    top_p=0.99,\n    temperature=0.85,\n):\n    print(text, end="", flush=True)\n`]},clipscope:{prettyLabel:"clipscope",repoName:"clipscope",repoUrl:"https://github.com/Lewington-pitsos/clipscope",filter:!1,countDownloads:'path_extension:"pt"'},cosyvoice:{prettyLabel:"CosyVoice",repoName:"CosyVoice",repoUrl:"https://github.com/FunAudioLLM/CosyVoice",filter:!1,countDownloads:'path_extension:"onnx" OR path_extension:"pt"'},cotracker:{prettyLabel:"CoTracker",repoName:"CoTracker",repoUrl:"https://github.com/facebookresearch/co-tracker",filter:!1,countDownloads:'path_extension:"pth"'},edsnlp:{prettyLabel:"EDS-NLP",repoName:"edsnlp",repoUrl:"https://github.com/aphp/edsnlp",docsUrl:"https://aphp.github.io/edsnlp/latest/",filter:!1,snippets:e=>{const t=iv(e.id).replaceAll("-","_");return[`# Load it from the Hub directly\nimport edsnlp\nnlp = edsnlp.load("${e.id}")\n`,`# Or install it as a package\n!pip install git+https://huggingface.co/${e.id}\n\n# and import it as a module\nimport ${t}\n\nnlp = ${t}.load()  # or edsnlp.load("${t}")\n`]},countDownloads:'path_filename:"config" AND path_extension:"cfg"'},elm:{prettyLabel:"ELM",repoName:"elm",repoUrl:"https://github.com/slicex-ai/elm",filter:!1,countDownloads:'path_filename:"slicex_elm_config" AND path_extension:"json"'},espnet:{prettyLabel:"ESPnet",repoName:"ESPnet",repoUrl:"https://github.com/espnet/espnet",docsUrl:"https://huggingface.co/docs/hub/espnet",snippets:e=>e.tags.includes("text-to-speech")?(e=>[`from espnet2.bin.tts_inference import Text2Speech\n\nmodel = Text2Speech.from_pretrained("${e.id}")\n\nspeech, *_ = model("text to generate speech from")`])(e):e.tags.includes("automatic-speech-recognition")?(e=>[`from espnet2.bin.asr_inference import Speech2Text\n\nmodel = Speech2Text.from_pretrained(\n  "${e.id}"\n)\n\nspeech, rate = soundfile.read("speech.wav")\ntext, *_ = model(speech)[0]`])(e):["unknown model type (must be text-to-speech or automatic-speech-recognition)"],filter:!0},fairseq:{prettyLabel:"Fairseq",repoName:"fairseq",repoUrl:"https://github.com/pytorch/fairseq",snippets:e=>[`from fairseq.checkpoint_utils import load_model_ensemble_and_task_from_hf_hub\n\nmodels, cfg, task = load_model_ensemble_and_task_from_hf_hub(\n    "${e.id}"\n)`],filter:!0},fastai:{prettyLabel:"fastai",repoName:"fastai",repoUrl:"https://github.com/fastai/fastai",docsUrl:"https://huggingface.co/docs/hub/fastai",snippets:e=>[`from huggingface_hub import from_pretrained_fastai\n\nlearn = from_pretrained_fastai("${e.id}")`],filter:!0},fasttext:{prettyLabel:"fastText",repoName:"fastText",repoUrl:"https://fasttext.cc/",snippets:e=>[`from huggingface_hub import hf_hub_download\nimport fasttext\n\nmodel = fasttext.load_model(hf_hub_download("${e.id}", "model.bin"))`],filter:!0,countDownloads:'path_extension:"bin"'},flair:{prettyLabel:"Flair",repoName:"Flair",repoUrl:"https://github.com/flairNLP/flair",docsUrl:"https://huggingface.co/docs/hub/flair",snippets:e=>[`from flair.models import SequenceTagger\n\ntagger = SequenceTagger.load("${e.id}")`],filter:!0,countDownloads:'path:"pytorch_model.bin"'},fme:{prettyLabel:"Full Model Emulation",repoName:"Full Model Emulation",repoUrl:"https://github.com/ai2cm/ace",docsUrl:"https://ai2-climate-emulator.readthedocs.io/en/latest/",filter:!1,countDownloads:'path_extension:"tar"'},"gemma.cpp":{prettyLabel:"gemma.cpp",repoName:"gemma.cpp",repoUrl:"https://github.com/google/gemma.cpp",filter:!1,countDownloads:'path_extension:"sbs"'},"geometry-crafter":{prettyLabel:"GeometryCrafter",repoName:"GeometryCrafter",repoUrl:"https://github.com/TencentARC/GeometryCrafter",countDownloads:'path:"point_map_vae/diffusion_pytorch_model.safetensors"'},gliner:{prettyLabel:"GLiNER",repoName:"GLiNER",repoUrl:"https://github.com/urchade/GLiNER",snippets:e=>[`from gliner import GLiNER\n\nmodel = GLiNER.from_pretrained("${e.id}")`],filter:!1,countDownloads:'path:"gliner_config.json"'},"glyph-byt5":{prettyLabel:"Glyph-ByT5",repoName:"Glyph-ByT5",repoUrl:"https://github.com/AIGText/Glyph-ByT5",filter:!1,countDownloads:'path:"checkpoints/byt5_model.pt"'},grok:{prettyLabel:"Grok",repoName:"Grok",repoUrl:"https://github.com/xai-org/grok-1",filter:!1,countDownloads:'path:"ckpt/tensor00000_000" OR path:"ckpt-0/tensor00000_000"'},hallo:{prettyLabel:"Hallo",repoName:"Hallo",repoUrl:"https://github.com/fudan-generative-vision/hallo",countDownloads:'path:"hallo/net.pth"'},hermes:{prettyLabel:"HERMES",repoName:"HERMES",repoUrl:"https://github.com/LMD0311/HERMES",filter:!1,countDownloads:'path:"ckpt/hermes_final.pth"'},hezar:{prettyLabel:"Hezar",repoName:"Hezar",repoUrl:"https://github.com/hezarai/hezar",docsUrl:"https://hezarai.github.io/hezar",countDownloads:'path:"model_config.yaml" OR path:"embedding/embedding_config.yaml"'},htrflow:{prettyLabel:"HTRflow",repoName:"HTRflow",repoUrl:"https://github.com/AI-Riksarkivet/htrflow",docsUrl:"https://ai-riksarkivet.github.io/htrflow",snippets:e=>["# CLI usage\n# see docs: https://ai-riksarkivet.github.io/htrflow/latest/getting_started/quick_start.html\nhtrflow pipeline <path/to/pipeline.yaml> <path/to/image>",`# Python usage\nfrom htrflow.pipeline.pipeline import Pipeline\nfrom htrflow.pipeline.steps import Task\nfrom htrflow.models.framework.model import ModelClass\n\npipeline = Pipeline(\n    [\n        Task(\n            ModelClass, {"model": "${e.id}"}, {}\n        ),\n    ])`]},"hunyuan-dit":{prettyLabel:"HunyuanDiT",repoName:"HunyuanDiT",repoUrl:"https://github.com/Tencent/HunyuanDiT",countDownloads:'path:"pytorch_model_ema.pt" OR path:"pytorch_model_distill.pt"'},"hunyuan3d-2":{prettyLabel:"Hunyuan3D-2",repoName:"Hunyuan3D-2",repoUrl:"https://github.com/Tencent/Hunyuan3D-2",countDownloads:'path_filename:"model_index" OR path_filename:"config"'},imstoucan:{prettyLabel:"IMS Toucan",repoName:"IMS-Toucan",repoUrl:"https://github.com/DigitalPhonetics/IMS-Toucan",countDownloads:'path:"embedding_gan.pt" OR path:"Vocoder.pt" OR path:"ToucanTTS.pt"'},"index-tts":{prettyLabel:"IndexTTS",repoName:"IndexTTS",repoUrl:"https://github.com/index-tts/index-tts",snippets:e=>[`# Download model\nfrom huggingface_hub import snapshot_download\n\nsnapshot_download(${e.id}, local_dir="checkpoints")\n\nfrom indextts.infer import IndexTTS\n\n# Ensure config.yaml is present in the checkpoints directory\ntts = IndexTTS(model_dir="checkpoints", cfg_path="checkpoints/config.yaml")\n\nvoice = "path/to/your/reference_voice.wav"  # Path to the voice reference audio file\ntext = "Hello, how are you?"\noutput_path = "output_index.wav"\n\ntts.infer(voice, text, output_path)`],filter:!1},"infinite-you":{prettyLabel:"InfiniteYou",repoName:"InfiniteYou",repoUrl:"https://github.com/bytedance/InfiniteYou",filter:!1,countDownloads:'path:"infu_flux_v1.0/sim_stage1/image_proj_model.bin" OR path:"infu_flux_v1.0/aes_stage2/image_proj_model.bin"'},keras:{prettyLabel:"Keras",repoName:"Keras",repoUrl:"https://github.com/keras-team/keras",docsUrl:"https://huggingface.co/docs/hub/keras",snippets:e=>[`# Available backend options are: "jax", "torch", "tensorflow".\nimport os\nos.environ["KERAS_BACKEND"] = "jax"\n\t\nimport keras\n\nmodel = keras.saving.load_model("hf://${e.id}")\n`],filter:!0,countDownloads:'path:"config.json" OR path_extension:"keras"'},"tf-keras":{prettyLabel:"TF-Keras",repoName:"TF-Keras",repoUrl:"https://github.com/keras-team/tf-keras",docsUrl:"https://huggingface.co/docs/hub/tf-keras",snippets:e=>[`# Note: 'keras<3.x' or 'tf_keras' must be installed (legacy)\n# See https://github.com/keras-team/tf-keras for more details.\nfrom huggingface_hub import from_pretrained_keras\n\nmodel = from_pretrained_keras("${e.id}")\n`],countDownloads:'path:"saved_model.pb"'},"keras-hub":{prettyLabel:"KerasHub",repoName:"KerasHub",repoUrl:"https://github.com/keras-team/keras-hub",docsUrl:"https://keras.io/keras_hub/",snippets:e=>{const t=e.id,n=e.config?.keras_hub?.tasks??[],r=[];for(const[i,a]of Object.entries(uv))n.includes(i)&&r.push(a(t));for(const i of n)Object.keys(uv).includes(i)||r.push(dv(i,t));return r.push((e=>`\nimport keras_hub\n\n# Create a Backbone model unspecialized for any task\nbackbone = keras_hub.models.Backbone.from_preset("hf://${e}")\n`)(t)),r},filter:!0},"kimi-audio":{prettyLabel:"KimiAudio",repoName:"KimiAudio",repoUrl:"https://github.com/MoonshotAI/Kimi-Audio",snippets:e=>[`# Example usage for KimiAudio\n# pip install git+https://github.com/MoonshotAI/Kimi-Audio.git\n\nfrom kimia_infer.api.kimia import KimiAudio\n\nmodel = KimiAudio(model_path="${e.id}", load_detokenizer=True)\n\nsampling_params = {\n    "audio_temperature": 0.8,\n    "audio_top_k": 10,\n    "text_temperature": 0.0,\n    "text_top_k": 5,\n}\n\n# For ASR\nasr_audio = "asr_example.wav"\nmessages_asr = [\n    {"role": "user", "message_type": "text", "content": "Please transcribe the following audio:"},\n    {"role": "user", "message_type": "audio", "content": asr_audio}\n]\n_, text = model.generate(messages_asr, **sampling_params, output_type="text")\nprint(text)\n\n# For Q&A\nqa_audio = "qa_example.wav"\nmessages_conv = [{"role": "user", "message_type": "audio", "content": qa_audio}]\nwav, text = model.generate(messages_conv, **sampling_params, output_type="both")\nsf.write("output_audio.wav", wav.cpu().view(-1).numpy(), 24000)\nprint(text)\n`],filter:!1},kronos:{prettyLabel:"KRONOS",repoName:"KRONOS",repoUrl:"https://github.com/mahmoodlab/KRONOS",filter:!1,countDownloads:'path_extension:"pt"'},k2:{prettyLabel:"K2",repoName:"k2",repoUrl:"https://github.com/k2-fsa/k2"},"lightning-ir":{prettyLabel:"Lightning IR",repoName:"Lightning IR",repoUrl:"https://github.com/webis-de/lightning-ir",snippets:e=>e.tags.includes("bi-encoder")?[`#install from https://github.com/webis-de/lightning-ir\n\nfrom lightning_ir import BiEncoderModule\nmodel = BiEncoderModule("${e.id}")\n\nmodel.score("query", ["doc1", "doc2", "doc3"])`]:e.tags.includes("cross-encoder")?[`#install from https://github.com/webis-de/lightning-ir\n\nfrom lightning_ir import CrossEncoderModule\nmodel = CrossEncoderModule("${e.id}")\n\nmodel.score("query", ["doc1", "doc2", "doc3"])`]:[`#install from https://github.com/webis-de/lightning-ir\n\nfrom lightning_ir import BiEncoderModule, CrossEncoderModule\n\n# depending on the model type, use either BiEncoderModule or CrossEncoderModule\nmodel = BiEncoderModule("${e.id}") \n# model = CrossEncoderModule("${e.id}")\n\nmodel.score("query", ["doc1", "doc2", "doc3"])`]},"litert-lm":{prettyLabel:"LiteRT-LM",repoName:"LiteRT-LM",repoUrl:"https://github.com/google-ai-edge/LiteRT-LM",filter:!1,countDownloads:'path_extension:"litertlm"'},lerobot:{prettyLabel:"LeRobot",repoName:"LeRobot",repoUrl:"https://github.com/huggingface/lerobot",docsUrl:"https://huggingface.co/docs/lerobot",filter:!1,snippets:e=>{if(e.tags.includes("smolvla")){const t=["# See https://github.com/huggingface/lerobot?tab=readme-ov-file#installation for more details\ngit clone https://github.com/huggingface/lerobot.git\ncd lerobot\npip install -e .[smolvla]",`# Launch finetuning on your dataset\npython lerobot/scripts/train.py \\\n--policy.path=${e.id} \\\n--dataset.repo_id=lerobot/svla_so101_pickplace \\ \n--batch_size=64 \\\n--steps=20000 \\\n--output_dir=outputs/train/my_smolvla \\\n--job_name=my_smolvla_training \\\n--policy.device=cuda \\\n--wandb.enable=true`];return"lerobot/smolvla_base"!==e.id&&t.push(`# Run the policy using the record function\t\npython -m lerobot.record \\\n  --robot.type=so101_follower \\\n  --robot.port=/dev/ttyACM0 \\ # <- Use your port\n  --robot.id=my_blue_follower_arm \\ # <- Use your robot id\n  --robot.cameras="{ front: {type: opencv, index_or_path: 8, width: 640, height: 480, fps: 30}}" \\ # <- Use your cameras\n  --dataset.single_task="Grasp a lego block and put it in the bin." \\ # <- Use the same task description you used in your dataset recording\n  --dataset.repo_id=HF_USER/dataset_name \\  # <- This will be the dataset name on HF Hub\n  --dataset.episode_time_s=50 \\\n  --dataset.num_episodes=10 \\\n  --policy.path=${e.id}`),t}return[]}},liveportrait:{prettyLabel:"LivePortrait",repoName:"LivePortrait",repoUrl:"https://github.com/KwaiVGI/LivePortrait",filter:!1,countDownloads:'path:"liveportrait/landmark.onnx"'},"llama-cpp-python":{prettyLabel:"llama-cpp-python",repoName:"llama-cpp-python",repoUrl:"https://github.com/abetlen/llama-cpp-python",snippets:e=>{const t=[`# !pip install llama-cpp-python\n\nfrom llama_cpp import Llama\n\nllm = Llama.from_pretrained(\n\trepo_id="${e.id}",\n\tfilename="{{GGUF_FILE}}",\n)\n`];if(e.tags.includes("conversational")){const n=tv(e);t.push(`llm.create_chat_completion(\n\tmessages = ${nv(n,{attributeKeyQuotes:!0,indent:"\t"})}\n)`)}else t.push('output = llm(\n\t"Once upon a time,",\n\tmax_tokens=512,\n\techo=True\n)\nprint(output)');return t}},"mini-omni2":{prettyLabel:"Mini-Omni2",repoName:"Mini-Omni2",repoUrl:"https://github.com/gpt-omni/mini-omni2",countDownloads:'path:"model_config.yaml"'},mindspore:{prettyLabel:"MindSpore",repoName:"mindspore",repoUrl:"https://github.com/mindspore-ai/mindspore"},"magi-1":{prettyLabel:"MAGI-1",repoName:"MAGI-1",repoUrl:"https://github.com/SandAI-org/MAGI-1",countDownloads:'path:"ckpt/vae/config.json"'},"magenta-realtime":{prettyLabel:"Magenta RT",repoName:"Magenta RT",repoUrl:"https://github.com/magenta/magenta-realtime",countDownloads:'path:"checkpoints/llm_base_x4286_c1860k.tar" OR path:"checkpoints/llm_large_x3047_c1860k.tar" OR path:"checkpoints/llm_large_x3047_c1860k/checkpoint"'},"mamba-ssm":{prettyLabel:"MambaSSM",repoName:"MambaSSM",repoUrl:"https://github.com/state-spaces/mamba",filter:!1,snippets:e=>[`from mamba_ssm import MambaLMHeadModel\n\nmodel = MambaLMHeadModel.from_pretrained("${e.id}")`]},"mars5-tts":{prettyLabel:"MARS5-TTS",repoName:"MARS5-TTS",repoUrl:"https://github.com/Camb-ai/MARS5-TTS",filter:!1,countDownloads:'path:"mars5_ar.safetensors"',snippets:e=>[`# Install from https://github.com/Camb-ai/MARS5-TTS\n\nfrom inference import Mars5TTS\nmars5 = Mars5TTS.from_pretrained("${e.id}")`]},matanyone:{prettyLabel:"MatAnyone",repoName:"MatAnyone",repoUrl:"https://github.com/pq-yang/MatAnyone",snippets:e=>[`# Install from https://github.com/pq-yang/MatAnyone.git\n\nfrom matanyone.model.matanyone import MatAnyone\nmodel = MatAnyone.from_pretrained("${e.id}")`,`\nfrom matanyone import InferenceCore\nprocessor = InferenceCore("${e.id}")`],filter:!1},"mesh-anything":{prettyLabel:"MeshAnything",repoName:"MeshAnything",repoUrl:"https://github.com/buaacyw/MeshAnything",filter:!1,countDownloads:'path:"MeshAnything_350m.pth"',snippets:()=>["# Install from https://github.com/buaacyw/MeshAnything.git\n\nfrom MeshAnything.models.meshanything import MeshAnything\n\n# refer to https://github.com/buaacyw/MeshAnything/blob/main/main.py#L91 on how to define args\n# and https://github.com/buaacyw/MeshAnything/blob/main/app.py regarding usage\nmodel = MeshAnything(args)"]},merlin:{prettyLabel:"Merlin",repoName:"Merlin",repoUrl:"https://github.com/StanfordMIMI/Merlin",filter:!1,countDownloads:'path_extension:"pt"'},medvae:{prettyLabel:"MedVAE",repoName:"MedVAE",repoUrl:"https://github.com/StanfordMIMI/MedVAE",filter:!1,countDownloads:'path_extension:"ckpt"'},mitie:{prettyLabel:"MITIE",repoName:"MITIE",repoUrl:"https://github.com/mit-nlp/MITIE",countDownloads:'path_filename:"total_word_feature_extractor"'},"ml-agents":{prettyLabel:"ml-agents",repoName:"ml-agents",repoUrl:"https://github.com/Unity-Technologies/ml-agents",docsUrl:"https://huggingface.co/docs/hub/ml-agents",snippets:e=>[`mlagents-load-from-hf --repo-id="${e.id}" --local-dir="./download: string[]s"`],filter:!0,countDownloads:'path_extension:"onnx"'},mlx:{prettyLabel:"MLX",repoName:"MLX",repoUrl:"https://github.com/ml-explore/mlx-examples/tree/main",snippets:e=>"image-text-to-text"===e.pipeline_tag?(e=>[`# Make sure mlx-vlm is installed\n# pip install --upgrade mlx-vlm\n\nfrom mlx_vlm import load, generate\nfrom mlx_vlm.prompt_utils import apply_chat_template\nfrom mlx_vlm.utils import load_config\n\n# Load the model\nmodel, processor = load("${e.id}")\nconfig = load_config("${e.id}")\n\n# Prepare input\nimage = ["http://images.cocodataset.org/val2017/000000039769.jpg"]\nprompt = "Describe this image."\n\n# Apply chat template\nformatted_prompt = apply_chat_template(\n    processor, config, prompt, num_images=1\n)\n\n# Generate output\noutput = generate(model, processor, formatted_prompt, image)\nprint(output)`])(e):"text-generation"===e.pipeline_tag?e.tags.includes("conversational")?(e=>[`# Make sure mlx-lm is installed\n# pip install --upgrade mlx-lm\n\n# Generate text with mlx-lm\nfrom mlx_lm import load, generate\n\nmodel, tokenizer = load("${e.id}")\n\nprompt = "Write a story about Einstein"\nmessages = [{"role": "user", "content": prompt}]\nprompt = tokenizer.apply_chat_template(\n    messages, add_generation_prompt=True\n)\n\ntext = generate(model, tokenizer, prompt=prompt, verbose=True)`])(e):(e=>[`# Make sure mlx-lm is installed\n# pip install --upgrade mlx-lm\n\n# Generate text with mlx-lm\nfrom mlx_lm import load, generate\n\nmodel, tokenizer = load("${e.id}")\n\nprompt = "Once upon a time in"\ntext = generate(model, tokenizer, prompt=prompt, verbose=True)`])(e):(e=>[`# Download the model from the Hub\npip install huggingface_hub[hf_xet]\n\nhuggingface-cli download --local-dir ${iv(e.id)} ${e.id}`])(e),filter:!0},"mlx-image":{prettyLabel:"mlx-image",repoName:"mlx-image",repoUrl:"https://github.com/riccardomusmeci/mlx-image",docsUrl:"https://huggingface.co/docs/hub/mlx-image",snippets:e=>[`from mlxim.model import create_model\n\nmodel = create_model(${e.id})`],filter:!1,countDownloads:'path:"model.safetensors"'},"mlc-llm":{prettyLabel:"MLC-LLM",repoName:"MLC-LLM",repoUrl:"https://github.com/mlc-ai/mlc-llm",docsUrl:"https://llm.mlc.ai/docs/",filter:!1,countDownloads:'path:"mlc-chat-config.json"'},model2vec:{prettyLabel:"Model2Vec",repoName:"model2vec",repoUrl:"https://github.com/MinishLab/model2vec",snippets:e=>[`from model2vec import StaticModel\n\nmodel = StaticModel.from_pretrained("${e.id}")`],filter:!1},moshi:{prettyLabel:"Moshi",repoName:"Moshi",repoUrl:"https://github.com/kyutai-labs/moshi",filter:!1,countDownloads:'path:"tokenizer-e351c8d8-checkpoint125.safetensors"'},mtvcraft:{prettyLabel:"MTVCraft",repoName:"MTVCraft",repoUrl:"https://github.com/baaivision/MTVCraft",filter:!1,countDownloads:'path:"vae/3d-vae.pt"'},nemo:{prettyLabel:"NeMo",repoName:"NeMo",repoUrl:"https://github.com/NVIDIA/NeMo",snippets:e=>{let t;return e.tags.includes("automatic-speech-recognition")&&(t=((e,t)=>{if("ASR"===e)return[`import nemo.collections.asr as nemo_asr\nasr_model = nemo_asr.models.ASRModel.from_pretrained("${t.id}")\n\ntranscriptions = asr_model.transcribe(["file.wav"])`]})("ASR",e)),t??["# tag did not correspond to a valid NeMo domain."]},filter:!0,countDownloads:'path_extension:"nemo" OR path:"model_config.yaml"'},"open-oasis":{prettyLabel:"open-oasis",repoName:"open-oasis",repoUrl:"https://github.com/etched-ai/open-oasis",countDownloads:'path:"oasis500m.safetensors"'},open_clip:{prettyLabel:"OpenCLIP",repoName:"OpenCLIP",repoUrl:"https://github.com/mlfoundations/open_clip",snippets:e=>[`import open_clip\n\nmodel, preprocess_train, preprocess_val = open_clip.create_model_and_transforms('hf-hub:${e.id}')\ntokenizer = open_clip.get_tokenizer('hf-hub:${e.id}')`],filter:!0,countDownloads:'path:"open_clip_model.safetensors"\n\t\t\tOR path:"model.safetensors"\n\t\t\tOR path:"open_clip_pytorch_model.bin"\n\t\t\tOR path:"pytorch_model.bin"'},"open-sora":{prettyLabel:"Open-Sora",repoName:"Open-Sora",repoUrl:"https://github.com/hpcaitech/Open-Sora",filter:!1,countDownloads:'path:"Open_Sora_v2.safetensors"'},outetts:{prettyLabel:"OuteTTS",repoName:"OuteTTS",repoUrl:"https://github.com/edwko/OuteTTS",snippets:e=>{const t=e.tags??[];return t.includes("gguf")||t.includes("onnx")?[]:[`\n  import outetts\n  \n  enum = outetts.Models("${e.id}".split("/", 1)[1])       # VERSION_1_0_SIZE_1B\n  cfg  = outetts.ModelConfig.auto_config(enum, outetts.Backend.HF)\n  tts  = outetts.Interface(cfg)\n  \n  speaker = tts.load_default_speaker("EN-FEMALE-1-NEUTRAL")\n  tts.generate(\n\t  outetts.GenerationConfig(\n\t\t  text="Hello there, how are you doing?",\n\t\t  speaker=speaker,\n\t  )\n  ).save("output.wav")\n  `]},filter:!1},paddlenlp:{prettyLabel:"paddlenlp",repoName:"PaddleNLP",repoUrl:"https://github.com/PaddlePaddle/PaddleNLP",docsUrl:"https://huggingface.co/docs/hub/paddlenlp",snippets:e=>{if(e.config?.architectures?.[0]){const t=e.config.architectures[0];return[[`from paddlenlp.transformers import AutoTokenizer, ${t}`,"",`tokenizer = AutoTokenizer.from_pretrained("${e.id}", from_hf_hub=True)`,`model = ${t}.from_pretrained("${e.id}", from_hf_hub=True)`].join("\n")]}return[["# \u26a0\ufe0f Type of model unknown","from paddlenlp.transformers import AutoTokenizer, AutoModel","",`tokenizer = AutoTokenizer.from_pretrained("${e.id}", from_hf_hub=True)`,`model = AutoModel.from_pretrained("${e.id}", from_hf_hub=True)`].join("\n")]},filter:!0,countDownloads:'path:"model_config.json"'},PaddleOCR:{prettyLabel:"PaddleOCR",repoName:"PaddleOCR",repoUrl:"https://github.com/PaddlePaddle/PaddleOCR",snippets:e=>[`# pip install paddleocr\nfrom paddleocr import TextDetection\nmodel = TextDetection(model_name="${e.id}")\noutput = model.predict(input="path/to/image.png", batch_size=1)\nfor res in output:\n    res.print()\n    res.save_to_img(save_path="./output/")\n    res.save_to_json(save_path="./output/res.json")`],filter:!0},peft:{prettyLabel:"PEFT",repoName:"PEFT",repoUrl:"https://github.com/huggingface/peft",snippets:e=>{const{base_model_name_or_path:t,task_type:n}=e.config?.peft??{},r=(e=>{switch(e){case"CAUSAL_LM":return"CausalLM";case"SEQ_2_SEQ_LM":return"Seq2SeqLM";case"TOKEN_CLS":return"TokenClassification";case"SEQ_CLS":return"SequenceClassification";default:return}})(n);return r?t?[`from peft import PeftModel\nfrom transformers import AutoModelFor${r}\n\nbase_model = AutoModelFor${r}.from_pretrained("${t}")\nmodel = PeftModel.from_pretrained(base_model, "${e.id}")`]:["Base model is not found."]:["Task type is invalid."]},filter:!0,countDownloads:'path:"adapter_config.json"'},"perception-encoder":{prettyLabel:"PerceptionEncoder",repoName:"PerceptionModels",repoUrl:"https://github.com/facebookresearch/perception_models",filter:!1,snippets:e=>{const t=`# Use PE-Core models as CLIP models\nimport core.vision_encoder.pe as pe\n\nmodel = pe.CLIP.from_config("${e.id}", pretrained=True)`,n=`# Use any PE model as a vision encoder\nimport core.vision_encoder.pe as pe\n\nmodel = pe.VisionTransformer.from_config("${e.id}", pretrained=True)`;return e.id.includes("Core")?[t,n]:[n]},countDownloads:'path_extension:"pt"'},"phantom-wan":{prettyLabel:"Phantom",repoName:"Phantom",repoUrl:"https://github.com/Phantom-video/Phantom",snippets:e=>[`from huggingface_hub import snapshot_download\nfrom phantom_wan import WANI2V, configs\n\ncheckpoint_dir = snapshot_download("${e.id}")\nwan_i2v = WanI2V(\n            config=configs.WAN_CONFIGS['i2v-14B'],\n            checkpoint_dir=checkpoint_dir,\n        )\n video = wan_i2v.generate(text_prompt, image_prompt)`],filter:!1,countDownloads:'path_extension:"pth"'},pxia:{prettyLabel:"pxia",repoName:"pxia",repoUrl:"https://github.com/not-lain/pxia",snippets:e=>[`from pxia import AutoModel\n\nmodel = AutoModel.from_pretrained("${e.id}")`],filter:!1},"pyannote-audio":{prettyLabel:"pyannote.audio",repoName:"pyannote-audio",repoUrl:"https://github.com/pyannote/pyannote-audio",snippets:e=>e.tags.includes("pyannote-audio-pipeline")?(e=>[`from pyannote.audio import Pipeline\n  \npipeline = Pipeline.from_pretrained("${e.id}")\n\n# inference on the whole file\npipeline("file.wav")\n\n# inference on an excerpt\nfrom pyannote.core import Segment\nexcerpt = Segment(start=2.0, end=5.0)\n\nfrom pyannote.audio import Audio\nwaveform, sample_rate = Audio().crop("file.wav", excerpt)\npipeline({"waveform": waveform, "sample_rate": sample_rate})`])(e):(e=>[`from pyannote.audio import Model, Inference\n\nmodel = Model.from_pretrained("${e.id}")\ninference = Inference(model)\n\n# inference on the whole file\ninference("file.wav")\n\n# inference on an excerpt\nfrom pyannote.core import Segment\nexcerpt = Segment(start=2.0, end=5.0)\ninference.crop("file.wav", excerpt)`])(e),filter:!0},"py-feat":{prettyLabel:"Py-Feat",repoName:"Py-Feat",repoUrl:"https://github.com/cosanlab/py-feat",docsUrl:"https://py-feat.org/",filter:!1},pythae:{prettyLabel:"pythae",repoName:"pythae",repoUrl:"https://github.com/clementchadebec/benchmark_VAE",snippets:e=>[`from pythae.models import AutoModel\n\nmodel = AutoModel.load_from_hf_hub("${e.id}")`],filter:!1},recurrentgemma:{prettyLabel:"RecurrentGemma",repoName:"recurrentgemma",repoUrl:"https://github.com/google-deepmind/recurrentgemma",filter:!1,countDownloads:'path:"tokenizer.model"'},relik:{prettyLabel:"Relik",repoName:"Relik",repoUrl:"https://github.com/SapienzaNLP/relik",snippets:e=>[`from relik import Relik\n \nrelik = Relik.from_pretrained("${e.id}")`],filter:!1},refiners:{prettyLabel:"Refiners",repoName:"Refiners",repoUrl:"https://github.com/finegrain-ai/refiners",docsUrl:"https://refine.rs/",filter:!1,countDownloads:'path:"model.safetensors"'},renderformer:{prettyLabel:"RenderFormer",repoName:"RenderFormer",repoUrl:"https://github.com/microsoft/renderformer",snippets:e=>[`# Install from https://github.com/microsoft/renderformer\n\nfrom renderformer import RenderFormerRenderingPipeline\npipeline = RenderFormerRenderingPipeline.from_pretrained("${e.id}")`],filter:!1},reverb:{prettyLabel:"Reverb",repoName:"Reverb",repoUrl:"https://github.com/revdotcom/reverb",filter:!1},saelens:{prettyLabel:"SAELens",repoName:"SAELens",repoUrl:"https://github.com/jbloomAus/SAELens",snippets:()=>['# pip install sae-lens\nfrom sae_lens import SAE\n\nsae, cfg_dict, sparsity = SAE.from_pretrained(\n    release = "RELEASE_ID", # e.g., "gpt2-small-res-jb". See other options in https://github.com/jbloomAus/SAELens/blob/main/sae_lens/pretrained_saes.yaml\n    sae_id = "SAE_ID", # e.g., "blocks.8.hook_resid_pre". Won\'t always be a hook point\n)'],filter:!1},sam2:{prettyLabel:"sam2",repoName:"sam2",repoUrl:"https://github.com/facebookresearch/segment-anything-2",filter:!1,snippets:e=>[`# Use SAM2 with images\nimport torch\nfrom sam2.sam2_image_predictor import SAM2ImagePredictor\n\npredictor = SAM2ImagePredictor.from_pretrained(${e.id})\n\nwith torch.inference_mode(), torch.autocast("cuda", dtype=torch.bfloat16):\n    predictor.set_image(<your_image>)\n    masks, _, _ = predictor.predict(<input_prompts>)`,`# Use SAM2 with videos\nimport torch\nfrom sam2.sam2_video_predictor import SAM2VideoPredictor\n\t\npredictor = SAM2VideoPredictor.from_pretrained(${e.id})\n\nwith torch.inference_mode(), torch.autocast("cuda", dtype=torch.bfloat16):\n    state = predictor.init_state(<your_video>)\n\n    # add new prompts and instantly get the output on the same frame\n    frame_idx, object_ids, masks = predictor.add_new_points(state, <your_prompts>):\n\n    # propagate the prompts to get masklets throughout the video\n    for frame_idx, object_ids, masks in predictor.propagate_in_video(state):\n        ...`],countDownloads:'path_extension:"pt"'},"sample-factory":{prettyLabel:"sample-factory",repoName:"sample-factory",repoUrl:"https://github.com/alex-petrenko/sample-factory",docsUrl:"https://huggingface.co/docs/hub/sample-factory",snippets:e=>[`python -m sample_factory.huggingface.load_from_hub -r ${e.id} -d ./train_dir`],filter:!0,countDownloads:'path:"cfg.json"'},sapiens:{prettyLabel:"sapiens",repoName:"sapiens",repoUrl:"https://github.com/facebookresearch/sapiens",filter:!1,countDownloads:'path_extension:"pt2" OR path_extension:"pth" OR path_extension:"onnx"'},seedvr:{prettyLabel:"SeedVR",repoName:"SeedVR",repoUrl:"https://github.com/ByteDance-Seed/SeedVR",filter:!1,countDownloads:'path_extension:"pth"'},"sentence-transformers":{prettyLabel:"sentence-transformers",repoName:"sentence-transformers",repoUrl:"https://github.com/UKPLab/sentence-transformers",docsUrl:"https://huggingface.co/docs/hub/sentence-transformers",snippets:e=>{const t=e.tags.includes(rv)?", trust_remote_code=True":"";if(e.tags.includes("cross-encoder")||"text-ranking"==e.pipeline_tag)return[`from sentence_transformers import CrossEncoder\n\nmodel = CrossEncoder("${e.id}"${t})\n\nquery = "Which planet is known as the Red Planet?"\npassages = [\n\t"Venus is often called Earth's twin because of its similar size and proximity.",\n\t"Mars, known for its reddish appearance, is often referred to as the Red Planet.",\n\t"Jupiter, the largest planet in our solar system, has a prominent red spot.",\n\t"Saturn, famous for its rings, is sometimes mistaken for the Red Planet."\n]\n\nscores = model.predict([(query, passage) for passage in passages])\nprint(scores)`];const n=function(e){const t=e.widgetData?.[0];if(t?.source_sentence&&t?.sentences?.length)return[t.source_sentence,...t.sentences]}(e)??["The weather is lovely today.","It's so sunny outside!","He drove to the stadium."];return[`from sentence_transformers import SentenceTransformer\n\nmodel = SentenceTransformer("${e.id}"${t})\n\nsentences = ${JSON.stringify(n,null,4)}\nembeddings = model.encode(sentences)\n\nsimilarities = model.similarity(embeddings, embeddings)\nprint(similarities.shape)\n# [${n.length}, ${n.length}]`]},filter:!0},setfit:{prettyLabel:"setfit",repoName:"setfit",repoUrl:"https://github.com/huggingface/setfit",docsUrl:"https://huggingface.co/docs/hub/setfit",snippets:e=>[`from setfit import SetFitModel\n\nmodel = SetFitModel.from_pretrained("${e.id}")`],filter:!0},sklearn:{prettyLabel:"Scikit-learn",repoName:"Scikit-learn",repoUrl:"https://github.com/scikit-learn/scikit-learn",snippets:e=>{if(e.tags.includes("skops")){const t=e.config?.sklearn?.model?.file,n=e.config?.sklearn?.model_format;return t?"pickle"===n?((e,t)=>[`import joblib\nfrom skops.hub_utils import download\ndownload("${e.id}", "path_to_folder")\nmodel = joblib.load(\n\t"${t}"\n)\n# only load pickle files from sources you trust\n# read more about it here https://skops.readthedocs.io/en/stable/persistence.html`])(e,t):((e,t)=>[`from skops.hub_utils import download\nfrom skops.io import load\ndownload("${e.id}", "path_to_folder")\n# make sure model file is in skops format\n# if model is a pickle file, make sure it's from a source you trust\nmodel = load("path_to_folder/${t}")`])(e,t):["# \u26a0\ufe0f Model filename not specified in config.json"]}return(e=>[`from huggingface_hub import hf_hub_download\nimport joblib\nmodel = joblib.load(\n\thf_hub_download("${e.id}", "sklearn_model.joblib")\n)\n# only load pickle files from sources you trust\n# read more about it here https://skops.readthedocs.io/en/stable/persistence.html`])(e)},filter:!0,countDownloads:'path:"sklearn_model.joblib"'},spacy:{prettyLabel:"spaCy",repoName:"spaCy",repoUrl:"https://github.com/explosion/spaCy",docsUrl:"https://huggingface.co/docs/hub/spacy",snippets:e=>[`!pip install https://huggingface.co/${e.id}/resolve/main/${iv(e.id)}-any-py3-none-any.whl\n\n# Using spacy.load().\nimport spacy\nnlp = spacy.load("${iv(e.id)}")\n\n# Importing as module.\nimport ${iv(e.id)}\nnlp = ${iv(e.id)}.load()`],filter:!0,countDownloads:'path_extension:"whl"'},"span-marker":{prettyLabel:"SpanMarker",repoName:"SpanMarkerNER",repoUrl:"https://github.com/tomaarsen/SpanMarkerNER",docsUrl:"https://huggingface.co/docs/hub/span_marker",snippets:e=>[`from span_marker import SpanMarkerModel\n\nmodel = SpanMarkerModel.from_pretrained("${e.id}")`],filter:!0},speechbrain:{prettyLabel:"speechbrain",repoName:"speechbrain",repoUrl:"https://github.com/speechbrain/speechbrain",docsUrl:"https://huggingface.co/docs/hub/speechbrain",snippets:e=>{const t=e.config?.speechbrain?.speechbrain_interface;if(void 0===t)return["# interface not specified in config.json"];const n=(e=>{switch(e){case"EncoderClassifier":return"classify_file";case"EncoderDecoderASR":case"EncoderASR":return"transcribe_file";case"SpectralMaskEnhancement":return"enhance_file";case"SepformerSeparation":return"separate_file";default:return}})(t);return void 0===n?["# interface in config.json invalid"]:[`from speechbrain.pretrained import ${t}\nmodel = ${t}.from_hparams(\n  "${e.id}"\n)\nmodel.${n}("file.wav")`]},filter:!0,countDownloads:'path:"hyperparams.yaml"'},"ssr-speech":{prettyLabel:"SSR-Speech",repoName:"SSR-Speech",repoUrl:"https://github.com/WangHelin1997/SSR-Speech",filter:!1,countDownloads:'path_extension:".pth"'},"stable-audio-tools":{prettyLabel:"Stable Audio Tools",repoName:"stable-audio-tools",repoUrl:"https://github.com/Stability-AI/stable-audio-tools.git",filter:!1,countDownloads:'path:"model.safetensors"',snippets:e=>[`import torch\nimport torchaudio\nfrom einops import rearrange\nfrom stable_audio_tools import get_pretrained_model\nfrom stable_audio_tools.inference.generation import generate_diffusion_cond\n\ndevice = "cuda" if torch.cuda.is_available() else "cpu"\n\n# Download model\nmodel, model_config = get_pretrained_model("${e.id}")\nsample_rate = model_config["sample_rate"]\nsample_size = model_config["sample_size"]\n\nmodel = model.to(device)\n\n# Set up text and timing conditioning\nconditioning = [{\n\t"prompt": "128 BPM tech house drum loop",\n}]\n\n# Generate stereo audio\noutput = generate_diffusion_cond(\n\tmodel,\n\tconditioning=conditioning,\n\tsample_size=sample_size,\n\tdevice=device\n)\n\n# Rearrange audio batch to a single sequence\noutput = rearrange(output, "b d n -> d (b n)")\n\n# Peak normalize, clip, convert to int16, and save to file\noutput = output.to(torch.float32).div(torch.max(torch.abs(output))).clamp(-1, 1).mul(32767).to(torch.int16).cpu()\ntorchaudio.save("output.wav", output, sample_rate)`]},monkeyocr:{prettyLabel:"MonkeyOCR",repoName:"monkeyocr",repoUrl:"https://github.com/Yuliang-Liu/MonkeyOCR",filter:!1,countDownloads:'path:"Recognition/config.json"'},"diffusion-single-file":{prettyLabel:"Diffusion Single File",repoName:"diffusion-single-file",repoUrl:"https://github.com/comfyanonymous/ComfyUI",filter:!1,countDownloads:'path_extension:"safetensors"'},"seed-story":{prettyLabel:"SEED-Story",repoName:"SEED-Story",repoUrl:"https://github.com/TencentARC/SEED-Story",filter:!1,countDownloads:'path:"cvlm_llama2_tokenizer/tokenizer.model"',snippets:()=>["# seed_story_cfg_path refers to 'https://github.com/TencentARC/SEED-Story/blob/master/configs/clm_models/agent_7b_sft.yaml'\n# llm_cfg_path refers to 'https://github.com/TencentARC/SEED-Story/blob/master/configs/clm_models/llama2chat7b_lora.yaml'\nfrom omegaconf import OmegaConf\nimport hydra\n\n# load Llama2\nllm_cfg = OmegaConf.load(llm_cfg_path)\nllm = hydra.utils.instantiate(llm_cfg, torch_dtype=\"fp16\")\n\n# initialize seed_story\nseed_story_cfg = OmegaConf.load(seed_story_cfg_path)\nseed_story = hydra.utils.instantiate(seed_story_cfg, llm=llm) "]},soloaudio:{prettyLabel:"SoloAudio",repoName:"SoloAudio",repoUrl:"https://github.com/WangHelin1997/SoloAudio",filter:!1,countDownloads:'path:"soloaudio_v2.pt"'},"stable-baselines3":{prettyLabel:"stable-baselines3",repoName:"stable-baselines3",repoUrl:"https://github.com/huggingface/huggingface_sb3",docsUrl:"https://huggingface.co/docs/hub/stable-baselines3",snippets:e=>[`from huggingface_sb3 import load_from_hub\ncheckpoint = load_from_hub(\n\trepo_id="${e.id}",\n\tfilename="{MODEL FILENAME}.zip",\n)`],filter:!0,countDownloads:'path_extension:"zip"'},stanza:{prettyLabel:"Stanza",repoName:"stanza",repoUrl:"https://github.com/stanfordnlp/stanza",docsUrl:"https://huggingface.co/docs/hub/stanza",snippets:e=>[`import stanza\n\nstanza.download("${iv(e.id).replace("stanza-","")}")\nnlp = stanza.Pipeline("${iv(e.id).replace("stanza-","")}")`],filter:!0,countDownloads:'path:"models/default.zip"'},swarmformer:{prettyLabel:"SwarmFormer",repoName:"SwarmFormer",repoUrl:"https://github.com/takara-ai/SwarmFormer",snippets:e=>[`from swarmformer import SwarmFormerModel\n\nmodel = SwarmFormerModel.from_pretrained("${e.id}")\n`],filter:!1},"f5-tts":{prettyLabel:"F5-TTS",repoName:"F5-TTS",repoUrl:"https://github.com/SWivid/F5-TTS",filter:!1,countDownloads:'path_extension:"safetensors" OR path_extension:"pt"'},genmo:{prettyLabel:"Genmo",repoName:"Genmo",repoUrl:"https://github.com/genmoai/models",filter:!1,countDownloads:'path:"vae_stats.json"'},"tencent-song-generation":{prettyLabel:"SongGeneration",repoName:"SongGeneration",repoUrl:"https://github.com/tencent-ailab/songgeneration",filter:!1,countDownloads:'path:"ckpt/songgeneration_base/model.pt"'},tensorflowtts:{prettyLabel:"TensorFlowTTS",repoName:"TensorFlowTTS",repoUrl:"https://github.com/TensorSpeech/TensorFlowTTS",snippets:e=>e.tags.includes("text-to-mel")?(e=>[`from tensorflow_tts.inference import AutoProcessor, TFAutoModel\n\nprocessor = AutoProcessor.from_pretrained("${e.id}")\nmodel = TFAutoModel.from_pretrained("${e.id}")\n`])(e):e.tags.includes("mel-to-wav")?(e=>[`from tensorflow_tts.inference import TFAutoModel\n\nmodel = TFAutoModel.from_pretrained("${e.id}")\naudios = model.inference(mels)\n`])(e):(e=>[`from tensorflow_tts.inference import TFAutoModel\n\nmodel = TFAutoModel.from_pretrained("${e.id}")\n`])(e)},tabpfn:{prettyLabel:"TabPFN",repoName:"TabPFN",repoUrl:"https://github.com/PriorLabs/TabPFN"},terratorch:{prettyLabel:"TerraTorch",repoName:"TerraTorch",repoUrl:"https://github.com/IBM/terratorch",docsUrl:"https://ibm.github.io/terratorch/",filter:!1,countDownloads:'path_extension:"pt"',snippets:e=>[`from terratorch.registry import BACKBONE_REGISTRY\n\nmodel = BACKBONE_REGISTRY.build("${e.id}")`]},"tic-clip":{prettyLabel:"TiC-CLIP",repoName:"TiC-CLIP",repoUrl:"https://github.com/apple/ml-tic-clip",filter:!1,countDownloads:'path_extension:"pt" AND path_prefix:"checkpoints/"'},timesfm:{prettyLabel:"TimesFM",repoName:"timesfm",repoUrl:"https://github.com/google-research/timesfm",filter:!1,countDownloads:'path:"checkpoints/checkpoint_1100000/state/checkpoint" OR path:"checkpoints/checkpoint_2150000/state/checkpoint" OR path_extension:"ckpt"'},timm:{prettyLabel:"timm",repoName:"pytorch-image-models",repoUrl:"https://github.com/rwightman/pytorch-image-models",docsUrl:"https://huggingface.co/docs/hub/timm",snippets:e=>[`import timm\n\nmodel = timm.create_model("hf_hub:${e.id}", pretrained=True)`],filter:!0,countDownloads:'path:"pytorch_model.bin" OR path:"model.safetensors"'},tirex:{prettyLabel:"TiRex",repoName:"TiRex",repoUrl:"https://github.com/NX-AI/tirex",countDownloads:'path_extension:"ckpt"'},torchgeo:{prettyLabel:"TorchGeo",repoName:"TorchGeo",repoUrl:"https://github.com/microsoft/torchgeo",docsUrl:"https://torchgeo.readthedocs.io/",filter:!1,countDownloads:'path_extension:"pt" OR path_extension:"pth"'},transformers:{prettyLabel:"Transformers",repoName:"\ud83e\udd17/transformers",repoUrl:"https://github.com/huggingface/transformers",docsUrl:"https://huggingface.co/docs/hub/transformers",snippets:e=>{const t=e.transformersInfo;if(!t)return["# \u26a0\ufe0f Type of model unknown"];const n=e.tags.includes(rv)?", trust_remote_code=True":"",r=[];if(t.processor){const i="AutoTokenizer"===t.processor?"tokenizer":"AutoFeatureExtractor"===t.processor?"extractor":"processor";r.push("# Load model directly",`from transformers import ${t.processor}, ${t.auto_model}`,"",`${i} = ${t.processor}.from_pretrained("${e.id}"`+n+")",`model = ${t.auto_model}.from_pretrained("${e.id}"`+n+")"),e.tags.includes("conversational")&&(e.tags.includes("image-text-to-text")?r.push("messages = [",["    {",'        "role": "user",','        "content": [','            {"type": "image", "url": "https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/p-blog/candy.JPG"},','            {"type": "text", "text": "What animal is on the candy?"}',"        ]","    },"].join("\n"),"]"):r.push("messages = [",'    {"role": "user", "content": "Who are you?"},',"]"),r.push("inputs = ${processorVarName}.apply_chat_template(","\tmessages,","\tadd_generation_prompt=True,","\ttokenize=True,","\treturn_dict=True,",'\treturn_tensors="pt",',").to(model.device)","","outputs = model.generate(**inputs, max_new_tokens=40)",'print(${processorVarName}.decode(outputs[0][inputs["input_ids"].shape[-1]:]))'))}else r.push("# Load model directly",`from transformers import ${t.auto_model}`,`model = ${t.auto_model}.from_pretrained("${e.id}"`+n+', torch_dtype="auto"),');if(e.pipeline_tag&&Bg.transformers?.includes(e.pipeline_tag)){const t=["# Use a pipeline as a high-level helper","from transformers import pipeline","",`pipe = pipeline("${e.pipeline_tag}", model="${e.id}"`+n+")"];return e.tags.includes("conversational")?e.tags.includes("image-text-to-text")?(t.push("messages = [",["    {",'        "role": "user",','        "content": [','            {"type": "image", "url": "https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/p-blog/candy.JPG"},','            {"type": "text", "text": "What animal is on the candy?"}',"        ]","    },"].join("\n"),"]"),t.push("pipe(text=messages)")):(t.push("messages = [",'    {"role": "user", "content": "Who are you?"},',"]"),t.push("pipe(messages)")):"zero-shot-image-classification"===e.pipeline_tag?t.push("pipe(",'    "https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/hub/parrots.png",','    candidate_labels=["animals", "humans", "landscape"],',")"):"image-classification"===e.pipeline_tag&&t.push('pipe("https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/hub/parrots.png")'),[t.join("\n"),r.join("\n")]}return[r.join("\n")]},filter:!0},"transformers.js":{prettyLabel:"Transformers.js",repoName:"transformers.js",repoUrl:"https://github.com/huggingface/transformers.js",docsUrl:"https://huggingface.co/docs/hub/transformers-js",snippets:e=>{if(!e.pipeline_tag)return["// \u26a0\ufe0f Unknown pipeline tag"];const t="@huggingface/transformers";return[`// npm i ${t}\nimport { pipeline } from '${t}';\n\n// Allocate pipeline\nconst pipe = await pipeline('${e.pipeline_tag}', '${e.id}');`]},filter:!0},trellis:{prettyLabel:"Trellis",repoName:"Trellis",repoUrl:"https://github.com/microsoft/TRELLIS",countDownloads:'path_extension:"safetensors"'},ultralytics:{prettyLabel:"ultralytics",repoName:"ultralytics",repoUrl:"https://github.com/ultralytics/ultralytics",docsUrl:"https://github.com/ultralytics/ultralytics",filter:!1,countDownloads:'path_extension:"pt"',snippets:hv},univa:{prettyLabel:"univa",repoName:"univa",repoUrl:"https://github.com/PKU-YuanGroup/UniWorld-V1",snippets:e=>[`# Follow installation instructions at https://github.com/PKU-YuanGroup/UniWorld-V1\n\nfrom univa.models.qwen2p5vl.modeling_univa_qwen2p5vl import UnivaQwen2p5VLForConditionalGeneration\n\tmodel = UnivaQwen2p5VLForConditionalGeneration.from_pretrained(\n        "${e.id}",\n        torch_dtype=torch.bfloat16,\n        attn_implementation="flash_attention_2",\n    ).to("cuda")\n\tprocessor = AutoProcessor.from_pretrained("${e.id}")\n`],filter:!0,countDownloads:'path:"config.json"'},"uni-3dar":{prettyLabel:"Uni-3DAR",repoName:"Uni-3DAR",repoUrl:"https://github.com/dptech-corp/Uni-3DAR",docsUrl:"https://github.com/dptech-corp/Uni-3DAR",countDownloads:'path_extension:"pt"'},"unity-sentis":{prettyLabel:"unity-sentis",repoName:"unity-sentis",repoUrl:"https://github.com/Unity-Technologies/sentis-samples",snippets:()=>['string modelName = "[Your model name here].sentis";\nModel model = ModelLoader.Load(Application.streamingAssetsPath + "/" + modelName);\nIWorker engine = WorkerFactory.CreateWorker(BackendType.GPUCompute, model);\n// Please see provided C# file for more details\n'],filter:!0,countDownloads:'path_extension:"sentis"'},sana:{prettyLabel:"Sana",repoName:"Sana",repoUrl:"https://github.com/NVlabs/Sana",countDownloads:'path_extension:"pth"',snippets:e=>[`\n# Load the model and infer image from text\nimport torch\nfrom app.sana_pipeline import SanaPipeline\nfrom torchvision.utils import save_image\n\nsana = SanaPipeline("configs/sana_config/1024ms/Sana_1600M_img1024.yaml")\nsana.from_pretrained("hf://${e.id}")\n\nimage = sana(\n    prompt='a cyberpunk cat with a neon sign that says "Sana"',\n    height=1024,\n    width=1024,\n    guidance_scale=5.0,\n    pag_guidance_scale=2.0,\n    num_inference_steps=18,\n) `]},videoprism:{prettyLabel:"VideoPrism",repoName:"VideoPrism",repoUrl:"https://github.com/google-deepmind/videoprism",countDownloads:'path_extension:"npz"',snippets:e=>[`# Install from https://github.com/google-deepmind/videoprism\nimport jax\nimport jax.numpy as jnp\nfrom videoprism import models as vp\n\nflax_model = vp.MODELS["${e.id}"]()\nloaded_state = vp.load_pretrained_weights("${e.id}")\n\n@jax.jit\ndef forward_fn(inputs, train=False):\n  return flax_model.apply(loaded_state, inputs, train=train)`]},"vfi-mamba":{prettyLabel:"VFIMamba",repoName:"VFIMamba",repoUrl:"https://github.com/MCG-NJU/VFIMamba",countDownloads:'path_extension:"pkl"',snippets:e=>[`from Trainer_finetune import Model\n\nmodel = Model.from_pretrained("${e.id}")`]},voicecraft:{prettyLabel:"VoiceCraft",repoName:"VoiceCraft",repoUrl:"https://github.com/jasonppy/VoiceCraft",docsUrl:"https://github.com/jasonppy/VoiceCraft",snippets:e=>[`from voicecraft import VoiceCraft\n\nmodel = VoiceCraft.from_pretrained("${e.id}")`]},vui:{prettyLabel:"Vui",repoName:"Vui",repoUrl:"https://github.com/vui-ai/vui",countDownloads:'path_extension:"pt"',snippets:()=>['# !pip install git+https://github.com/fluxions-ai/vui\n\nimport torchaudio\n\nfrom vui.inference import render\nfrom vui.model import Vui,\n\nmodel = Vui.from_pretrained().cuda()\nwaveform = render(\n    model,\n    "Hey, here is some random stuff, usually something quite long as the shorter the text the less likely the model can cope!",\n)\nprint(waveform.shape)\ntorchaudio.save("out.opus", waveform[0], 22050)\n']},wham:{prettyLabel:"WHAM",repoName:"wham",repoUrl:"https://huggingface.co/microsoft/wham",docsUrl:"https://huggingface.co/microsoft/wham/blob/main/README.md",countDownloads:'path_extension:"ckpt"'},whisperkit:{prettyLabel:"WhisperKit",repoName:"WhisperKit",repoUrl:"https://github.com/argmaxinc/WhisperKit",docsUrl:"https://github.com/argmaxinc/WhisperKit?tab=readme-ov-file#homebrew",snippets:()=>['# Install CLI with Homebrew on macOS device\nbrew install whisperkit-cli\n\n# View all available inference options\nwhisperkit-cli transcribe --help\n\t\n# Download and run inference using whisper base model\nwhisperkit-cli transcribe --audio-path /path/to/audio.mp3\n\n# Or use your preferred model variant\nwhisperkit-cli transcribe --model "large-v3" --model-prefix "distil" --audio-path /path/to/audio.mp3 --verbose'],countDownloads:'path_filename:"model" AND path_extension:"mil" AND _exists_:"path_prefix"'},yolov10:{prettyLabel:"YOLOv10",repoName:"YOLOv10",repoUrl:"https://github.com/THU-MIG/yolov10",docsUrl:"https://github.com/THU-MIG/yolov10",countDownloads:'path_extension:"pt" OR path_extension:"safetensors"',snippets:hv},zonos:{prettyLabel:"Zonos",repoName:"Zonos",repoUrl:"https://github.com/Zyphra/Zonos",docsUrl:"https://github.com/Zyphra/Zonos",snippets:e=>[`# pip install git+https://github.com/Zyphra/Zonos.git\nimport torchaudio\nfrom zonos.model import Zonos\nfrom zonos.conditioning import make_cond_dict\n\nmodel = Zonos.from_pretrained("${e.id}", device="cuda")\n\nwav, sr = torchaudio.load("speaker.wav")           # 5-10s reference clip\nspeaker = model.make_speaker_embedding(wav, sr)\n\ncond  = make_cond_dict(text="Hello, world!", speaker=speaker, language="en-us")\ncodes = model.generate(model.prepare_conditioning(cond))\n\naudio = model.autoencoder.decode(codes)[0].cpu()\ntorchaudio.save("sample.wav", audio, model.autoencoder.sampling_rate)\n`],filter:!1},"3dtopia-xl":{prettyLabel:"3DTopia-XL",repoName:"3DTopia-XL",repoUrl:"https://github.com/3DTopia/3DTopia-XL",filter:!1,countDownloads:'path:"model_vae_fp16.pt"',snippets:e=>[`from threedtopia_xl.models import threedtopia_xl\n\nmodel = threedtopia_xl.from_pretrained("${e.id}")\nmodel.generate(cond="path/to/image.png")`]}};Object.keys(pv),Object.entries(pv).filter(e=>{let[t,n]=e;return n.filter}).map(e=>{let[t]=e;return t});var fv;!function(e){e[e.F32=0]="F32",e[e.F16=1]="F16",e[e.Q4_0=2]="Q4_0",e[e.Q4_1=3]="Q4_1",e[e.Q4_1_SOME_F16=4]="Q4_1_SOME_F16",e[e.Q4_2=5]="Q4_2",e[e.Q4_3=6]="Q4_3",e[e.Q8_0=7]="Q8_0",e[e.Q5_0=8]="Q5_0",e[e.Q5_1=9]="Q5_1",e[e.Q2_K=10]="Q2_K",e[e.Q3_K_S=11]="Q3_K_S",e[e.Q3_K_M=12]="Q3_K_M",e[e.Q3_K_L=13]="Q3_K_L",e[e.Q4_K_S=14]="Q4_K_S",e[e.Q4_K_M=15]="Q4_K_M",e[e.Q5_K_S=16]="Q5_K_S",e[e.Q5_K_M=17]="Q5_K_M",e[e.Q6_K=18]="Q6_K",e[e.IQ2_XXS=19]="IQ2_XXS",e[e.IQ2_XS=20]="IQ2_XS",e[e.Q2_K_S=21]="Q2_K_S",e[e.IQ3_XS=22]="IQ3_XS",e[e.IQ3_XXS=23]="IQ3_XXS",e[e.IQ1_S=24]="IQ1_S",e[e.IQ4_NL=25]="IQ4_NL",e[e.IQ3_S=26]="IQ3_S",e[e.IQ3_M=27]="IQ3_M",e[e.IQ2_S=28]="IQ2_S",e[e.IQ2_M=29]="IQ2_M",e[e.IQ4_XS=30]="IQ4_XS",e[e.IQ1_M=31]="IQ1_M",e[e.BF16=32]="BF16",e[e.Q4_0_4_4=33]="Q4_0_4_4",e[e.Q4_0_4_8=34]="Q4_0_4_8",e[e.Q4_0_8_8=35]="Q4_0_8_8",e[e.TQ1_0=36]="TQ1_0",e[e.TQ2_0=37]="TQ2_0",e[e.Q2_K_XL=1e3]="Q2_K_XL",e[e.Q3_K_XL=1001]="Q3_K_XL",e[e.Q4_K_XL=1002]="Q4_K_XL",e[e.Q5_K_XL=1003]="Q5_K_XL",e[e.Q6_K_XL=1004]="Q6_K_XL",e[e.Q8_K_XL=1005]="Q8_K_XL"}(fv||(fv={}));const mv=Object.values(fv).filter(e=>"string"===typeof e),gv=new RegExp(`(?<quant>${mv.join("|")})(_(?<sizeVariation>[A-Z]+))?`);new RegExp(gv,"g");fv.F32,fv.BF16,fv.F16,fv.Q8_K_XL,fv.Q8_0,fv.Q6_K_XL,fv.Q6_K,fv.Q5_K_XL,fv.Q5_K_M,fv.Q5_K_S,fv.Q5_0,fv.Q5_1,fv.Q4_K_XL,fv.Q4_K_M,fv.Q4_K_S,fv.IQ4_NL,fv.IQ4_XS,fv.Q4_0_4_4,fv.Q4_0_4_8,fv.Q4_0_8_8,fv.Q4_1_SOME_F16,fv.Q4_0,fv.Q4_1,fv.Q4_2,fv.Q4_3,fv.Q3_K_XL,fv.Q3_K_L,fv.Q3_K_M,fv.Q3_K_S,fv.IQ3_M,fv.IQ3_S,fv.IQ3_XS,fv.IQ3_XXS,fv.Q2_K_XL,fv.Q2_K,fv.Q2_K_S,fv.IQ2_M,fv.IQ2_S,fv.IQ2_XS,fv.IQ2_XXS,fv.IQ1_S,fv.IQ1_M,fv.TQ1_0,fv.TQ2_0;var yv;!function(e){e[e.F32=0]="F32",e[e.F16=1]="F16",e[e.Q4_0=2]="Q4_0",e[e.Q4_1=3]="Q4_1",e[e.Q5_0=6]="Q5_0",e[e.Q5_1=7]="Q5_1",e[e.Q8_0=8]="Q8_0",e[e.Q8_1=9]="Q8_1",e[e.Q2_K=10]="Q2_K",e[e.Q3_K=11]="Q3_K",e[e.Q4_K=12]="Q4_K",e[e.Q5_K=13]="Q5_K",e[e.Q6_K=14]="Q6_K",e[e.Q8_K=15]="Q8_K",e[e.IQ2_XXS=16]="IQ2_XXS",e[e.IQ2_XS=17]="IQ2_XS",e[e.IQ3_XXS=18]="IQ3_XXS",e[e.IQ1_S=19]="IQ1_S",e[e.IQ4_NL=20]="IQ4_NL",e[e.IQ3_S=21]="IQ3_S",e[e.IQ2_S=22]="IQ2_S",e[e.IQ4_XS=23]="IQ4_XS",e[e.I8=24]="I8",e[e.I16=25]="I16",e[e.I32=26]="I32",e[e.I64=27]="I64",e[e.F64=28]="F64",e[e.IQ1_M=29]="IQ1_M",e[e.BF16=30]="BF16",e[e.TQ1_0=34]="TQ1_0",e[e.TQ2_0=35]="TQ2_0"}(yv||(yv={}));const vv=["python","js","sh"];const bv={js:{fetch:{basic:'async function query(data) {\n\tconst response = await fetch(\n\t\t"{{ fullUrl }}",\n\t\t{\n\t\t\theaders: {\n\t\t\t\tAuthorization: "{{ authorizationHeader }}",\n\t\t\t\t"Content-Type": "application/json",\n{% if billTo %}\n\t\t\t\t"X-HF-Bill-To": "{{ billTo }}",\n{% endif %}\t\t\t},\n\t\t\tmethod: "POST",\n\t\t\tbody: JSON.stringify(data),\n\t\t}\n\t);\n\tconst result = await response.json();\n\treturn result;\n}\n\nquery({ inputs: {{ providerInputs.asObj.inputs }} }).then((response) => {\n    console.log(JSON.stringify(response));\n});',basicAudio:'async function query(data) {\n\tconst response = await fetch(\n\t\t"{{ fullUrl }}",\n\t\t{\n\t\t\theaders: {\n\t\t\t\tAuthorization: "{{ authorizationHeader }}",\n\t\t\t\t"Content-Type": "audio/flac",\n{% if billTo %}\n\t\t\t\t"X-HF-Bill-To": "{{ billTo }}",\n{% endif %}\t\t\t},\n\t\t\tmethod: "POST",\n\t\t\tbody: JSON.stringify(data),\n\t\t}\n\t);\n\tconst result = await response.json();\n\treturn result;\n}\n\nquery({ inputs: {{ providerInputs.asObj.inputs }} }).then((response) => {\n    console.log(JSON.stringify(response));\n});',basicImage:'async function query(data) {\n\tconst response = await fetch(\n\t\t"{{ fullUrl }}",\n\t\t{\n\t\t\theaders: {\n\t\t\t\tAuthorization: "{{ authorizationHeader }}",\n\t\t\t\t"Content-Type": "image/jpeg",\n{% if billTo %}\n\t\t\t\t"X-HF-Bill-To": "{{ billTo }}",\n{% endif %}\t\t\t},\n\t\t\tmethod: "POST",\n\t\t\tbody: JSON.stringify(data),\n\t\t}\n\t);\n\tconst result = await response.json();\n\treturn result;\n}\n\nquery({ inputs: {{ providerInputs.asObj.inputs }} }).then((response) => {\n    console.log(JSON.stringify(response));\n});',conversational:'async function query(data) {\n\tconst response = await fetch(\n\t\t"{{ fullUrl }}",\n\t\t{\n\t\t\theaders: {\n\t\t\t\tAuthorization: "{{ authorizationHeader }}",\n\t\t\t\t"Content-Type": "application/json",\n{% if billTo %}\n\t\t\t\t"X-HF-Bill-To": "{{ billTo }}",\n{% endif %}\t\t\t},\n\t\t\tmethod: "POST",\n\t\t\tbody: JSON.stringify(data),\n\t\t}\n\t);\n\tconst result = await response.json();\n\treturn result;\n}\n\nquery({ \n{{ autoInputs.asTsString }}\n}).then((response) => {\n    console.log(JSON.stringify(response));\n});',imageToImage:'const image = fs.readFileSync("{{inputs.asObj.inputs}}");\n\nasync function query(data) {\n\tconst response = await fetch(\n\t\t"{{ fullUrl }}",\n\t\t{\n\t\t\theaders: {\n\t\t\t\tAuthorization: "{{ authorizationHeader }}",\n\t\t\t\t"Content-Type": "image/jpeg",\n{% if billTo %}\n\t\t\t\t"X-HF-Bill-To": "{{ billTo }}",\n{% endif %}\t\t\t},\n\t\t\tmethod: "POST",\n\t\t\tbody: {\n\t\t\t\t"inputs": `data:image/png;base64,${data.inputs.encode("base64")}`,\n\t\t\t\t"parameters": data.parameters,\n\t\t\t}\n\t\t}\n\t);\n\tconst result = await response.json();\n\treturn result;\n}\n\nquery({ \n\tinputs: image,\n\tparameters: {\n\t\tprompt: "{{ inputs.asObj.parameters.prompt }}",\n\t}\n}).then((response) => {\n    console.log(JSON.stringify(response));\n});',textToAudio:'{% if model.library_name == "transformers" %}\nasync function query(data) {\n\tconst response = await fetch(\n\t\t"{{ fullUrl }}",\n\t\t{\n\t\t\theaders: {\n\t\t\t\tAuthorization: "{{ authorizationHeader }}",\n\t\t\t\t"Content-Type": "application/json",\n{% if billTo %}\n\t\t\t\t"X-HF-Bill-To": "{{ billTo }}",\n{% endif %}\t\t\t},\n\t\t\tmethod: "POST",\n\t\t\tbody: JSON.stringify(data),\n\t\t}\n\t);\n\tconst result = await response.blob();\n    return result;\n}\n\nquery({ inputs: {{ providerInputs.asObj.inputs }} }).then((response) => {\n    // Returns a byte object of the Audio wavform. Use it directly!\n});\n{% else %}\nasync function query(data) {\n\tconst response = await fetch(\n\t\t"{{ fullUrl }}",\n\t\t{\n\t\t\theaders: {\n\t\t\t\tAuthorization: "{{ authorizationHeader }}",\n\t\t\t\t"Content-Type": "application/json",\n\t\t\t},\n\t\t\tmethod: "POST",\n\t\t\tbody: JSON.stringify(data),\n\t\t}\n\t);\n    const result = await response.json();\n    return result;\n}\n\nquery({ inputs: {{ providerInputs.asObj.inputs }} }).then((response) => {\n    console.log(JSON.stringify(response));\n});\n{% endif %} ',textToImage:'async function query(data) {\n\tconst response = await fetch(\n\t\t"{{ fullUrl }}",\n\t\t{\n\t\t\theaders: {\n\t\t\t\tAuthorization: "{{ authorizationHeader }}",\n\t\t\t\t"Content-Type": "application/json",\n{% if billTo %}\n\t\t\t\t"X-HF-Bill-To": "{{ billTo }}",\n{% endif %}\t\t\t},\n\t\t\tmethod: "POST",\n\t\t\tbody: JSON.stringify(data),\n\t\t}\n\t);\n\tconst result = await response.blob();\n\treturn result;\n}\n\n\nquery({ {{ providerInputs.asTsString }} }).then((response) => {\n    // Use image\n});',textToSpeech:'{% if model.library_name == "transformers" %}\nasync function query(data) {\n\tconst response = await fetch(\n\t\t"{{ fullUrl }}",\n\t\t{\n\t\t\theaders: {\n\t\t\t\tAuthorization: "{{ authorizationHeader }}",\n\t\t\t\t"Content-Type": "application/json",\n{% if billTo %}\n\t\t\t\t"X-HF-Bill-To": "{{ billTo }}",\n{% endif %}\t\t\t},\n\t\t\tmethod: "POST",\n\t\t\tbody: JSON.stringify(data),\n\t\t}\n\t);\n\tconst result = await response.blob();\n    return result;\n}\n\nquery({ text: {{ inputs.asObj.inputs }} }).then((response) => {\n    // Returns a byte object of the Audio wavform. Use it directly!\n});\n{% else %}\nasync function query(data) {\n\tconst response = await fetch(\n\t\t"{{ fullUrl }}",\n\t\t{\n\t\t\theaders: {\n\t\t\t\tAuthorization: "{{ authorizationHeader }}",\n\t\t\t\t"Content-Type": "application/json",\n\t\t\t},\n\t\t\tmethod: "POST",\n\t\t\tbody: JSON.stringify(data),\n\t\t}\n\t);\n    const result = await response.json();\n    return result;\n}\n\nquery({ text: {{ inputs.asObj.inputs }} }).then((response) => {\n    console.log(JSON.stringify(response));\n});\n{% endif %} ',zeroShotClassification:'async function query(data) {\n    const response = await fetch(\n\t\t"{{ fullUrl }}",\n        {\n            headers: {\n\t\t\t\tAuthorization: "{{ authorizationHeader }}",\n                "Content-Type": "application/json",\n{% if billTo %}\n                "X-HF-Bill-To": "{{ billTo }}",\n{% endif %}         },\n            method: "POST",\n            body: JSON.stringify(data),\n        }\n    );\n    const result = await response.json();\n    return result;\n}\n\nquery({\n    inputs: {{ providerInputs.asObj.inputs }},\n    parameters: { candidate_labels: ["refund", "legal", "faq"] }\n}).then((response) => {\n    console.log(JSON.stringify(response));\n});'},"huggingface.js":{basic:'import { InferenceClient } from "@huggingface/inference";\n\nconst client = new InferenceClient("{{ accessToken }}");\n\nconst output = await client.{{ methodName }}({\n{% if endpointUrl %}\n    endpointUrl: "{{ endpointUrl }}",\n{% endif %}\n\tmodel: "{{ model.id }}",\n\tinputs: {{ inputs.asObj.inputs }},\n\tprovider: "{{ provider }}",\n}{% if billTo %}, {\n\tbillTo: "{{ billTo }}",\n}{% endif %});\n\nconsole.log(output);',basicAudio:'import { InferenceClient } from "@huggingface/inference";\n\nconst client = new InferenceClient("{{ accessToken }}");\n\nconst data = fs.readFileSync({{inputs.asObj.inputs}});\n\nconst output = await client.{{ methodName }}({\n{% if endpointUrl %}\n    endpointUrl: "{{ endpointUrl }}",\n{% endif %}\n\tdata,\n\tmodel: "{{ model.id }}",\n\tprovider: "{{ provider }}",\n}{% if billTo %}, {\n\tbillTo: "{{ billTo }}",\n}{% endif %});\n\nconsole.log(output);',basicImage:'import { InferenceClient } from "@huggingface/inference";\n\nconst client = new InferenceClient("{{ accessToken }}");\n\nconst data = fs.readFileSync({{inputs.asObj.inputs}});\n\nconst output = await client.{{ methodName }}({\n{% if endpointUrl %}\n    endpointUrl: "{{ endpointUrl }}",\n{% endif %}\n\tdata,\n\tmodel: "{{ model.id }}",\n\tprovider: "{{ provider }}",\n}{% if billTo %}, {\n\tbillTo: "{{ billTo }}",\n}{% endif %});\n\nconsole.log(output);',conversational:'import { InferenceClient } from "@huggingface/inference";\n\nconst client = new InferenceClient("{{ accessToken }}");\n\nconst chatCompletion = await client.chatCompletion({\n{% if endpointUrl %}\n    endpointUrl: "{{ endpointUrl }}",\n{% endif %}\n    provider: "{{ provider }}",\n    model: "{{ model.id }}",\n{{ inputs.asTsString }}\n}{% if billTo %}, {\n    billTo: "{{ billTo }}",\n}{% endif %});\n\nconsole.log(chatCompletion.choices[0].message);',conversationalStream:'import { InferenceClient } from "@huggingface/inference";\n\nconst client = new InferenceClient("{{ accessToken }}");\n\nlet out = "";\n\nconst stream = client.chatCompletionStream({\n{% if endpointUrl %}\n    endpointUrl: "{{ endpointUrl }}",\n{% endif %}\n    provider: "{{ provider }}",\n    model: "{{ model.id }}",\n{{ inputs.asTsString }}\n}{% if billTo %}, {\n    billTo: "{{ billTo }}",\n}{% endif %});\n\nfor await (const chunk of stream) {\n\tif (chunk.choices && chunk.choices.length > 0) {\n\t\tconst newContent = chunk.choices[0].delta.content;\n\t\tout += newContent;\n\t\tconsole.log(newContent);\n\t}\n}',imageToImage:'import { InferenceClient } from "@huggingface/inference";\n\nconst client = new InferenceClient("{{ accessToken }}");\n\nconst data = fs.readFileSync("{{inputs.asObj.inputs}}");\n\nconst image = await client.imageToImage({\n{% if endpointUrl %}\n\tendpointUrl: "{{ endpointUrl }}",\n{% endif %}\n\tprovider: "{{provider}}",\n\tmodel: "{{model.id}}",\n\tinputs: data,\n\tparameters: { prompt: "{{inputs.asObj.parameters.prompt}}", },\n}{% if billTo %}, {\n\tbillTo: "{{ billTo }}",\n}{% endif %});\n/// Use the generated image (it\'s a Blob)\n// For example, you can save it to a file or display it in an image element\n',textToImage:'import { InferenceClient } from "@huggingface/inference";\n\nconst client = new InferenceClient("{{ accessToken }}");\n\nconst image = await client.textToImage({\n{% if endpointUrl %}\n    endpointUrl: "{{ endpointUrl }}",\n{% endif %}\n    provider: "{{ provider }}",\n    model: "{{ model.id }}",\n\tinputs: {{ inputs.asObj.inputs }},\n\tparameters: { num_inference_steps: 5 },\n}{% if billTo %}, {\n    billTo: "{{ billTo }}",\n}{% endif %});\n/// Use the generated image (it\'s a Blob)',textToSpeech:'import { InferenceClient } from "@huggingface/inference";\n\nconst client = new InferenceClient("{{ accessToken }}");\n\nconst audio = await client.textToSpeech({\n{% if endpointUrl %}\n    endpointUrl: "{{ endpointUrl }}",\n{% endif %}\n    provider: "{{ provider }}",\n    model: "{{ model.id }}",\n\tinputs: {{ inputs.asObj.inputs }},\n}{% if billTo %}, {\n    billTo: "{{ billTo }}",\n}{% endif %});\n// Use the generated audio (it\'s a Blob)',textToVideo:'import { InferenceClient } from "@huggingface/inference";\n\nconst client = new InferenceClient("{{ accessToken }}");\n\nconst video = await client.textToVideo({\n{% if endpointUrl %}\n    endpointUrl: "{{ endpointUrl }}",\n{% endif %}\n    provider: "{{ provider }}",\n    model: "{{ model.id }}",\n\tinputs: {{ inputs.asObj.inputs }},\n}{% if billTo %}, {\n    billTo: "{{ billTo }}",\n}{% endif %});\n// Use the generated video (it\'s a Blob)'},openai:{conversational:'import { OpenAI } from "openai";\n\nconst client = new OpenAI({\n\tbaseURL: "{{ baseUrl }}",\n\tapiKey: "{{ accessToken }}",\n{% if billTo %}\n\tdefaultHeaders: {\n\t\t"X-HF-Bill-To": "{{ billTo }}" \n\t}\n{% endif %}\n});\n\nconst chatCompletion = await client.chat.completions.create({\n\tmodel: "{{ providerModelId }}",\n{{ inputs.asTsString }}\n});\n\nconsole.log(chatCompletion.choices[0].message);',conversationalStream:'import { OpenAI } from "openai";\n\nconst client = new OpenAI({\n\tbaseURL: "{{ baseUrl }}",\n\tapiKey: "{{ accessToken }}",\n{% if billTo %}\n    defaultHeaders: {\n\t\t"X-HF-Bill-To": "{{ billTo }}" \n\t}\n{% endif %}\n});\n\nconst stream = await client.chat.completions.create({\n    model: "{{ providerModelId }}",\n{{ inputs.asTsString }}\n    stream: true,\n});\n\nfor await (const chunk of stream) {\n    process.stdout.write(chunk.choices[0]?.delta?.content || "");\n}'}},python:{fal_client:{imageToImage:'{%if provider == "fal-ai" %}\nimport fal_client\nimport base64\n\ndef on_queue_update(update):\n    if isinstance(update, fal_client.InProgress):\n        for log in update.logs:\n           print(log["message"])\n\nwith open("{{inputs.asObj.inputs}}", "rb") as image_file:\n    image_base_64 = base64.b64encode(image_file.read()).decode(\'utf-8\')\n\nresult = fal_client.subscribe(\n    "fal-ai/flux-kontext/dev",\n    arguments={\n        "prompt": f"data:image/png;base64,{image_base_64}",\n        "image_url": "{{ providerInputs.asObj.inputs }}",\n    },\n    with_logs=True,\n    on_queue_update=on_queue_update,\n)\nprint(result)\n{%endif%}\n',textToImage:'{% if provider == "fal-ai" %}\nimport fal_client\n\n{% if providerInputs.asObj.loras is defined and providerInputs.asObj.loras != none %}\nresult = fal_client.subscribe(\n    "{{ providerModelId }}",\n    arguments={\n        "prompt": {{ inputs.asObj.inputs }},\n        "loras":{{ providerInputs.asObj.loras | tojson }},\n    },\n)\n{% else %}\nresult = fal_client.subscribe(\n    "{{ providerModelId }}",\n    arguments={\n        "prompt": {{ inputs.asObj.inputs }},\n    },\n)\n{% endif %} \nprint(result)\n{% endif %} '},huggingface_hub:{basic:'result = client.{{ methodName }}(\n    {{ inputs.asObj.inputs }},\n    model="{{ model.id }}",\n)',basicAudio:'output = client.{{ methodName }}({{ inputs.asObj.inputs }}, model="{{ model.id }}")',basicImage:'output = client.{{ methodName }}({{ inputs.asObj.inputs }}, model="{{ model.id }}")',conversational:'completion = client.chat.completions.create(\n    model="{{ model.id }}",\n{{ inputs.asPythonString }}\n)\n\nprint(completion.choices[0].message) ',conversationalStream:'stream = client.chat.completions.create(\n    model="{{ model.id }}",\n{{ inputs.asPythonString }}\n    stream=True,\n)\n\nfor chunk in stream:\n    print(chunk.choices[0].delta.content, end="") ',documentQuestionAnswering:'output = client.document_question_answering(\n    "{{ inputs.asObj.image }}",\n    question="{{ inputs.asObj.question }}",\n    model="{{ model.id }}",\n) ',imageToImage:'with open("{{ inputs.asObj.inputs }}", "rb") as image_file:\n   input_image = image_file.read()\n\n# output is a PIL.Image object\nimage = client.image_to_image(\n    input_image,\n    prompt="{{ inputs.asObj.parameters.prompt }}",\n    model="{{ model.id }}",\n) ',importInferenceClient:'from huggingface_hub import InferenceClient\n\nclient = InferenceClient(\n{% if endpointUrl %}\n    base_url="{{ baseUrl }}",\n{% endif %}\n    provider="{{ provider }}",\n    api_key="{{ accessToken }}",\n{% if billTo %}\n    bill_to="{{ billTo }}",\n{% endif %}\n)',questionAnswering:'answer = client.question_answering(\n    question="{{ inputs.asObj.question }}",\n    context="{{ inputs.asObj.context }}",\n    model="{{ model.id }}",\n) ',tableQuestionAnswering:'answer = client.table_question_answering(\n    query="{{ inputs.asObj.query }}",\n    table={{ inputs.asObj.table }},\n    model="{{ model.id }}",\n) ',textToImage:'# output is a PIL.Image object\nimage = client.text_to_image(\n    {{ inputs.asObj.inputs }},\n    model="{{ model.id }}",\n) ',textToSpeech:'# audio is returned as bytes\naudio = client.text_to_speech(\n    {{ inputs.asObj.inputs }},\n    model="{{ model.id }}",\n) \n',textToVideo:'video = client.text_to_video(\n    {{ inputs.asObj.inputs }},\n    model="{{ model.id }}",\n) '},openai:{conversational:'from openai import OpenAI\n\nclient = OpenAI(\n    base_url="{{ baseUrl }}",\n    api_key="{{ accessToken }}",\n{% if billTo %}\n    default_headers={\n        "X-HF-Bill-To": "{{ billTo }}"\n    }\n{% endif %}\n)\n\ncompletion = client.chat.completions.create(\n    model="{{ providerModelId }}",\n{{ inputs.asPythonString }}\n)\n\nprint(completion.choices[0].message) ',conversationalStream:'from openai import OpenAI\n\nclient = OpenAI(\n    base_url="{{ baseUrl }}",\n    api_key="{{ accessToken }}",\n{% if billTo %}\n    default_headers={\n        "X-HF-Bill-To": "{{ billTo }}"\n    }\n{% endif %}\n)\n\nstream = client.chat.completions.create(\n    model="{{ providerModelId }}",\n{{ inputs.asPythonString }}\n    stream=True,\n)\n\nfor chunk in stream:\n    print(chunk.choices[0].delta.content, end="")'},requests:{basic:'def query(payload):\n    response = requests.post(API_URL, headers=headers, json=payload)\n    return response.json()\n\noutput = query({\n    "inputs": {{ providerInputs.asObj.inputs }},\n}) ',basicAudio:'def query(filename):\n    with open(filename, "rb") as f:\n        data = f.read()\n    response = requests.post(API_URL, headers={"Content-Type": "audio/flac", **headers}, data=data)\n    return response.json()\n\noutput = query({{ providerInputs.asObj.inputs }})',basicImage:'def query(filename):\n    with open(filename, "rb") as f:\n        data = f.read()\n    response = requests.post(API_URL, headers={"Content-Type": "image/jpeg", **headers}, data=data)\n    return response.json()\n\noutput = query({{ providerInputs.asObj.inputs }})',conversational:'def query(payload):\n    response = requests.post(API_URL, headers=headers, json=payload)\n    return response.json()\n\nresponse = query({\n{{ autoInputs.asJsonString }}\n})\n\nprint(response["choices"][0]["message"])',conversationalStream:'def query(payload):\n    response = requests.post(API_URL, headers=headers, json=payload, stream=True)\n    for line in response.iter_lines():\n        if not line.startswith(b"data:"):\n            continue\n        if line.strip() == b"data: [DONE]":\n            return\n        yield json.loads(line.decode("utf-8").lstrip("data:").rstrip("/n"))\n\nchunks = query({\n{{ autoInputs.asJsonString }},\n    "stream": True,\n})\n\nfor chunk in chunks:\n    print(chunk["choices"][0]["delta"]["content"], end="")',documentQuestionAnswering:'def query(payload):\n    with open(payload["image"], "rb") as f:\n        img = f.read()\n        payload["image"] = base64.b64encode(img).decode("utf-8")\n    response = requests.post(API_URL, headers=headers, json=payload)\n    return response.json()\n\noutput = query({\n    "inputs": {\n        "image": "{{ inputs.asObj.image }}",\n        "question": "{{ inputs.asObj.question }}",\n    },\n}) ',imageToImage:'with open("{{inputs.asObj.inputs}}", "rb") as image_file:\n    image_base_64 = base64.b64encode(image_file.read()).decode(\'utf-8\')\n\ndef query(payload):\n    with open(payload["inputs"], "rb") as f:\n        img = f.read()\n        payload["inputs"] = base64.b64encode(img).decode("utf-8")\n    response = requests.post(API_URL, headers=headers, json=payload)\n    return response.content\n\nimage_bytes = query({\n{{ providerInputs.asJsonString }}\n})\n\n# You can access the image with PIL.Image for example\nimport io\nfrom PIL import Image\nimage = Image.open(io.BytesIO(image_bytes)) ',importRequests:'{% if importBase64 %}\nimport base64\n{% endif %}\n{% if importJson %}\nimport json\n{% endif %}\nimport requests\n\nAPI_URL = "{{ fullUrl }}"\nheaders = {\n    "Authorization": "{{ authorizationHeader }}",\n{% if billTo %}\n    "X-HF-Bill-To": "{{ billTo }}"\n{% endif %}\n}',tabular:'def query(payload):\n    response = requests.post(API_URL, headers=headers, json=payload)\n    return response.content\n\nresponse = query({\n    "inputs": {\n        "data": {{ providerInputs.asObj.inputs }}\n    },\n}) ',textToAudio:'{% if model.library_name == "transformers" %}\ndef query(payload):\n    response = requests.post(API_URL, headers=headers, json=payload)\n    return response.content\n\naudio_bytes = query({\n    "inputs": {{ inputs.asObj.inputs }},\n})\n# You can access the audio with IPython.display for example\nfrom IPython.display import Audio\nAudio(audio_bytes)\n{% else %}\ndef query(payload):\n    response = requests.post(API_URL, headers=headers, json=payload)\n    return response.json()\n\naudio, sampling_rate = query({\n    "inputs": {{ inputs.asObj.inputs }},\n})\n# You can access the audio with IPython.display for example\nfrom IPython.display import Audio\nAudio(audio, rate=sampling_rate)\n{% endif %} ',textToImage:'{% if provider == "hf-inference" %}\ndef query(payload):\n    response = requests.post(API_URL, headers=headers, json=payload)\n    return response.content\n\nimage_bytes = query({\n    "inputs": {{ providerInputs.asObj.inputs }},\n})\n\n# You can access the image with PIL.Image for example\nimport io\nfrom PIL import Image\nimage = Image.open(io.BytesIO(image_bytes))\n{% endif %}',textToSpeech:'{% if model.library_name == "transformers" %}\ndef query(payload):\n    response = requests.post(API_URL, headers=headers, json=payload)\n    return response.content\n\naudio_bytes = query({\n    "text": {{ inputs.asObj.inputs }},\n})\n# You can access the audio with IPython.display for example\nfrom IPython.display import Audio\nAudio(audio_bytes)\n{% else %}\ndef query(payload):\n    response = requests.post(API_URL, headers=headers, json=payload)\n    return response.json()\n\naudio, sampling_rate = query({\n    "text": {{ inputs.asObj.inputs }},\n})\n# You can access the audio with IPython.display for example\nfrom IPython.display import Audio\nAudio(audio, rate=sampling_rate)\n{% endif %} ',zeroShotClassification:'def query(payload):\n    response = requests.post(API_URL, headers=headers, json=payload)\n    return response.json()\n\noutput = query({\n    "inputs": {{ providerInputs.asObj.inputs }},\n    "parameters": {"candidate_labels": ["refund", "legal", "faq"]},\n}) ',zeroShotImageClassification:'def query(data):\n    with open(data["image_path"], "rb") as f:\n        img = f.read()\n    payload={\n        "parameters": data["parameters"],\n        "inputs": base64.b64encode(img).decode("utf-8")\n    }\n    response = requests.post(API_URL, headers=headers, json=payload)\n    return response.json()\n\noutput = query({\n    "image_path": {{ providerInputs.asObj.inputs }},\n    "parameters": {"candidate_labels": ["cat", "dog", "llama"]},\n}) '}},sh:{curl:{basic:"curl {{ fullUrl }} \\\n    -X POST \\\n    -H 'Authorization: {{ authorizationHeader }}' \\\n    -H 'Content-Type: application/json' \\\n{% if billTo %}\n    -H 'X-HF-Bill-To: {{ billTo }}' \\\n{% endif %}\n    -d '{\n{{ providerInputs.asCurlString }}\n    }'",basicAudio:"curl {{ fullUrl }} \\\n    -X POST \\\n    -H 'Authorization: {{ authorizationHeader }}' \\\n    -H 'Content-Type: audio/flac' \\\n{% if billTo %}\n    -H 'X-HF-Bill-To: {{ billTo }}' \\\n{% endif %}\n    --data-binary @{{ providerInputs.asObj.inputs }}",basicImage:"curl {{ fullUrl }} \\\n    -X POST \\\n    -H 'Authorization: {{ authorizationHeader }}' \\\n    -H 'Content-Type: image/jpeg' \\\n{% if billTo %}\n    -H 'X-HF-Bill-To: {{ billTo }}' \\\n{% endif %}\n    --data-binary @{{ providerInputs.asObj.inputs }}",conversational:"curl {{ fullUrl }} \\\n    -H 'Authorization: {{ authorizationHeader }}' \\\n    -H 'Content-Type: application/json' \\\n{% if billTo %}\n    -H 'X-HF-Bill-To: {{ billTo }}' \\\n{% endif %}\n    -d '{\n{{ autoInputs.asCurlString }},\n        \"stream\": false\n    }'",conversationalStream:"curl {{ fullUrl }} \\\n    -H 'Authorization: {{ authorizationHeader }}' \\\n    -H 'Content-Type: application/json' \\\n{% if billTo %}\n    -H 'X-HF-Bill-To: {{ billTo }}' \\\n{% endif %}\n    -d '{\n{{ autoInputs.asCurlString }},\n        \"stream\": true\n    }'",zeroShotClassification:'curl {{ fullUrl }} \\\n    -X POST \\\n    -d \'{"inputs": {{ providerInputs.asObj.inputs }}, "parameters": {"candidate_labels": ["refund", "legal", "faq"]}}\' \\\n    -H \'Content-Type: application/json\' \\\n    -H \'Authorization: {{ authorizationHeader }}\'\n{% if billTo %} \\\n    -H \'X-HF-Bill-To: {{ billTo }}\'\n{% endif %}'}}},wv={js:["fetch","huggingface.js","openai"],python:["huggingface_hub","fal_client","requests","openai"],sh:["curl"]},_v={js:["huggingface.js"],python:["huggingface_hub"]},kv=(e,t,n)=>{const r=bv[e]?.[t]?.[n];if(!r)throw new Error(`Template not found: ${e}/${t}/${n}`);return e=>new qg(r).render({...e})},xv=kv("python","huggingface_hub","importInferenceClient"),Sv=kv("python","requests","importRequests"),Tv={"audio-classification":"audio_classification","audio-to-audio":"audio_to_audio","automatic-speech-recognition":"automatic_speech_recognition","document-question-answering":"document_question_answering","feature-extraction":"feature_extraction","fill-mask":"fill_mask","image-classification":"image_classification","image-segmentation":"image_segmentation","image-to-image":"image_to_image","image-to-text":"image_to_text","object-detection":"object_detection","question-answering":"question_answering","sentence-similarity":"sentence_similarity",summarization:"summarization","table-question-answering":"table_question_answering","tabular-classification":"tabular_classification","tabular-regression":"tabular_regression","text-classification":"text_classification","text-generation":"text_generation","text-to-image":"text_to_image","text-to-speech":"text_to_speech","text-to-video":"text_to_video","token-classification":"token_classification",translation:"translation","visual-question-answering":"visual_question_answering","zero-shot-classification":"zero_shot_classification","zero-shot-image-classification":"zero_shot_image_classification"},Iv={"automatic-speech-recognition":"automaticSpeechRecognition","feature-extraction":"featureExtraction","fill-mask":"fillMask","image-classification":"imageClassification","question-answering":"questionAnswering","sentence-similarity":"sentenceSimilarity",summarization:"summarization","table-question-answering":"tableQuestionAnswering","text-classification":"textClassification","text-generation":"textGeneration","token-classification":"tokenClassification","text-to-speech":"textToSpeech",translation:"translation"},Ev=(e,t)=>(n,r,i,a)=>{const o=wf(),s=i?.providerId??n.id;let l,c=n.pipeline_tag;n.pipeline_tag&&["text-generation","image-text-to-text"].includes(n.pipeline_tag)&&n.tags.includes("conversational")&&(e=a?.streaming?"conversationalStream":"conversational",t=Av,c="conversational");try{l=Vf(r,c)}catch(_){return o.error(`Failed to get provider helper for ${r} (${c})`,_),[]}const u=a?.directRequest?"not_hf_token_placeholder":"hf_token_placeholder",d=a?.accessToken??u,h=a?.inputs?{inputs:a.inputs}:t?t(n,a):{inputs:tv(n)},p=Hf(s,l,{accessToken:d,provider:r,endpointUrl:a?.endpointUrl??("auto"===r?Yp:void 0),...h},i,{task:c,billTo:a?.billTo});let f=h;const m=p.info.body;if("string"===typeof m)try{f=JSON.parse(m)}catch(_){o.error("Failed to parse body as JSON",_)}const g=a?.endpointUrl||a?.directRequest?f:"auto"!==r?{...h,model:`${n.id}:${r}`}:{...h,model:`${n.id}`},y={accessToken:d,authorizationHeader:p.info.headers?.Authorization,baseUrl:"conversational"!==c||a?.endpointUrl||a?.directRequest?(v=p.url,b="/chat/completions",v.endsWith(b)?v.slice(0,-b.length):v):Yp,fullUrl:"conversational"!==c||a?.endpointUrl||a?.directRequest?p.url:Yp+"/chat/completions",inputs:{asObj:h,asCurlString:Cv(h,"curl"),asJsonString:Cv(h,"json"),asPythonString:Cv(h,"python"),asTsString:Cv(h,"ts")},providerInputs:{asObj:f,asCurlString:Cv(f,"curl"),asJsonString:Cv(f,"json"),asPythonString:Cv(f,"python"),asTsString:Cv(f,"ts")},autoInputs:{asObj:g,asCurlString:Cv(g,"curl"),asJsonString:Cv(g,"json"),asPythonString:Cv(g,"python"),asTsString:Cv(g,"ts")},model:n,provider:r,providerModelId:"conversational"!==c||a?.endpointUrl||a?.directRequest?s??n.id:"auto"!==r?`${n.id}:${r}`:n.id,billTo:a?.billTo,endpointUrl:a?.endpointUrl};var v,b;const w="auto"===r&&"conversational"!==c?_v:wv;return vv.map(t=>(w[t]??[]).map(i=>{if(!((e,t,n)=>void 0!==bv[e]?.[t]?.[n])(t,i,e))return;const o=kv(t,i,e);if("huggingface_hub"===i&&e.includes("basic")){if(!n.pipeline_tag||!(n.pipeline_tag in Tv))return;y.methodName=Tv[n.pipeline_tag]}if("huggingface.js"===i&&e.includes("basic")){if(!n.pipeline_tag||!(n.pipeline_tag in Iv))return;y.methodName=Iv[n.pipeline_tag]}let s=o(y).trim();if(s){if("huggingface_hub"===i){s=`${xv({...y})}\n\n${s}`}else if("requests"===i){const e=Sv({...y,importBase64:s.includes("base64"),importJson:s.includes("json.")});s=`${e}\n\n${s}`}return s.includes(u)&&(s=function(e,t,n,r,i,a){const o=!a&&("hf-inference"==i||!e&&(n.includes("InferenceClient")||n.includes("https://router.huggingface.co"))),s=o?"HF_TOKEN":a?"API_TOKEN":i.toUpperCase().replace("-","_")+"_API_KEY";"sh"===r?n=n.replace(`'Authorization: Bearer ${t}'`,`"Authorization: Bearer $${s}"`):"python"===r?n=(n=(n=(n=(n="import os\n"+n).replace(`"${t}"`,`os.environ["${s}"]`)).replace(`"Bearer ${t}"`,`f"Bearer {os.environ['${s}']}"`)).replace(`"Key ${t}"`,`f"Key {os.environ['${s}']}"`)).replace(`"X-Key ${t}"`,`f"X-Key {os.environ['${s}']}"`):"js"===r&&(n=(n=(n=(n=n.replace(`"${t}"`,`process.env.${s}`)).replace(`Authorization: "Bearer ${t}",`,`Authorization: \`Bearer \${process.env.${s}}\`,`)).replace(`Authorization: "Key ${t}",`,`Authorization: \`Key \${process.env.${s}}\`,`)).replace(`Authorization: "X-Key ${t}",`,`Authorization: \`X-Key \${process.env.${s}}\`,`));return n}(a?.directRequest,u,s,t,r,a?.endpointUrl)),{language:t,client:i,content:s}}}).filter(e=>void 0!==e)).flat()},Av=(e,t)=>({messages:t?.messages??tv(e),...t?.temperature?{temperature:t?.temperature}:void 0,...t?.max_tokens?{max_tokens:t?.max_tokens}:void 0,...t?.top_p?{top_p:t?.top_p}:void 0});Ev("basicAudio"),Ev("basicAudio"),Ev("basicAudio"),Ev("documentQuestionAnswering",e=>JSON.parse(tv(e))),Ev("basic"),Ev("basic"),Ev("basicImage"),Ev("basicImage"),Ev("conversational"),Ev("imageToImage",e=>{const t=JSON.parse(tv(e));return{inputs:t.image,parameters:{prompt:t.prompt}}}),Ev("basicImage"),Ev("basicImage"),Ev("questionAnswering",e=>{const t=JSON.parse(tv(e));return{question:t.question,context:t.context}}),Ev("basic"),Ev("basic"),Ev("tabular"),Ev("tabular"),Ev("tableQuestionAnswering",e=>{const t=JSON.parse(tv(e));return{query:t.query,table:JSON.stringify(t.table)}}),Ev("basic"),Ev("basic"),Ev("textToAudio"),Ev("textToImage"),Ev("textToSpeech"),Ev("textToVideo"),Ev("basic"),Ev("basic"),Ev("zeroShotClassification"),Ev("zeroShotImageClassification");function Cv(e,t){switch(t){case"curl":return Pv(Cv(e,"json"));case"json":return JSON.stringify(e,null,4).split("\n").slice(1,-1).join("\n");case"python":return Pv(Object.entries(e).map(e=>{let[t,n]=e;return`${t}=${JSON.stringify(n,null,4).replace(/"/g,'"')},`}).join("\n"));case"ts":return Nv(e).split("\n").slice(1,-1).join("\n");default:throw new Error(`Unsupported format: ${t}`)}}function Nv(e,t){if(t=t??0,"object"!==typeof e||null===e)return JSON.stringify(e);if(Array.isArray(e)){return`[\n${e.map(e=>{const n=Nv(e,t+1);return`${" ".repeat(4*(t+1))}${n},`}).join("\n")}\n${" ".repeat(4*t)}]`}return`{\n${Object.entries(e).map(e=>{let[n,r]=e;const i=Nv(r,t+1),a=/^[a-zA-Z_$][a-zA-Z0-9_$]*$/.test(n)?n:`"${n}"`;return`${" ".repeat(4*(t+1))}${a}: ${i},`}).join("\n")}\n${" ".repeat(4*t)}}`}function Pv(e){return e.split("\n").map(e=>" ".repeat(4)+e).join("\n")}var Rv=n(579);const Dv={apiKey:"AIzaSyBNJtmpRWzjobrY556bnHkwbZmpFJqgPX8",authDomain:"text-adventure-game-cb731.firebaseapp.com",projectId:"text-adventure-game-cb731",storageBucket:"text-adventure-game-cb731.appspot.com",messagingSenderId:"1092941614820",appId:"1:1092941614820:web:5545f36014b73c268026f1",measurementId:"G-FNGF42T1FP"};function Ov(e){return e.filter(e=>e.isSystemMessage||e.text.startsWith("!")||e.text.includes("\uacf5\uaca9")||e.text.includes("\ud68d\ub4dd")).map(e=>`${e.displayName||"System"}: ${e.text}`).join("\n")}const Lv=async function(e,t){const n={model:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"llama3-70b-8192",messages:[{role:"system",content:t},{role:"user",content:e}],temperature:.7,max_tokens:1024,response_format:{type:"text"}};try{var r,i,a;const e=await fetch("https://api.groq.com/openai/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer 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"},body:JSON.stringify(n)});if(!e.ok)return console.error(`Groq API \ud638\ucd9c \uc2e4\ud328 (\uc0c1\ud0dc: ${e.status})`),{chatMessage:`[\uc2dc\uc2a4\ud15c \uc624\ub958: Groq API \ud638\ucd9c \uc2e4\ud328 (\uc0c1\ud0dc: ${e.status})]`,playerUpdates:[]};const t=(null===(r=(await e.json()).choices)||void 0===r||null===(i=r[0])||void 0===i||null===(a=i.message)||void 0===a?void 0:a.content)||"",s=t.replace(/```json/g,"").replace(/```/g,"").trim();try{const e=JSON.parse(s);return e.chatMessage||(e.chatMessage="\uc2dc\uc2a4\ud15c: \uc751\ub2f5\uc744 \ucc98\ub9ac\ud558\ub294 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),Array.isArray(e.playerUpdates)||(e.playerUpdates=[]),e}catch(o){return console.error("Groq API \uc751\ub2f5 \ud30c\uc2f1 \uc624\ub958:",o,"\uc6d0\ubcf8 \ud14d\uc2a4\ud2b8:",s),{chatMessage:`[\uc2dc\uc2a4\ud15c \uc624\ub958: JSON \ud30c\uc2f1 \uc2e4\ud328] ${t.substring(0,100)}...`,playerUpdates:[]}}}catch(s){return console.error("Groq API \ud638\ucd9c \uc911 \uc624\ub958:",s),{chatMessage:`[\uc2dc\uc2a4\ud15c \uc624\ub958: Groq API \ud638\ucd9c \uc911 \uc624\ub958: ${s.message}]`,playerUpdates:[]}}},Mv=e=>`\n        ### \ud398\ub974\uc18c\ub098 (Persona)\n        \ub2f9\uc2e0\uc740 \uc804\ubb38 \uac8c\uc784 \ub9c8\uc2a4\ud130(GM)\uc774\uc790 \ub6f0\uc5b4\ub09c \uc774\uc57c\uae30\uafbc\uc785\ub2c8\ub2e4. \ub2f9\uc2e0\uc740 \ud50c\ub808\uc774\uc5b4\ub4e4\uacfc \ud568\uaed8 \uc2e4\uc2dc\uac04\uc73c\ub85c \ud14d\uc2a4\ud2b8 \uae30\ubc18 \ub864\ud50c\ub808\uc789 \uac8c\uc784\uc744 \ub9cc\ub4e4\uc5b4\uac11\ub2c8\ub2e4. \ub2f9\uc2e0\uc758 \ubb34\ub300\ub294 "${e}"\uc785\ub2c8\ub2e4.\n\n        ### \ud575\uc2ec \uc784\ubb34 (Core Task)\n        1.  **\uc11c\uc0ac \uc9c4\ud589:** \ud50c\ub808\uc774\uc5b4\ub4e4\uc758 \ucc44\ud305\uc744 \uae30\ubc18\uc73c\ub85c \ud765\ubbf8\ub85c\uc6b4 \uc774\uc57c\uae30\ub97c \ub9cc\ub4e4\uace0, \uadf8 \uacb0\uacfc\ub97c \ucc44\ud305 \uba54\uc2dc\uc9c0\ub85c \uc804\ub2ec\ud569\ub2c8\ub2e4.\n        2.  **\uce90\ub9ad\ud130 \uad00\ub9ac:** \uc774\uc57c\uae30\uc758 \ud750\ub984\uc5d0 \ub530\ub77c \ud50c\ub808\uc774\uc5b4\uc758 \uc0c1\ud0dc(\ub2a5\ub825\uce58, \uc544\uc774\ud15c \ub4f1)\ub97c \uc5c5\ub370\uc774\ud2b8\ud558\uace0, \uadf8 \uacb0\uacfc\ub97c \ub370\uc774\ud130\ub85c \ubc18\ud658\ud569\ub2c8\ub2e4.\n\n        ### \uc808\ub300\uc801 \uc9c0\uc2dc\uc0ac\ud56d (Absolute Instructions)\n        1.  **\uc624\uc9c1 JSON\ub9cc \ucd9c\ub825:** \ub2f9\uc2e0\uc758 \uc751\ub2f5\uc740 \ubc18\ub4dc\uc2dc \uc544\ub798\uc5d0 \uba85\uc2dc\ub41c JSON \uad6c\uc870\ub97c \ub530\ub77c\uc57c \ud569\ub2c8\ub2e4. \uc124\uba85, \ub9c8\ud06c\ub2e4\uc6b4, \uae30\ud0c0 \ud14d\uc2a4\ud2b8\ub294 \uc808\ub300 \ud3ec\ud568\ud558\uc9c0 \ub9c8\uc2ed\uc2dc\uc624.\n        2.  **\ubc18\ub4dc\uc2dc \ud55c\uad6d\uc5b4\ub9cc \uc0ac\uc6a9:** \ubaa8\ub4e0 \uc0dd\uc131 \ud14d\uc2a4\ud2b8\ub294 \ubc18\ub4dc\uc2dc 100% \ud55c\uad6d\uc5b4\ub85c\ub9cc \uc791\uc131\ud574\uc57c \ud569\ub2c8\ub2e4. \uc601\uc5b4, \uc22b\uc790, \ud2b9\uc218\ubb38\uc790, \uc774\ubaa8\uc9c0, \uae30\ud0c0 \uc5b8\uc5b4\ub294 \uc808\ub300 \ud3ec\ud568\ud558\uc9c0 \ub9c8\uc2ed\uc2dc\uc624. \ud55c\uad6d\uc5b4 \uc774\uc678\uc758 \uc5b8\uc5b4\uac00 \ud3ec\ud568\ub418\uba74 \uc2ec\uac01\ud55c \uc624\ub958\ub85c \uac04\uc8fc\ud569\ub2c8\ub2e4. \ubc18\ub4dc\uc2dc \ud55c\uad6d\uc5b4\ub9cc \uc0ac\uc6a9\ud558\uc138\uc694.\n        3.  **\ucc44\ud305\uacfc \ub370\uc774\ud130 \ubd84\ub9ac:** \uc11c\uc0ac\uc801 \ubb18\uc0ac\ub294 'chatMessage'\uc5d0, \ud50c\ub808\uc774\uc5b4 \uc0c1\ud0dc \ubcc0\uacbd\uc740 'playerUpdates'\uc5d0 \uba85\ud655\ud788 \ubd84\ub9ac\ud558\uc5ec \uc791\uc131\ud558\uc2ed\uc2dc\uc624.\n\n        ### JSON \ucd9c\ub825 \uad6c\uc870 (\uc774 \uad6c\uc870\ub97c \ubc18\ub4dc\uc2dc \ub530\ub974\uc138\uc694)\n        {\n          "chatMessage": "\ud50c\ub808\uc774\uc5b4\ub4e4\uc5d0\uac8c \ubcf4\uc5ec\uc904 \uc11c\uc0ac\uc801\uc778 \ucc44\ud305 \uba54\uc2dc\uc9c0\uc785\ub2c8\ub2e4. \uc0c1\ud669 \ubb18\uc0ac, NPC\uc758 \ub300\uc0ac, \uc774\ubca4\ud2b8 \ubc1c\uc0dd \ub4f1\uc744 \ud3ec\ud568\ud569\ub2c8\ub2e4.",\n          "playerUpdates": [\n            {\n              "userId": "\uc0c1\ud0dc\ub97c_\uc5c5\ub370\uc774\ud2b8\ud560_\ud50c\ub808\uc774\uc5b4\uc758_ID",\n              "updates": {\n                "name": "\uce90\ub9ad\ud130 \uc774\ub984",\n                "description": "\uce90\ub9ad\ud130\uc5d0 \ub300\ud55c \uc0c8\ub85c\uc6b4 \uc124\uba85",\n                "stats.\ud798": 11,\n                "inventory": ["\uac80", "\ubc29\ud328", "\uc0c8\ub85c\uc6b4 \uc544\uc774\ud15c"]\n              }\n            }\n          ]\n        }\n\n        ### \uce90\ub9ad\ud130 \uc0dd\uc131 \uaddc\uce59\n        - \uc0c8\ub85c\uc6b4 \ud50c\ub808\uc774\uc5b4\uac00 \uc785\uc7a5\ud558\uba74, \uadf8\ub97c \uc704\ud55c \ucd08\uae30 \uce90\ub9ad\ud130 \uc815\ubcf4\ub97c \uc0dd\uc131\ud558\uc5ec 'playerUpdates'\uc5d0 \ud3ec\ud568\uc2dc\ucf1c\uc8fc\uc138\uc694. \uc774\ub984, \uac04\ub2e8\ud55c \uc124\uba85, \uae30\ubcf8 \ub2a5\ub825\uce58\uc640 \uc544\uc774\ud15c\uc744 \ubd80\uc5ec\ud558\uc138\uc694.\n        - \ud658\uc601\uc758 \uc758\ubbf8\ub85c 'chatMessage'\ub97c \ud1b5\ud574 \uc0c8\ub85c\uc6b4 \ud50c\ub808\uc774\uc5b4\uc758 \ub4f1\uc7a5\uc744 \ub2e4\ub978 \ubaa8\ub450\uc5d0\uac8c \uc54c\ub824\uc8fc\uc138\uc694.\n    `;function Uv(){var e;const[t,n]=(0,i.useState)(null),[r,a]=(0,i.useState)(null),[o,s]=(0,i.useState)(!1),[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)(""),[h,p]=(0,i.useState)(""),[f,m]=(0,i.useState)([]),[g,y]=(0,i.useState)(null),[v,b]=(0,i.useState)(""),[w,_]=(0,i.useState)([]),[k,x]=(0,i.useState)(""),[S,T]=(0,i.useState)([]),[I,E]=(0,i.useState)(0),[A,C]=(0,i.useState)(!0),[N,P]=(0,i.useState)(!1),R=(0,i.useRef)(null),D=(0,i.useRef)(null),[O,L]=(0,i.useState)(null),[M,U]=(0,i.useState)(null),[j,F]=(0,i.useState)(!1),V=(0,i.useRef)(null),$=(0,i.useRef)(null),z=(0,i.useRef)(null),[q,B]=(0,i.useState)(""),H=(0,i.useRef)(null),[Q,W]=(0,i.useState)("groq");(0,i.useEffect)(()=>{let e=localStorage.getItem("text-adventure-user-id");e||(e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}),localStorage.setItem("text-adventure-user-id",e)),a({id:e});try{const e=$h(Xe(Dv));n(e),C(!1)}catch(t){console.error("Firebase initialization failed:",t),C(!1)}},[]),(0,i.useEffect)(()=>{if(!t)return;const e=Bp(xp(Oh(t,"worlds"),Ep("createdAt","desc")),e=>{m(e.docs.map(e=>({id:e.id,...e.data()})))});return()=>e()},[t]),(0,i.useEffect)(()=>{if(!t||!g)return _([]),T([]),void E(0);const e=g.id;if(!e)return void console.error("\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uc6d4\ub4dc ID:",g);console.log(`\uc6d4\ub4dc "${g.name}" (${e})\uc5d0 \uc5f0\uacb0 \uc911...`);const n=[];try{const r=Bp(Lh(t,"worlds",e),t=>{if(t.exists()){const n=t.data();y(t=>({...t,...n,id:e}))}else console.warn(`\uc6d4\ub4dc ${e}\uac00 \ub354 \uc774\uc0c1 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.`)},t=>{console.error(`\uc6d4\ub4dc ${e} \ub9ac\uc2a4\ub108 \uc624\ub958:`,t)});n.push(r);const i=Bp(xp(Oh(t,`worlds/${e}/messages`),Ep("timestamp")),e=>{const t=e.docs.map(e=>({id:e.id,...e.data(),isPending:!1}));_(e=>{const n=e.filter(e=>e.id.startsWith("temp-")&&!t.some(t=>t.text===e.text&&t.userId===e.userId));return[...t,...n]})},t=>{console.error(`\uba54\uc2dc\uc9c0 \ub9ac\uc2a4\ub108 \uc624\ub958 (\uc6d4\ub4dc ${e}):`,t)});n.push(i);const a=Bp(xp(Oh(t,`worlds/${e}/players`)),e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));T(t),E(e=>0===t.length?0:Math.min(e,t.length-1))},t=>{console.error(`\ud50c\ub808\uc774\uc5b4 \ub9ac\uc2a4\ub108 \uc624\ub958 (\uc6d4\ub4dc ${e}):`,t)});n.push(a)}catch(r){console.error("\ub9ac\uc2a4\ub108 \uc124\uc815 \uc911 \uc624\ub958:",r)}return()=>{console.log(`\uc6d4\ub4dc "${g.name}" (${e}) \uc5f0\uacb0 \ud574\uc81c \uc911...`),n.forEach(e=>{try{e()}catch(t){console.error("\uad6c\ub3c5 \ucde8\uc18c \uc911 \uc624\ub958:",t)}})}},[t,g&&g.id]),(0,i.useEffect)(()=>{var e;null===(e=R.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}),D.current&&D.current.focus()},[w]),(0,i.useEffect)(()=>{var e;null===(e=H.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[w]),(0,i.useEffect)(()=>{!g&&V.current&&V.current.focus()},[g]),(0,i.useEffect)(()=>{o&&$.current&&$.current.focus()},[o]);const G=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"llama3-70b-8192";return"huggingface"===Q?await(async(e,t)=>{const n={NODE_ENV:"production",PUBLIC_URL:"/jemini",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_HUGGING_FACE_TOKEN||"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",r={NODE_ENV:"production",PUBLIC_URL:"/jemini",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_HUGGING_FACE_MODEL||"gpt2";if(!n||n.length<10)return console.error("Hugging Face API \ud1a0\ud070\uc774 \uc124\uc815\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4."),{chatMessage:"[\uc2dc\uc2a4\ud15c \uc624\ub958: Hugging Face API \ud1a0\ud070\uc774 \uc124\uc815\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4. \uad00\ub9ac\uc790\uc5d0\uac8c \ubb38\uc758\ud558\uc138\uc694.]",playerUpdates:[]};const i=t?`${t}\n${e}`:e,a=new Dm(n),o={max_new_tokens:1024,return_full_text:!1,do_sample:!0,temperature:.7};try{const e=await a.textGeneration({model:r,inputs:i,parameters:o});if(!e||!e.generated_text)return console.error("Hugging Face API \uc751\ub2f5\uc5d0 \ud14d\uc2a4\ud2b8\uac00 \uc5c6\uc74c:",e),{chatMessage:"[\uc2dc\uc2a4\ud15c \uc624\ub958: Hugging Face API \uc751\ub2f5\uc5d0 \ud14d\uc2a4\ud2b8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4]",playerUpdates:[]};const t=e.generated_text;try{const e=t.replace(/```json/g,"").replace(/```/g,"").trim(),n=JSON.parse(e);return n.chatMessage||(n.chatMessage="\uc2dc\uc2a4\ud15c: \uc751\ub2f5\uc744 \ucc98\ub9ac\ud558\ub294 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),Array.isArray(n.playerUpdates)||(n.playerUpdates=[]),n}catch(s){return console.error("Hugging Face API \uc751\ub2f5 \ud30c\uc2f1 \uc624\ub958:",s,"\uc6d0\ubcf8 \ud14d\uc2a4\ud2b8:",t),{chatMessage:t.length>500?t.substring(0,500)+"...":t,playerUpdates:[]}}}catch(l){console.error("Hugging Face API \ud638\ucd9c \uc911 \uc624\ub958:",l);let n=`Hugging Face API \ud638\ucd9c \uc2e4\ud328: ${l.message}`;if(l.message&&l.message.includes("404")){n="\ubaa8\ub378\uc744 \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \ubaa8\ub378\uc774 Hugging Face Inference API\uc5d0\uc11c \uc81c\uac70\ub418\uc5c8\uac70\ub098 \uc811\uadfc\ud560 \uc218 \uc5c6\ub294 \uc0c1\ud0dc\uc785\ub2c8\ub2e4.",console.log("Hugging Face API 404 \uc5d0\ub7ec \ubc1c\uc0dd, Groq API\ub85c \uc790\ub3d9 \uc804\ud658 \uc2dc\ub3c4...");try{return await Lv(e,t,"llama3-70b-8192")}catch(c){console.error("Groq API \uc790\ub3d9 \uc804\ud658 \uc911 \uc624\ub958:",c)}}return l.message&&(l.message.includes("expired")||l.message.includes("Token")||l.message.includes("401"))&&(n="Hugging Face API \ud1a0\ud070\uc774 \ub9cc\ub8cc\ub418\uc5c8\uac70\ub098 \uc720\ud6a8\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \uc0c8\ub85c\uc6b4 \ud1a0\ud070\uc73c\ub85c \uad50\uccb4\uac00 \ud544\uc694\ud569\ub2c8\ub2e4."),{chatMessage:`[\uc2dc\uc2a4\ud15c \uc624\ub958: ${n}]`,playerUpdates:[]}}})(e,t):await Lv(e,t,n)},K=async()=>{if(t&&v.trim()){C(!0);try{const e=await qp(Oh(t,"worlds"),{name:v,createdAt:Kp(),systemPrompt:Mv(v),gameStarted:!0});y({id:e.id,name:v,systemPrompt:Mv(v),gameStarted:!0}),s(!0)}catch(e){console.error("\uc6d4\ub4dc \uc0dd\uc131 \uc624\ub958:",e)}finally{b(""),C(!1)}}},X=async()=>{if(t&&r&&g&&l.trim()&&u.trim()){p(""),C(!0);try{const i=xp(Oh(t,`worlds/${g.id}/players`),function(e,t,n){const r=t,i=bp("where",e);return Sp._create(i,r,n)}("nickname","==",l)),o=await Vp(i),c=r.id;if(o.empty)try{const n=Lh(t,`worlds/${g.id}/players`,c),r={id:c,nickname:l,password:u,name:l,description:"\uc0c8\ub85c\uc6b4 \ubaa8\ud5d8\uac00.",level:1,stats:{},inventory:[]};await $p(n,r);if(a({id:c,nickname:l}),s(!1),g.gameStarted){const t=Ov(w.slice(-20)),n=S.map(e=>JSON.stringify({id:e.id,...e})).join("\n"),r=`${O&&O.chatMessage?`\n[\uc774\uc804 \uc7a5\uba74 \uc694\uc57d]\n${O.chatMessage}\n`:""}[\uc911\uc694 \ucc44\ud305]\n${t}\n\n[\uae30\uc874 \ud50c\ub808\uc774\uc5b4]\n${n}\n\n[\uc0c8 \ud50c\ub808\uc774\uc5b4]\n\ub2c9\ub124\uc784: ${l}, ID: ${c}\n\n\uc0c8\ub85c\uc6b4 \ud50c\ub808\uc774\uc5b4\uac00 \uac8c\uc784\uc5d0 \uc785\uc7a5\ud588\uc2b5\ub2c8\ub2e4. \uc774 \uc778\ubb3c\uc744 \ud604\uc7ac \uc2dc\ub098\ub9ac\uc624\uc5d0 \uc790\uc5f0\uc2a4\ub7fd\uac8c \ub4f1\uc7a5\uc2dc\ud0a4\uace0, \uce90\ub9ad\ud130 \uc2dc\ud2b8(\uc774\ub984, \uc124\uba85, \ub2a5\ub825\uce58, \ucee8\uc149 \ub4f1)\ub97c \uc0dd\uc131\ud558\uc138\uc694. \ub4f1\uc7a5 \uc5f0\ucd9c\ub3c4 \ud3ec\ud568\ud558\uc138\uc694. \ubc18\ub4dc\uc2dc JSON\uc73c\ub85c\ub9cc \uc751\ub2f5\ud558\uc138\uc694.`;try{const e=await G(r,g.systemPrompt,"llama3-70b-8192");L(e),await Z(e)}catch(e){console.error("\uc2e0\uaddc \ud50c\ub808\uc774\uc5b4 \uc0dd\uc131 \uc911 LLM \ud638\ucd9c \uc624\ub958:",e)}}}catch(n){console.error("\ud50c\ub808\uc774\uc5b4 \uc0dd\uc131 \uc911 \uc624\ub958:",n),p("\ud50c\ub808\uc774\uc5b4 \uc0dd\uc131 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.")}else{const t=o.docs[0],n=t.data();if(n.password===u){const r={id:t.id,nickname:n.nickname};if(a(r),s(!1),g.gameStarted){const n=Ov(w.slice(-20)),r=S.map(e=>JSON.stringify({id:e.id,...e})).join("\n"),i=`${O&&O.chatMessage?`\n[\uc774\uc804 \uc7a5\uba74 \uc694\uc57d]\n${O.chatMessage}\n`:""}[\uc911\uc694 \ucc44\ud305]\n${n}\n\n[\uae30\uc874 \ud50c\ub808\uc774\uc5b4]\n${r}\n\n[\uc0c8 \ud50c\ub808\uc774\uc5b4]\n\ub2c9\ub124\uc784: ${l}, ID: ${t.id}\n\n\uc0c8\ub85c\uc6b4 \ud50c\ub808\uc774\uc5b4\uac00 \uac8c\uc784\uc5d0 \uc785\uc7a5\ud588\uc2b5\ub2c8\ub2e4. \uc774 \uc778\ubb3c\uc744 \ud604\uc7ac \uc2dc\ub098\ub9ac\uc624\uc5d0 \uc790\uc5f0\uc2a4\ub7fd\uac8c \ub4f1\uc7a5\uc2dc\ud0a4\uace0, \uce90\ub9ad\ud130 \uc2dc\ud2b8(\uc774\ub984, \uc124\uba85, \ub2a5\ub825\uce58, \ucee8\uc149 \ub4f1)\ub97c \uc0dd\uc131\ud558\uc138\uc694. \ub4f1\uc7a5 \uc5f0\ucd9c\ub3c4 \ud3ec\ud568\ud558\uc138\uc694. \ubc18\ub4dc\uc2dc JSON\uc73c\ub85c\ub9cc \uc751\ub2f5\ud558\uc138\uc694.`;try{const e=await G(i,g.systemPrompt,"llama3-70b-8192");L(e),await Z(e)}catch(e){console.error("\ub85c\uadf8\uc778 \uc911 LLM \ud638\ucd9c \uc624\ub958:",e)}}}else p("\ube44\ubc00\ubc88\ud638\uac00 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")}}catch(i){console.error("\ub85c\uadf8\uc778 \ucc98\ub9ac \uc911 \uc624\ub958:",i),p("\ub85c\uadf8\uc778 \ucc98\ub9ac \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.")}finally{C(!1)}}else p("\ub2c9\ub124\uc784\uacfc \ube44\ubc00\ubc88\ud638\ub97c \ubaa8\ub450 \uc785\ub825\ud574\uc57c \ud569\ub2c8\ub2e4.")},J=async()=>{if(!t||!r||!g||!k.trim())return;const e=k.trim();P(!0);try{const s=r.id,l=r.nickname,c="!\uc2dc\uc791!"===e,u={id:`temp-${Date.now()}`,userId:s,displayName:l,text:e,isSystemMessage:!1,timestamp:new Date,isPending:!0,type:"game"};_(e=>[...e,u]),x("");const d={userId:s,displayName:l,text:e,isSystemMessage:!1,timestamp:Kp(),type:"game"};try{await qp(Oh(t,`worlds/${g.id}/messages`),d)}catch(n){console.error("\uba54\uc2dc\uc9c0 \uc800\uc7a5 \uc911 \uc624\ub958:",n)}if(c&&!g.gameStarted)try{await $p(Lh(t,"worlds",g.id),{gameStarted:!0},{merge:!0});const e={userId:"SYSTEM",displayName:"\uc2dc\uc2a4\ud15c",text:`${l}\ub2d8\uc774 \uac8c\uc784\uc744 \uc2dc\uc791\ud588\uc2b5\ub2c8\ub2e4! \ubaa8\ud5d8\uc774 \uc2dc\uc791\ub429\ub2c8\ub2e4...`,isSystemMessage:!0,timestamp:Kp(),type:"game"};await qp(Oh(t,`worlds/${g.id}/messages`),e),y(e=>({...e,gameStarted:!0}))}catch(i){console.error("\uac8c\uc784 \uc2dc\uc791 \ucc98\ub9ac \uc911 \uc624\ub958:",i)}if(g.gameStarted||c)try{const t=Ov([...w,u].slice(-20)),n=function(e,t){return e.filter(e=>e.id===t||e.stats&&void 0!==e.stats.hp&&e.stats.hp<10)}(S,s),r=n.map(e=>JSON.stringify({id:e.id,...e})).join("\n"),i=O&&O.chatMessage?`\n[\uc774\uc804 \uc7a5\uba74 \uc694\uc57d]\n${O.chatMessage}\n`:"",a=c?`\uc0c8\ub85c\uc6b4 \ubaa8\ud5d8\uc774 \uc2dc\uc791\ub418\uc5c8\uc2b5\ub2c8\ub2e4! "${g.name}" \uc138\uacc4\uc5d0 \ub300\ud55c \uc18c\uac1c\uc640 \ud604\uc7ac \ud50c\ub808\uc774\uc5b4\ub4e4\uc774 \ucc98\ud55c \uc0c1\ud669\uc744 \uc124\uba85\ud574\uc8fc\uc138\uc694. \ud765\ubbf8\ub85c\uc6b4 \uc2dc\uc791\uc810\uc744 \ub9cc\ub4e4\uc5b4\uc8fc\uc138\uc694.`:`${i}[\uc911\uc694 \ucc44\ud305]\n${t}\n\n[\uad00\ub828 \ud50c\ub808\uc774\uc5b4]\n${r}\n\n[\uc720\uc800 \ud589\ub3d9]\n${l}: ${e}`,o=(e.length>30||e.includes("\uc7a5\uba74")||e.includes("\uc2a4\ud1a0\ub9ac"),"llama3-70b-8192"),d=await G(a,g.systemPrompt,o);L(d),await Z(d)}catch(a){console.error("LLM \ucc98\ub9ac \uc911 \uc624\ub958:",a);const e={userId:"SYSTEM",displayName:"\uc2dc\uc2a4\ud15c",text:"[\uc624\ub958: \uc751\ub2f5 \uc0dd\uc131 \uc911 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.]",isSystemMessage:!0,timestamp:Kp(),type:"game"};try{await qp(Oh(t,`worlds/${g.id}/messages`),e)}catch(o){console.error("\uc624\ub958 \uba54\uc2dc\uc9c0 \uc800\uc7a5 \uc2e4\ud328:",o)}}}catch(s){console.error("\uba54\uc2dc\uc9c0 \uc804\uc1a1 \uc911 \uc624\ub958:",s)}finally{P(!1)}},Y=async()=>{if(!t||!r||!g||!q.trim())return;const e={userId:r.id,displayName:r.nickname,text:q.trim(),isSystemMessage:!1,timestamp:Kp(),type:"free"};await qp(Oh(t,`worlds/${g.id}/messages`),e),B("")},Z=async e=>{var n;if(t&&g)try{if(!e||"object"!==typeof e)return void console.error("\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 LLM \uc751\ub2f5:",e);const i=(zh(n=Wi(n=t,Vh)),new Wp(n,e=>Hp(n,e)));let a=!1;if(e.chatMessage&&"string"===typeof e.chatMessage){const n={userId:"LLM",displayName:"",text:e.chatMessage,isSystemMessage:!0,timestamp:Kp(),type:"game"},r=Lh(Oh(t,`worlds/${g.id}/messages`));i.set(r,n),a=!0}else console.warn("LLM \uc751\ub2f5\uc5d0 \uc720\ud6a8\ud55c chatMessage\uac00 \uc5c6\uc2b5\ub2c8\ub2e4:",e);if(Array.isArray(e.playerUpdates)&&e.playerUpdates.length>0)for(const n of e.playerUpdates)if(n&&n.userId&&n.updates&&"object"===typeof n.updates)try{if((await jp(Lh(t,`worlds/${g.id}/players`,n.userId))).exists()){const e=Lh(t,`worlds/${g.id}/players`,n.userId),r=Object.entries(n.updates).filter(e=>{let[t,n]=e;return null!==n&&void 0!==n}).reduce((e,t)=>{let[n,r]=t;return e[n]=r,e},{});Object.keys(r).length>0&&(i.set(e,r,{merge:!0}),a=!0)}else console.warn(`\ud50c\ub808\uc774\uc5b4 ID ${n.userId}\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.`)}catch(r){console.error("\ud50c\ub808\uc774\uc5b4 \ud655\uc778 \uc911 \uc624\ub958:",r)}else console.warn("\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \ud50c\ub808\uc774\uc5b4 \uc5c5\ub370\uc774\ud2b8:",n);a?await i.commit():console.warn("\ucc98\ub9ac\ud560 \uc720\ud6a8\ud55c LLM \uc751\ub2f5\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.")}catch(i){console.error("LLM \uc751\ub2f5 \ucc98\ub9ac \uc911 \uc624\ub958:",i);try{const e={userId:"SYSTEM",displayName:"\uc2dc\uc2a4\ud15c",text:"[\uc624\ub958: \uc751\ub2f5 \ucc98\ub9ac \uc911 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.]",isSystemMessage:!0,timestamp:Kp(),type:"game"};await qp(Oh(t,`worlds/${g.id}/messages`),e)}catch(a){console.error("\uc624\ub958 \uba54\uc2dc\uc9c0 \uc800\uc7a5 \uc2e4\ud328:",a)}}};if(A)return(0,Rv.jsx)("div",{className:"loading-screen",children:"\ub85c\ub529 \uc911..."});if(g&&o)return(0,Rv.jsx)("div",{className:"modal-backdrop",children:(0,Rv.jsxs)("div",{className:"login-modal",children:[(0,Rv.jsxs)("h2",{children:[g.name,"\uc5d0 \uc785\uc7a5"]}),(0,Rv.jsx)("p",{children:"\ub2c9\ub124\uc784\uacfc \ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694."}),(0,Rv.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),onKeyDown:e=>{"Enter"===e.key&&l.trim()&&z.current&&z.current.focus()},placeholder:"\ub2c9\ub124\uc784",ref:$}),(0,Rv.jsx)("input",{type:"password",value:u,onChange:e=>d(e.target.value),onKeyDown:e=>"Enter"===e.key&&X(),placeholder:"\ube44\ubc00\ubc88\ud638",ref:z}),h&&(0,Rv.jsx)("p",{className:"error-text",children:h}),(0,Rv.jsxs)("div",{className:"modal-actions",children:[(0,Rv.jsx)("button",{onClick:X,disabled:A,children:A?"\uc785\uc7a5 \uc911...":"\uc785\uc7a5 / \ub4f1\ub85d"}),(0,Rv.jsx)("button",{onClick:()=>{y(null),s(!1)},disabled:A,children:"\ucde8\uc18c"})]})]})});if(!g)return(0,Rv.jsxs)("div",{className:"lobby",children:[(0,Rv.jsx)("h1",{children:"\ud14d\uc2a4\ud2b8 \uc5b4\ub4dc\ubca4\ucc98 \ub85c\ube44"}),(0,Rv.jsxs)("div",{style:{marginBottom:16},children:[(0,Rv.jsx)("label",{htmlFor:"llm-select",style:{marginRight:8},children:"LLM \uc120\ud0dd:"}),(0,Rv.jsxs)("select",{id:"llm-select",value:Q,onChange:e=>W(e.target.value),children:[(0,Rv.jsx)("option",{value:"groq",children:"Groq (llama3)"}),(0,Rv.jsx)("option",{value:"huggingface",children:"Hugging Face"})]})]}),(0,Rv.jsxs)("div",{className:"create-world",children:[(0,Rv.jsx)("input",{type:"text",value:v,onChange:e=>b(e.target.value),onKeyDown:e=>"Enter"===e.key&&K(),placeholder:"\uc0c8 \uc6d4\ub4dc \uc774\ub984 \uc785\ub825",ref:V}),(0,Rv.jsx)("button",{onClick:K,children:"\uc6d4\ub4dc \uc0dd\uc131"})]}),(0,Rv.jsx)("div",{className:"world-list",children:f.map(e=>(0,Rv.jsxs)("div",{className:"world-item",children:[(0,Rv.jsx)("span",{children:e.name}),(0,Rv.jsx)("button",{onClick:()=>(e=>{y(e),s(!0)})(e),children:"\uc785\uc7a5"}),(0,Rv.jsx)("button",{style:{marginLeft:8,background:"#f04747"},onClick:()=>U(e),disabled:j,children:"\uc0ad\uc81c"})]},e.id))}),M&&(0,Rv.jsx)("div",{className:"modal-backdrop",children:(0,Rv.jsxs)("div",{className:"login-modal",children:[(0,Rv.jsx)("h2",{children:"\uc6d4\ub4dc \uc0ad\uc81c"}),(0,Rv.jsxs)("p",{children:['\uc815\ub9d0\ub85c "',M.name,'" \uc6d4\ub4dc\ub97c \uc644\uc804\ud788 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?',(0,Rv.jsx)("br",{}),"(\uad00\ub828 \ubaa8\ub4e0 \ub370\uc774\ud130\uac00 \uc601\uad6c\ud788 \uc0ad\uc81c\ub429\ub2c8\ub2e4)"]}),(0,Rv.jsxs)("div",{className:"modal-actions",children:[(0,Rv.jsx)("button",{onClick:()=>(async e=>{if(t&&e){F(!0);try{const n=Oh(t,`worlds/${e.id}/messages`),r=await Vp(n);for(const e of r.docs)await zp(e.ref);const i=Oh(t,`worlds/${e.id}/players`),a=await Vp(i);for(const e of a.docs)await zp(e.ref);await zp(Lh(t,"worlds",e.id)),U(null)}catch(n){alert("\uc6d4\ub4dc \uc0ad\uc81c \uc911 \uc624\ub958 \ubc1c\uc0dd: "+n.message)}F(!1)}})(M),disabled:j,style:{background:"#f04747"},children:j?"\uc0ad\uc81c \uc911...":"\uc644\uc804 \uc0ad\uc81c"}),(0,Rv.jsx)("button",{onClick:()=>U(null),disabled:j,children:"\ucde8\uc18c"})]})]})})]});const ee=S[I];return(0,Rv.jsxs)("div",{className:"app-container",children:[(0,Rv.jsxs)("div",{className:"game-area",children:[(0,Rv.jsxs)("div",{className:"chat-window",children:[w.filter(e=>e.isSystemMessage||"game"===e.type).map(e=>(0,Rv.jsxs)("div",{className:`message ${e.isSystemMessage?"system":"user"} ${e.userId===(null===r||void 0===r?void 0:r.id)?"mine":""} ${e.isPending?"pending":""}`,children:[!e.isSystemMessage&&(0,Rv.jsx)("span",{className:"display-name",children:e.displayName||"\uc54c \uc218 \uc5c6\uc74c"}),(0,Rv.jsx)("p",{className:"text",children:e.text})]},e.id)),!g.gameStarted&&(0,Rv.jsxs)("div",{className:"system-info",children:[(0,Rv.jsxs)("p",{children:["\ud658\uc601\ud569\ub2c8\ub2e4 ",g.name,". \uac8c\uc784\uc774 \uc544\uc9c1 \uc2dc\uc791\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4. \uc790\uc720\ub86d\uac8c \ucc44\ud305\ud558\uc138\uc694."]}),(0,Rv.jsxs)("p",{children:["\ubaa8\ud5d8\uc744 \uc2dc\uc791\ud558\ub824\uba74 ",(0,Rv.jsx)("strong",{children:"!\uc2dc\uc791!"}),"\uc744 \uc785\ub825\ud558\uc138\uc694!"]})]}),(0,Rv.jsx)("div",{ref:R})]}),(0,Rv.jsxs)("div",{className:"chat-input",children:[(0,Rv.jsx)("input",{type:"text",value:k,onChange:e=>x(e.target.value),onKeyDown:e=>"Enter"===e.key&&!N&&J(),placeholder:"\ubb34\uc5c7\uc744 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c? \uc2dc\uc791\ud558\ub824\uba74 !\uc2dc\uc791!\uc744 \uc785\ub825\ud558\uc138\uc694...",disabled:N,ref:D}),(0,Rv.jsx)("button",{onClick:J,disabled:N,children:N?"...":"\uc804\uc1a1"})]})]}),(0,Rv.jsxs)("div",{className:"sidebar",children:[(0,Rv.jsxs)("div",{className:"character-sheet",children:[(0,Rv.jsxs)("div",{className:"sheet-header",children:[(0,Rv.jsx)("button",{onClick:()=>E(e=>(e-1+S.length)%S.length),disabled:S.length<2,children:"\u25c0"}),(0,Rv.jsx)("h2",{children:"\uc778\ubb3c\uc815\ubcf4"}),(0,Rv.jsx)("button",{onClick:()=>E(e=>(e+1)%S.length),disabled:S.length<2,children:"\u25b6"})]}),ee?(0,Rv.jsxs)("div",{children:[(0,Rv.jsxs)("p",{children:[(0,Rv.jsx)("strong",{children:"\uc774\ub984:"})," ",ee.name," ",ee.id===r.id&&"(\ub098\uc758 \uc815\ubcf4)"]}),(0,Rv.jsxs)("p",{children:[(0,Rv.jsx)("strong",{children:"\uc124\uba85:"})," ",ee.description]}),(0,Rv.jsxs)("p",{children:[(0,Rv.jsx)("strong",{children:"\ub808\ubca8:"})," ",ee.level]}),(0,Rv.jsxs)("p",{children:[(0,Rv.jsx)("strong",{children:"\ub2a5\ub825\uce58:"})," ",JSON.stringify(ee.stats)]}),(0,Rv.jsxs)("p",{children:[(0,Rv.jsx)("strong",{children:"\uc778\ubca4\ud1a0\ub9ac:"})," ",null===(e=ee.inventory)||void 0===e?void 0:e.join(", ")]})]}):(0,Rv.jsx)("p",{children:"\ud50c\ub808\uc774\uc5b4 \ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. \ub204\uad70\uac00 !\uc2dc\uc791!\uc744 \uc785\ub825\ud558\uba74 \uac8c\uc784\uc774 \uc2dc\uc791\ub429\ub2c8\ub2e4."})]}),(0,Rv.jsxs)("div",{className:"player-list",children:[(0,Rv.jsx)("h2",{children:"\ud50c\ub808\uc774\uc5b4 \ubaa9\ub85d"}),(0,Rv.jsx)("ul",{children:S.map(e=>(0,Rv.jsx)("li",{children:e.nickname||e.id},e.id))})]}),(0,Rv.jsxs)("div",{className:"free-chat-section",children:[(0,Rv.jsx)("h2",{children:"\uc77c\ubc18 \ucc44\ud305"}),(0,Rv.jsxs)("div",{className:"free-chat-window",children:[w.filter(e=>"free"===e.type||!e.type&&!e.isSystemMessage&&(!g.gameStarted||!e.text.startsWith("!"))).map(e=>(0,Rv.jsxs)("div",{className:"free-message "+(e.userId===(null===r||void 0===r?void 0:r.id)?"mine":""),children:[(0,Rv.jsx)("span",{className:"display-name",children:e.displayName||"\uc54c \uc218 \uc5c6\uc74c"}),(0,Rv.jsx)("span",{className:"text",children:e.text})]},e.id)),(0,Rv.jsx)("div",{ref:H})]}),(0,Rv.jsxs)("div",{className:"free-chat-input",children:[(0,Rv.jsx)("input",{type:"text",value:q,onChange:e=>B(e.target.value),onKeyDown:e=>"Enter"===e.key&&Y(),placeholder:"\uc790\uc720\ub86d\uac8c \ub300\ud654\ud558\uc138\uc694..."}),(0,Rv.jsx)("button",{onClick:Y,children:"\uc804\uc1a1"})]})]}),(0,Rv.jsx)("button",{className:"back-to-lobby",onClick:()=>y(null),children:"\ub85c\ube44\ub85c \ub3cc\uc544\uac00\uae30"})]})]})}const jv=()=>(0,Rv.jsx)("style",{children:"\n        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap');\n\n        body {\n            font-family: 'Noto Sans KR', sans-serif;\n            background-color: #1a1a1d;\n            color: #f5f5f5;\n            margin: 0;\n            padding: 0;\n        }\n\n        .loading-screen {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 100vh;\n            font-size: 2rem;\n        }\n\n        .lobby {\n            max-width: 600px;\n            margin: 50px auto;\n            padding: 20px;\n            background-color: #2c2f33;\n            border-radius: 8px;\n        }\n\n        .lobby h1 { text-align: center; color: #7289da; }\n        .create-world, .world-item { display: flex; justify-content: space-between; margin-bottom: 10px; }\n        .create-world input, .world-item span { flex-grow: 1; margin-right: 10px; }\n        input { padding: 10px; border-radius: 4px; border: 1px solid #4f545c; background-color: #40444b; color: #f5f5f5; }\n        button { padding: 10px 15px; border: none; border-radius: 4px; background-color: #7289da; color: white; cursor: pointer; }\n        button:hover { background-color: #677bc4; }\n        button:disabled { background-color: #5a68a5; cursor: not-allowed; }\n\n        .app-container {\n            display: flex;\n            height: 100vh;\n            min-width: 0;\n        }\n\n        .game-area {\n            flex-grow: 1;\n            display: flex;\n            flex-direction: column;\n            padding: 20px;\n            min-width: 0;\n        }\n\n        .chat-window {\n            flex-grow: 1;\n            overflow-y: auto;\n            background-color: #2c2f33;\n            padding: 15px;\n            border-radius: 8px;\n            margin-bottom: 15px;\n            min-height: 0;\n            /* height: calc(100vh - 120px); // \ud544\uc694\uc2dc \uc720\uc9c0 */\n        }\n\n        .message { margin-bottom: 12px; }\n        .message .display-name { font-weight: bold; font-size: 0.9rem; color: #99aab5; }\n        .message.mine .display-name { color: #7289da; }\n        .message.system .display-name { color: #f0b90b; }\n        .message .text { margin: 4px 0 0 0; line-height: 1.4; }\n        .message.system .text { font-style: italic; color: #f5f5f5; }\n\n        .chat-input { display: flex; }\n        .chat-input input { flex-grow: 1; margin-right: 10px; }\n\n        .sidebar {\n            width: 300px;\n            background-color: #23272a;\n            padding: 20px;\n            overflow-y: auto;\n            min-width: 300px;\n            max-width: 300px;\n        }\n\n        .character-sheet {\n            background-color: #2c2f33;\n            padding: 15px;\n            border-radius: 8px;\n            margin-bottom: 20px;\n            max-height: 300px;\n            overflow-y: auto;\n            width: 100%;\n            min-width: 0;\n        }\n\n        .sidebar h2 { margin-top: 0; color: #7289da; border-bottom: 1px solid #4f545c; padding-bottom: 10px; }\n        .character-sheet p { margin: 5px 0; font-size: 0.9rem; }\n        .character-sheet p strong { color: #99aab5; }\n        .player-list ul { list-style: none; padding: 0; }\n        .player-list li { padding: 5px 0; }\n\n        /* New Styles */\n        .modal-backdrop { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.7); display: flex; justify-content: center; align-items: center; }\n        .login-modal { background-color: #2c2f33; padding: 25px; border-radius: 8px; width: 90%; max-width: 400px; }\n        .login-modal h2 { margin-top: 0; }\n        .login-modal input { width: calc(100% - 22px); margin-bottom: 10px; }\n        .modal-actions { display: flex; justify-content: flex-end; gap: 10px; margin-top: 20px; }\n        .error-text { color: #f04747; font-size: 0.9rem; }\n        .sheet-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }\n        .sheet-header h2 { margin: 0; padding: 0; border: none; }\n        .system-info { text-align: center; padding: 20px; margin: 10px; background-color: #23272a; border-radius: 8px; }\n        .system-info p { margin: 5px 0; }\n        .back-to-lobby { width: 100%; margin-top: 20px; background-color: #4f545c; }\n        .message.system {\n            background: rgba(255, 230, 120, 0.18);\n            border-left: 5px solid #f0b90b;\n            color: #ffe066;\n            font-style: italic;\n            font-weight: 600;\n            padding: 10px 16px;\n            margin: 10px 0;\n            border-radius: 6px;\n            box-shadow: 0 1px 4px 0 rgba(240,185,11,0.08);\n            position: relative;\n        }\n        .message.system .text::before {\n            /* content: \"\u2605 \uc2dc\uc2a4\ud15c\"; */\n            color: #f0b90b;\n            font-size: 0.85em;\n            font-weight: bold;\n            margin-right: 8px;\n            letter-spacing: 1px;\n        }\n        .message.user {\n            background: rgba(60, 60, 80, 0.18);\n            border-radius: 6px;\n            padding: 8px 12px;\n            margin: 8px 0;\n        }\n\n        /* ======================================================================= */\n        /* <<< \u2728 \ucd94\uac00\ub41c CSS \uc2a4\ud0c0\uc77c \u2728 >>>                                         */\n        /* ======================================================================= */\n        .message.pending {\n            opacity: 0.6;\n        }\n\n        /*\n        .free-chat-section { margin-top: 30px; }\n        .free-chat-window {\n          background: #23272a;\n          border-radius: 8px;\n          padding: 10px;\n          height: 180px;\n          overflow-y: auto;\n          margin-bottom: 8px;\n        }\n        .free-message { margin-bottom: 8px; font-size: 0.95em; }\n        .free-message .display-name { color: #99aab5; font-weight: bold; margin-right: 6px; }\n        .free-message.mine .display-name { color: #7289da; }\n        .free-chat-input { display: flex; }\n        .free-chat-input input { flex: 1; margin-right: 8px; }\n        */\n\n    "});const Fv=function(){return(0,Rv.jsxs)(Rv.Fragment,{children:[(0,Rv.jsx)(jv,{}),(0,Rv.jsx)(Uv,{})]})};a.createRoot(document.getElementById("root")).render((0,Rv.jsx)(i.StrictMode,{children:(0,Rv.jsx)(Fv,{})}))})();
//# sourceMappingURL=main.c984bc61.js.map